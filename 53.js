var Cu=Object.defineProperty,Ou=(Mi,ce,D)=>ce in Mi?Cu(Mi,ce,{enumerable:!0,configurable:!0,writable:!0,value:D}):Mi[ce]=D,I=(Mi,ce,D)=>(Ou(Mi,"symbol"!=typeof ce?ce+"":ce,D),D);(self.webpackChunkargon_dashboard_angular=self.webpackChunkargon_dashboard_angular||[]).push([[53],{3053:(Mi,ce,D)=>{"use strict";D.r(ce),D.d(ce,{AdminLayoutModule:()=>Su});var ue=D(529),ut=D(646),Pe=D(6895),_t=D(433),_=D(8256),et=D(4004);let Ls=(()=>{class n{constructor(e){this.http=e,this.baseUrl="https://zhhrbj49-8000.brs.devtunnels.ms",this.endpoint=`${this.baseUrl}/stats`}fetchStats(){let e=new ue.LE;return this.http.get(this.endpoint,{params:e}).pipe((0,et.U)(s=>Array.isArray(s)?s:[]))}}return n.\u0275fac=function(e){return new(e||n)(_.LFG(ue.eN))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ne=D(8407),Mt=D(5963),de=D(3900);let Cn=(()=>{class n{constructor(e){this.http=e,this.API_URL="https://zhhrbj49-8000.brs.devtunnels.ms/"}getDetections(){return this.http.get(this.API_URL+"pontos").pipe((0,et.U)(e=>e?.data??[]))}}return n.\u0275fac=function(e){return new(e||n)(_.LFG(ue.eN))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),je=(()=>{class n{constructor(e){this.service=e,this.title="Mapa de Degrada\xe7\xe3o Urbana",this.center=[-8.762,-63.9039],this.zoom=13,this.refreshMs=0,this.addNew=new _.vpe,this.pointsLayer=ne.layerGroup(),this.alertIcon=ne.divIcon({className:"custom-marker",html:'\n      <div style="\n        width: 28px; height: 28px;\n        background: linear-gradient(135deg, #da5d5dff, #f00000ff);\n        border-radius: 50%;\n        border: 2px solid #fff;\n        box-shadow: 0 0 10px rgba(0,0,0,0.2);\n        display: flex; align-items: center; justify-content: center;\n        color: white; font-size: 16px; font-weight: bold;\n      ">!</div>\n    ',iconSize:[28,28],iconAnchor:[14,28],popupAnchor:[0,-24]}),this.handleResize=()=>{this.map?.invalidateSize()}}ngAfterViewInit(){this.map=ne.map("udm-map",{center:this.center,zoom:this.zoom,zoomControl:!0,preferCanvas:!0}),ne.Icon.Default.mergeOptions({iconRetinaUrl:"assets/leaflet/marker-icon-2x.png",iconUrl:"assets/leaflet/marker-icon.png",shadowUrl:"assets/leaflet/marker-shadow.png"}),ne.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:20,attribution:"&copy; OpenStreetMap"}).addTo(this.map),this.pointsLayer.addTo(this.map),setTimeout(()=>this.map?.invalidateSize(),0),window.addEventListener("resize",this.handleResize,!1),this.loadPoints(),this.refreshMs&&this.refreshMs>0&&(this.autoRefreshSub=(0,Mt.H)(this.refreshMs,this.refreshMs).pipe((0,de.w)(()=>this.service.getDetections())).subscribe({next:e=>this.plot(e),error:e=>console.error("Erro no auto refresh:",e)}))}loadPoints(){this.service.getDetections().subscribe({next:e=>{console.log("Itens recebidos:",e),this.plot(e)},error:e=>console.error("Erro ao carregar detec\xe7\xf5es:",e)})}plot(e){this.pointsLayer.clearLayers();const s=ne.latLngBounds([]);if(!e||0===e.length)return;const o=new Map;for(const a of e){const l=`${a.lat.toFixed(6)}_${a.long.toFixed(6)}`,c=o.get(l);c?c.push(a):o.set(l,[a])}for(const[,a]of o)if(1===a.length)this.addMarker(a[0].lat,a[0].long,a[0],s);else{const l=a.length,c=8;for(let u=0;u<l;u++){const f=2*Math.PI*u/l,p=c*Math.cos(f),m=c*Math.sin(f),[v,x]=this.offsetByMeters(a[0].lat,a[0].long,p,m);this.addMarker(v,x,a[u],s)}}s.isValid()&&this.map.fitBounds(s.pad(.2))}offsetByMeters(e,s,o,a){return[e+a/6378137*(180/Math.PI),s+o/(6378137*Math.cos(e*Math.PI/180))*(180/Math.PI)]}addMarker(e,s,o,a){const l=ne.circleMarker([e,s],{radius:8,color:this.colorForTipo(o.tipo?.[0]),weight:2,opacity:1,fillOpacity:.85}),c=this.formatLocalDate(o.data),u=`\n    <div style="min-width:220px">\n      <div style="font-weight:600;margin-bottom:4px">ID: ${o.id}</div>\n      <div style="font-size:12px;margin-bottom:6px">\n        <div><b>Data:</b> ${c}</div>\n        <div><b>Lat/Lng:</b> ${o.lat.toFixed(6)}, ${o.long.toFixed(6)}</div>\n        <div><b>Tipo:</b> ${o.tipo?.join(", ")||"-"}</div>\n      </div>\n      <a href="${o.url_image}" target="_blank" rel="noopener">\n        <img src="${o.url_image}" alt="detec\xe7\xe3o ${o.id}" style="width:100%;border-radius:8px;display:block"/>\n      </a>\n    </div>\n  `;l.bindPopup(u,{maxWidth:360}),l.addTo(this.pointsLayer),a.extend([e,s])}colorForTipo(e){return e&&{5:"#1f77b4",17:"#d62728",1:"#2ca02c",2:"#ff7f0e",3:"#9467bd"}[e]||"#333333"}formatLocalDate(e){try{return new Date(e).toLocaleString("pt-BR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return e}}resetView(){this.map?.setView(this.center,this.zoom)}onAddNewClick(){this.addNew.emit()}ngOnDestroy(){window.removeEventListener("resize",this.handleResize,!1),this.map?.remove(),this.autoRefreshSub?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(Cn))},n.\u0275cmp=_.Xpm({type:n,selectors:[["app-urban-degradation-map"]],inputs:{title:"title",center:"center",zoom:"zoom",refreshMs:"refreshMs"},outputs:{addNew:"addNew"},decls:11,vars:1,consts:[[1,"card","shadow","border-0"],[1,"card-header","d-flex","align-items-center","justify-content-between"],[1,"mb-0"],[1,"card-actions"],[1,"btn","btn-sm","btn-ocean",3,"click"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"card-body","p-0"],["id","udm-map",1,"udm-map"]],template:function(e,s){1&e&&(_.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),_._uU(3),_.qZA(),_.TgZ(4,"div",3)(5,"button",4),_.NdJ("click",function(){return s.onAddNewClick()}),_._uU(6," + Adicionar novo "),_.qZA(),_.TgZ(7,"button",5),_.NdJ("click",function(){return s.resetView()}),_._uU(8," Resetar visualiza\xe7\xe3o "),_.qZA()()(),_.TgZ(9,"div",6),_._UZ(10,"div",7),_.qZA()()),2&e&&(_.xp6(3),_.Oqu(s.title))},styles:[".udm-map[_ngcontent-%COMP%]{width:100%;height:clamp(320px,48vh,640px);border-radius:0 0 .75rem .75rem;overflow:hidden}.card-header[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid rgba(0,0,0,.05)}.card-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:.5rem}.btn-ocean[_ngcontent-%COMP%]{background:#00aaff;color:#fff;border:none}.btn-ocean[_ngcontent-%COMP%]:hover{background:#0090ff 0%;transform:translateY(-1px);box-shadow:0 4px 10px #00afff4d}.btn-ocean[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}"]}),n})(),vt=(()=>{class n{constructor(e){this.http=e,this.API_URL="https://zhhrbj49-8000.brs.devtunnels.ms/"}uploadZip(e){const s=new FormData;s.append("file",e,e.name);const o=new ue.aW("POST",this.API_URL,s,{reportProgress:!0});return this.http.request(o)}}return n.\u0275fac=function(e){return new(e||n)(_.LFG(ue.eN))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var On=D(7494);function Ko(n,t){1&n&&(_.TgZ(0,"div",11),_._uU(1," Arraste um "),_.TgZ(2,"strong"),_._uU(3,".zip"),_.qZA(),_._uU(4," aqui"),_._UZ(5,"br"),_._uU(6," ou use o bot\xe3o abaixo "),_.qZA())}function Ss(n,t){if(1&n&&(_.TgZ(0,"div",11),_._uU(1," Arquivo pronto para envio:"),_._UZ(2,"br"),_.TgZ(3,"strong"),_._uU(4),_.qZA()()),2&n){const e=_.oxw(2);_.xp6(4),_.Oqu(e.fileName)}}function se(n,t){if(1&n){const e=_.EpF();_.TgZ(0,"button",12),_.NdJ("click",function(o){_.CHM(e);const a=_.oxw().openFileSelector;return _.KtG(a(o))}),_._uU(1," Selecionar .zip "),_.qZA()}}function An(n,t){if(1&n){const e=_.EpF();_.TgZ(0,"button",13),_.NdJ("click",function(){_.CHM(e);const o=_.oxw(2);return _.KtG(o.upload())}),_._uU(1," Enviar "),_.qZA()}}function Qi(n,t){if(1&n&&(_.TgZ(0,"div",6)(1,"div",7),_._uU(2,"\u{1f4e6}"),_.qZA(),_.YNc(3,Ko,7,0,"div",8),_.YNc(4,Ss,5,1,"div",8),_.YNc(5,se,2,0,"button",9),_.YNc(6,An,2,0,"button",10),_.qZA()),2&n){const e=_.oxw();_.xp6(3),_.Q6J("ngIf",!e.file),_.xp6(1),_.Q6J("ngIf",e.file),_.xp6(1),_.Q6J("ngIf",!e.file),_.xp6(1),_.Q6J("ngIf",e.file&&!e.uploading)}}function Dn(n,t){if(1&n){const e=_.EpF();_.TgZ(0,"div",17)(1,"div")(2,"strong"),_._uU(3),_.qZA(),_.TgZ(4,"div",18),_._uU(5),_.qZA()(),_.TgZ(6,"button",19),_.NdJ("click",function(){_.CHM(e);const o=_.oxw(2);return _.KtG(o.removeFile())}),_._uU(7,"remover"),_.qZA()()}if(2&n){const e=_.oxw(2);_.xp6(3),_.Oqu(e.fileName),_.xp6(2),_.hij("",e.fileSizeMB," MB"),_.xp6(1),_.Q6J("disabled",e.uploading)}}function Cs(n,t){if(1&n&&(_.TgZ(0,"div",20),_._uU(1),_.qZA()),2&n){const e=_.oxw(2);_.xp6(1),_.Oqu(e.errorMsg)}}function Os(n,t){if(1&n&&(_.TgZ(0,"div",14),_.YNc(1,Dn,8,3,"div",15),_.YNc(2,Cs,2,1,"div",16),_.qZA()),2&n){const e=_.oxw();_.xp6(1),_.Q6J("ngIf",e.file),_.xp6(1),_.Q6J("ngIf",e.errorMsg)}}function zn(n,t){if(1&n&&(_.TgZ(0,"div",21),_._UZ(1,"div",22),_.TgZ(2,"div",23),_._uU(3),_.qZA()()),2&n){const e=_.oxw();_.xp6(1),_.Udp("width",e.progress,"%"),_.xp6(2),_.hij("",e.progress,"%")}}const As=function(n){return{over:n}};let Ht=(()=>{class n{constructor(e){this.uploadService=e,this.isOver=!1,this.uploading=!1,this.progress=0,this.file=null,this.errorMsg=""}get fileName(){return this.file?.name??""}get fileSizeMB(){return this.file?(this.file.size/1048576).toFixed(2):"0.00"}handleDrop(e){this.clearError(),this.file=null;const s=e.find(o=>o.fileEntry.isFile)?.fileEntry;s?s.file(o=>this.trySetFile(o)):this.errorMsg="Envie apenas 1 arquivo .zip (diret\xf3rios n\xe3o s\xe3o suportados)."}removeFile(){this.file=null,this.progress=0,this.uploading=!1,this.clearError()}upload(){!this.file||this.uploading||(this.uploading=!0,this.progress=0,this.clearError(),this.uploadService.uploadZip(this.file).subscribe({next:e=>{e.type===ue.dt.UploadProgress&&e.total?this.progress=Math.round(100*e.loaded/e.total):e.type===ue.dt.Response&&(this.uploading=!1,this.progress=100,console.log("Upload conclu\xeddo:",e.body))},error:e=>{this.uploading=!1,this.errorMsg=e.error?.error||"Erro no upload"}}))}trySetFile(e){const s=e.name.toLowerCase().endsWith(".zip"),o=this.isZipMime(e.type);s||o?(this.file=e,this.progress=0,this.uploading=!1):this.errorMsg="Apenas arquivos .zip s\xe3o aceitos."}isZipMime(e){return!!e&&("application/zip"===e||"application/x-zip-compressed"===e||"multipart/x-zip"===e||"application/octet-stream"===e)}clearError(){this.errorMsg=""}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(vt))},n.\u0275cmp=_.Xpm({type:n,selectors:[["app-zip-uploader"]],decls:6,vars:9,consts:[[1,"uploader"],[1,"drop-wrap"],[3,"dropZoneLabel","accept","multiple","showBrowseBtn","ngClass","onFileDrop","onFileOver","onFileLeave"],["ngx-file-drop-content-tmp",""],["class","info",4,"ngIf"],["class","progress",4,"ngIf"],[1,"drop-content"],[1,"icon"],["class","text",4,"ngIf"],["type","button","class","btn",3,"click",4,"ngIf"],["type","button","class","btn send",3,"click",4,"ngIf"],[1,"text"],["type","button",1,"btn",3,"click"],["type","button",1,"btn","send",3,"click"],[1,"info"],["class","file",4,"ngIf"],["class","error",4,"ngIf"],[1,"file"],[1,"muted"],[1,"link",3,"disabled","click"],[1,"error"],[1,"progress"],[1,"bar"],[1,"percent"]],template:function(e,s){1&e&&(_.TgZ(0,"div",0)(1,"div",1)(2,"ngx-file-drop",2),_.NdJ("onFileDrop",function(a){return s.handleDrop(a)})("onFileOver",function(){return s.isOver=!0})("onFileLeave",function(){return s.isOver=!1}),_.YNc(3,Qi,7,4,"ng-template",3),_.qZA(),_.YNc(4,Os,3,2,"div",4),_.YNc(5,zn,4,3,"div",5),_.qZA()()),2&e&&(_.xp6(2),_.Q6J("dropZoneLabel"," ")("accept",".zip")("multiple",!1)("showBrowseBtn",!1)("ngClass",_.VKq(7,As,s.isOver)),_.xp6(2),_.Q6J("ngIf",s.file||s.errorMsg),_.xp6(1),_.Q6J("ngIf",s.uploading||s.progress>0))},dependencies:[Pe.mk,Pe.O5,On.CB,On.L9],styles:['@charset "UTF-8";.uploader[_ngcontent-%COMP%]{width:100%;padding:12px 0;display:flex;justify-content:center}.drop-wrap[_ngcontent-%COMP%]{width:100%;max-width:360px;margin:0 16px;font-family:Inter,Segoe UI,sans-serif}  ngx-file-drop{display:flex;align-items:center;justify-content:center;width:100%;height:320px;border:2px dashed #4b9cff;border-radius:16px;background-color:#f8faff;transition:all .25s ease;cursor:pointer;text-align:center;position:relative}  ngx-file-drop:hover{border-color:#0078ff;background-color:#ebf4ff;box-shadow:0 0 0 4px #0078ff1a}  ngx-file-drop.over{transform:scale(1.02);box-shadow:0 8px 24px #0078ff2e}  ngx-file-drop a,   .ngx-file-drop__browse{display:none!important}  .ngx-file-drop__drop-zone{display:flex;align-items:center;justify-content:center;height:100%!important;width:100%!important;border:none!important}.drop-content[_ngcontent-%COMP%]{width:100%;height:100%;padding:20px;display:flex;flex-direction:column;align-items:center;justify-content:center}  .icon{font-size:58px;width:auto;height:auto;opacity:.75}  ngx-file-drop.over .icon{opacity:1;filter:drop-shadow(0 0 8px rgba(0,120,255,.4))}.text[_ngcontent-%COMP%]{text-align:center;line-height:1.4;font-size:14px;margin-bottom:10px}.text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#0078ff}.btn[_ngcontent-%COMP%]{margin-top:8px;padding:10px 14px;border-radius:10px;border:1px solid #0078ff;background:#0078ff;color:#fff;font-weight:600;font-size:14px;cursor:pointer;transition:transform .05s ease,box-shadow .2s ease,background .2s ease}.btn[_ngcontent-%COMP%]:hover{background:#0062d1;box-shadow:0 4px 14px #0078ff40}.btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.btn.send[_ngcontent-%COMP%]{background:#22c55e;border-color:#16a34a}.btn.send[_ngcontent-%COMP%]:hover{background:#16a34a;box-shadow:0 4px 14px #16a34a40}.info[_ngcontent-%COMP%]{margin-top:16px;font-size:14px}.file[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#eef4ff;border-radius:8px;padding:8px 12px;border:1px solid #cfe1ff}.file[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1e3a8a;font-weight:600}.file[_ngcontent-%COMP%]   .muted[_ngcontent-%COMP%]{color:#6b7280;font-size:12px}button.link[_ngcontent-%COMP%]{background:none;border:none;color:#0078ff;cursor:pointer;font-size:13px}button.link[_ngcontent-%COMP%]:hover:not(:disabled){text-decoration:underline}.progress[_ngcontent-%COMP%]{width:100%;margin-top:16px;height:10px;background-color:#e5e7eb;border-radius:6px;position:relative;overflow:hidden}.progress[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{height:100%;background-color:#0078ff;width:0;border-radius:6px;transition:width .3s ease}.progress[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{position:absolute;top:-22px;right:0;font-size:12px;color:#374151}']}),n})();function Et(n){return n+.5|0}const Me=(n,t,e)=>Math.max(Math.min(n,e),t);function Yt(n){return Me(Et(2.55*n),0,255)}function Lt(n){return Me(Et(255*n),0,255)}function $t(n){return Me(Et(n/2.55)/100,0,1)}function j(n){return Me(Et(100*n),0,100)}const Gt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},V=[..."0123456789ABCDEF"],xt=n=>V[15&n],Vt=n=>V[(240&n)>>4]+V[15&n],It=n=>(240&n)>>4==(15&n);const Ie=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function En(n,t,e){const s=t*Math.min(e,1-e),o=(a,l=(a+n/30)%12)=>e-s*Math.max(Math.min(l-3,9-l,1),-1);return[o(0),o(8),o(4)]}function In(n,t,e){const s=(o,a=(o+n/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[s(5),s(3),s(1)]}function Rn(n,t,e){const s=En(n,1,.5);let o;for(t+e>1&&(o=1/(t+e),t*=o,e*=o),o=0;o<3;o++)s[o]*=1-t-e,s[o]+=t;return s}function Ti(n){const e=n.r/255,s=n.g/255,o=n.b/255,a=Math.max(e,s,o),l=Math.min(e,s,o),c=(a+l)/2;let u,f,p;return a!==l&&(p=a-l,f=c>.5?p/(2-a-l):p/(a+l),u=function ki(n,t,e,s,o){return n===o?(t-e)/s+(t<e?6:0):t===o?(e-n)/s+2:(n-t)/s+4}(e,s,o,p,a),u=60*u+.5),[0|u,f||0,c]}function Bn(n,t,e,s){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,s)).map(Lt)}function tn(n,t,e){return Bn(En,n,t,e)}function Li(n){return(n%360+360)%360}const Nn={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Wn={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let en;const Es=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,nn=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,qe=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Si(n,t,e){if(n){let s=Ti(n);s[t]=Math.max(0,Math.min(s[t]+s[t]*e,0===t?360:1)),s=tn(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function sn(n,t){return n&&Object.assign(t||{},n)}function Vn(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Lt(n[3]))):(t=sn(n,{r:0,g:0,b:0,a:1})).a=Lt(t.a),t}function ir(n){return"r"===n.charAt(0)?function Is(n){const t=Es.exec(n);let s,o,a,e=255;if(t){if(t[7]!==s){const l=+t[7];e=t[8]?Yt(l):Me(255*l,0,255)}return s=+t[1],o=+t[3],a=+t[5],s=255&(t[2]?Yt(s):Me(s,0,255)),o=255&(t[4]?Yt(o):Me(o,0,255)),a=255&(t[6]?Yt(a):Me(a,0,255)),{r:s,g:o,b:a,a:e}}}(n):function Jo(n){const t=Ie.exec(n);let s,e=255;if(!t)return;t[5]!==s&&(e=t[6]?Yt(+t[5]):Lt(+t[5]));const o=Li(+t[2]),a=+t[3]/100,l=+t[4]/100;return s="hwb"===t[1]?function Ds(n,t,e){return Bn(Rn,n,t,e)}(o,a,l):"hsv"===t[1]?function Fn(n,t,e){return Bn(In,n,t,e)}(o,a,l):tn(o,a,l),{r:s[0],g:s[1],b:s[2],a:e}}(n)}class fe{constructor(t){if(t instanceof fe)return t;const e=typeof t;let s;"object"===e?s=Vn(t):"string"===e&&(s=function at(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*Gt[n[1]],g:255&17*Gt[n[2]],b:255&17*Gt[n[3]],a:5===t?17*Gt[n[4]]:255}:(7===t||9===t)&&(e={r:Gt[n[1]]<<4|Gt[n[2]],g:Gt[n[3]]<<4|Gt[n[4]],b:Gt[n[5]]<<4|Gt[n[6]],a:9===t?Gt[n[7]]<<4|Gt[n[8]]:255})),e}(t)||function Hn(n){en||(en=function Qo(){const n={},t=Object.keys(Wn),e=Object.keys(Nn);let s,o,a,l,c;for(s=0;s<t.length;s++){for(l=c=t[s],o=0;o<e.length;o++)a=e[o],c=c.replace(a,Nn[a]);a=parseInt(Wn[l],16),n[c]=[a>>16&255,a>>8&255,255&a]}return n}(),en.transparent=[0,0,0,0]);const t=en[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||ir(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=sn(this._rgb);return t&&(t.a=$t(t.a)),t}set rgb(t){this._rgb=Vn(t)}rgbString(){return this._valid?function tr(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${$t(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function ke(n){var t=(n=>It(n.r)&&It(n.g)&&It(n.b)&&It(n.a))(n)?xt:Vt;return n?"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function Zn(n){if(!n)return;const t=Ti(n),e=t[0],s=j(t[1]),o=j(t[2]);return n.a<255?`hsla(${e}, ${s}%, ${o}%, ${$t(n.a)})`:`hsl(${e}, ${s}%, ${o}%)`}(this._rgb):void 0}mix(t,e){if(t){const s=this.rgb,o=t.rgb;let a;const l=e===a?.5:e,c=2*l-1,u=s.a-o.a,f=((c*u==-1?c:(c+u)/(1+c*u))+1)/2;a=1-f,s.r=255&f*s.r+a*o.r+.5,s.g=255&f*s.g+a*o.g+.5,s.b=255&f*s.b+a*o.b+.5,s.a=l*s.a+(1-l)*o.a,this.rgb=s}return this}interpolate(t,e){return t&&(this._rgb=function er(n,t,e){const s=qe($t(n.r)),o=qe($t(n.g)),a=qe($t(n.b));return{r:Lt(nn(s+e*(qe($t(t.r))-s))),g:Lt(nn(o+e*(qe($t(t.g))-o))),b:Lt(nn(a+e*(qe($t(t.b))-a))),a:n.a+e*(t.a-n.a)}}(this._rgb,t._rgb,e)),this}clone(){return new fe(this.rgb)}alpha(t){return this._rgb.a=Lt(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=Et(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Si(this._rgb,2,t),this}darken(t){return Si(this._rgb,2,-t),this}saturate(t){return Si(this._rgb,1,t),this}desaturate(t){return Si(this._rgb,1,-t),this}rotate(t){return function zs(n,t){var e=Ti(n);e[0]=Li(e[0]+t),e=tn(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function Te(){}const Rs=(()=>{let n=0;return()=>n++})();function G(n){return null==n}function pt(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Q(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function yt(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function Xt(n,t){return yt(n)?n:t}function U(n,t){return typeof n>"u"?t:n}const Bs=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function lt(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function rt(n,t,e,s){let o,a,l;if(pt(n))if(a=n.length,s)for(o=a-1;o>=0;o--)t.call(e,n[o],o);else for(o=0;o<a;o++)t.call(e,n[o],o);else if(Q(n))for(l=Object.keys(n),a=l.length,o=0;o<a;o++)t.call(e,n[l[o]],l[o])}function on(n,t){let e,s,o,a;if(!n||!t||n.length!==t.length)return!1;for(e=0,s=n.length;e<s;++e)if(o=n[e],a=t[e],o.datasetIndex!==a.datasetIndex||o.index!==a.index)return!1;return!0}function rn(n){if(pt(n))return n.map(rn);if(Q(n)){const t=Object.create(null),e=Object.keys(n),s=e.length;let o=0;for(;o<s;++o)t[e[o]]=rn(n[e[o]]);return t}return n}function Fs(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function pe(n,t,e,s){if(!Fs(n))return;const o=t[n],a=e[n];Q(o)&&Q(a)?N(o,a,s):t[n]=rn(a)}function N(n,t,e){const s=pt(t)?t:[t],o=s.length;if(!Q(n))return n;const a=(e=e||{}).merger||pe;let l;for(let c=0;c<o;++c){if(l=s[c],!Q(l))continue;const u=Object.keys(l);for(let f=0,p=u.length;f<p;++f)a(u[f],n,l,e)}return n}function ci(n,t){return N(n,t,{merger:Zs})}function Zs(n,t,e){if(!Fs(n))return;const s=t[n],o=e[n];Q(s)&&Q(o)?ci(s,o):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=rn(o))}const Un={"":n=>n,x:n=>n.x,y:n=>n.y};function Kt(n,t){return(Un[t]||(Un[t]=function Ns(n){const t=function jn(n){const t=n.split("."),e=[];let s="";for(const o of t)s+=o,s.endsWith("\\")?s=s.slice(0,-1)+".":(e.push(s),s="");return e}(n);return e=>{for(const s of t){if(""===s)break;e=e&&e[s]}return e}}(t)))(n)}function an(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Ci=n=>typeof n<"u",Re=n=>"function"==typeof n,Ws=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},it=Math.PI,mt=2*it,ln=mt+it,hn=Number.POSITIVE_INFINITY,rr=it/180,kt=it/2,Ye=it/4,Hs=2*it/3,ge=Math.log10,Ut=Math.sign;function ui(n,t,e){return Math.abs(n-t)<e}function qn(n){const t=Math.round(n);n=ui(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(ge(n))),s=n/e;return(s<=1?1:s<=2?2:s<=5?5:10)*e}function ht(n){return!function nt(n){return"symbol"==typeof n||"object"==typeof n&&null!==n&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function $e(n,t,e){let s,o,a;for(s=0,o=n.length;s<o;s++)a=n[s][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function Zt(n){return n*(it/180)}function Ai(n){return n*(180/it)}function Y(n){if(!yt(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function wt(n,t){const e=t.x-n.x,s=t.y-n.y,o=Math.sqrt(e*e+s*s);let a=Math.atan2(s,e);return a<-.5*it&&(a+=mt),{angle:a,distance:o}}function Di(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function un(n,t){return(n-t+ln)%mt-it}function dt(n){return(n%mt+mt)%mt}function zi(n,t,e,s){const o=dt(n),a=dt(t),l=dt(e),c=dt(a-o),u=dt(l-o),f=dt(o-a),p=dt(o-l);return o===a||o===l||s&&a===l||c>u&&f<p}function Tt(n,t,e){return Math.max(t,Math.min(e,n))}function ct(n,t,e,s=1e-6){return n>=Math.min(t,e)-s&&n<=Math.max(t,e)+s}function Le(n,t,e){e=e||(l=>n[l]<t);let a,s=n.length-1,o=0;for(;s-o>1;)a=o+s>>1,e(a)?o=a:s=a;return{lo:o,hi:s}}const Jt=(n,t,e,s)=>Le(n,e,s?o=>{const a=n[o][t];return a<e||a===e&&n[o+1][t]===e}:o=>n[o][t]<e),Ei=(n,t,e)=>Le(n,e,s=>n[s][t]>=e),di=["push","pop","shift","splice","unshift"];function dn(n,t){const e=n._chartjs;if(!e)return;const s=e.listeners,o=s.indexOf(t);-1!==o&&s.splice(o,1),!(s.length>0)&&(di.forEach(a=>{delete n[a]}),delete n._chartjs)}function Ii(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const fn=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function Ri(n,t){let e=[],s=!1;return function(...o){e=o,s||(s=!0,fn.call(window,()=>{s=!1,n.apply(t,e)}))}}const Bi=n=>"start"===n?"left":"end"===n?"right":"center",Nt=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function oe(n,t,e){const s=t.length;let o=0,a=s;if(n._sorted){const{iScale:l,vScale:c,_parsed:u}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=l.axis,{min:m,max:v,minDefined:x,maxDefined:y}=l.getUserBounds();if(x){if(o=Math.min(Jt(u,p,m).lo,e?s:Jt(t,p,l.getPixelForValue(m)).lo),f){const w=u.slice(0,o+1).reverse().findIndex(M=>!G(M[c.axis]));o-=Math.max(0,w)}o=Tt(o,0,s-1)}if(y){let w=Math.max(Jt(u,l.axis,v,!0).hi+1,e?0:Jt(t,p,l.getPixelForValue(v),!0).hi+1);if(f){const M=u.slice(w-1).findIndex(T=>!G(T[c.axis]));w+=Math.max(0,M)}a=Tt(w,o,s)-o}else a=s-o}return{start:o,count:a}}function ft(n){const{xScale:t,yScale:e,_scaleRanges:s}=n,o={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!s)return n._scaleRanges=o,!0;const a=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==e.min||s.ymax!==e.max;return Object.assign(s,o),a}const Fi=n=>0===n||1===n,pn=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*mt/e),gn=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*mt/e)+1,Xe={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*kt),easeOutSine:n=>Math.sin(n*kt),easeInOutSine:n=>-.5*(Math.cos(it*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>Fi(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Fi(n)?n:pn(n,.075,.3),easeOutElastic:n=>Fi(n)?n:gn(n,.075,.3),easeInOutElastic:n=>Fi(n)?n:n<.5?.5*pn(2*n,.1125,.45):.5+.5*gn(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-Xe.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*Xe.easeInBounce(2*n):.5*Xe.easeOutBounce(2*n-1)+.5};function Se(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function mn(n){return Se(n)?n:new fe(n)}function Ke(n){return Se(n)?n:new fe(n).saturate(.5).darken(.1).hexString()}const Rt=["x","y","borderWidth","radius","tension"],Je=["color","borderColor","backgroundColor"],Ys=new Map;function Qe(n,t,e){return function $s(n,t){t=t||{};const e=n+JSON.stringify(t);let s=Ys.get(e);return s||(s=new Intl.NumberFormat(n,t),Ys.set(e,s)),s}(t,e).format(n)}const Gs={values:n=>pt(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const s=this.chart.options.locale;let o,a=n;if(e.length>1){const f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(o="scientific"),a=function Xs(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const l=ge(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),u={notation:o,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),Qe(n,s,u)},logarithmic(n,t,e){if(0===n)return"0";const s=e[t].significand||n/Math.pow(10,Math.floor(ge(n)));return[1,2,3,5,10,15].includes(s)||t>.8*e.length?Gs.numeric.call(this,n,t,e):""}};var X={formatters:Gs};const Bt=Object.create(null),ti=Object.create(null);function fi(n,t){if(!t)return n;const e=t.split(".");for(let s=0,o=e.length;s<o;++s){const a=e[s];n=n[a]||(n[a]=Object.create(null))}return n}function Gn(n,t,e){return"string"==typeof t?N(fi(n,t),e):N(fi(n,""),t)}class Xn{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,o)=>Ke(o.backgroundColor),this.hoverBorderColor=(s,o)=>Ke(o.borderColor),this.hoverColor=(s,o)=>Ke(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Gn(this,t,e)}get(t){return fi(this,t)}describe(t,e){return Gn(ti,t,e)}override(t,e){return Gn(Bt,t,e)}route(t,e,s,o){const a=fi(this,t),l=fi(this,s),c="_"+e;Object.defineProperties(a,{[c]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const u=this[c],f=l[o];return Q(u)?Object.assign({},f,u):U(u,f)},set(u){this[c]=u}}})}apply(t){t.forEach(e=>e(this))}}var bt=new Xn({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function js(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),n.set("animations",{colors:{type:"color",properties:Je},numbers:{type:"number",properties:Rt}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function qs(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function ar(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:X.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function _n(n,t,e,s,o){let a=t[o];return a||(a=t[o]=n.measureText(o).width,e.push(o)),a>s&&(s=a),s}function lr(n,t,e,s){let o=(s=s||{}).data=s.data||{},a=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(o=s.data={},a=s.garbageCollect=[],s.font=t),n.save(),n.font=t;let l=0;const c=e.length;let u,f,p,m,v;for(u=0;u<c;u++)if(m=e[u],null==m||pt(m)){if(pt(m))for(f=0,p=m.length;f<p;f++)v=m[f],null!=v&&!pt(v)&&(l=_n(n,o,a,l,v))}else l=_n(n,o,a,l,m);n.restore();const x=a.length/2;if(x>e.length){for(u=0;u<x;u++)delete o[a[u]];a.splice(0,x)}return l}function Ce(n,t,e){const s=n.currentDevicePixelRatio,o=0!==e?Math.max(e/2,.5):0;return Math.round((t-o)*s)/s+o}function Js(n,t){!t&&!n||((t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Qt(n,t,e,s){Qs(n,t,e,s,null)}function Qs(n,t,e,s,o){let a,l,c,u,f,p,m,v;const x=t.pointStyle,y=t.rotation,w=t.radius;let M=(y||0)*rr;if(x&&"object"==typeof x&&(a=x.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return n.save(),n.translate(e,s),n.rotate(M),n.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),void n.restore();if(!(isNaN(w)||w<=0)){switch(n.beginPath(),x){default:o?n.ellipse(e,s,o/2,w,0,0,mt):n.arc(e,s,w,0,mt),n.closePath();break;case"triangle":p=o?o/2:w,n.moveTo(e+Math.sin(M)*p,s-Math.cos(M)*w),M+=Hs,n.lineTo(e+Math.sin(M)*p,s-Math.cos(M)*w),M+=Hs,n.lineTo(e+Math.sin(M)*p,s-Math.cos(M)*w),n.closePath();break;case"rectRounded":f=.516*w,u=w-f,l=Math.cos(M+Ye)*u,m=Math.cos(M+Ye)*(o?o/2-f:u),c=Math.sin(M+Ye)*u,v=Math.sin(M+Ye)*(o?o/2-f:u),n.arc(e-m,s-c,f,M-it,M-kt),n.arc(e+v,s-l,f,M-kt,M),n.arc(e+m,s+c,f,M,M+kt),n.arc(e-v,s+l,f,M+kt,M+it),n.closePath();break;case"rect":if(!y){u=Math.SQRT1_2*w,p=o?o/2:u,n.rect(e-p,s-u,2*p,2*u);break}M+=Ye;case"rectRot":m=Math.cos(M)*(o?o/2:w),l=Math.cos(M)*w,c=Math.sin(M)*w,v=Math.sin(M)*(o?o/2:w),n.moveTo(e-m,s-c),n.lineTo(e+v,s-l),n.lineTo(e+m,s+c),n.lineTo(e-v,s+l),n.closePath();break;case"crossRot":M+=Ye;case"cross":m=Math.cos(M)*(o?o/2:w),l=Math.cos(M)*w,c=Math.sin(M)*w,v=Math.sin(M)*(o?o/2:w),n.moveTo(e-m,s-c),n.lineTo(e+m,s+c),n.moveTo(e+v,s-l),n.lineTo(e-v,s+l);break;case"star":m=Math.cos(M)*(o?o/2:w),l=Math.cos(M)*w,c=Math.sin(M)*w,v=Math.sin(M)*(o?o/2:w),n.moveTo(e-m,s-c),n.lineTo(e+m,s+c),n.moveTo(e+v,s-l),n.lineTo(e-v,s+l),M+=Ye,m=Math.cos(M)*(o?o/2:w),l=Math.cos(M)*w,c=Math.sin(M)*w,v=Math.sin(M)*(o?o/2:w),n.moveTo(e-m,s-c),n.lineTo(e+m,s+c),n.moveTo(e+v,s-l),n.lineTo(e-v,s+l);break;case"line":l=o?o/2:Math.cos(M)*w,c=Math.sin(M)*w,n.moveTo(e-l,s-c),n.lineTo(e+l,s+c);break;case"dash":n.moveTo(e,s),n.lineTo(e+Math.cos(M)*(o?o/2:w),s+Math.sin(M)*w);break;case!1:n.closePath()}n.fill(),t.borderWidth>0&&n.stroke()}}function me(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function re(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Zi(n){n.restore()}function to(n,t,e,s,o){if(!t)return n.lineTo(e.x,e.y);if("middle"===o){const a=(t.x+e.x)/2;n.lineTo(a,t.y),n.lineTo(a,e.y)}else"after"===o!=!!s?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Kn(n,t,e,s){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?e.cp2x:e.cp1x,s?e.cp2y:e.cp1y,e.x,e.y)}function eo(n,t,e,s,o){if(o.strikethrough||o.underline){const a=n.measureText(s),l=t-a.actualBoundingBoxLeft,c=t+a.actualBoundingBoxRight,u=e-a.actualBoundingBoxAscent,f=e+a.actualBoundingBoxDescent,p=o.strikethrough?(u+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=o.decorationWidth||2,n.moveTo(l,p),n.lineTo(c,p),n.stroke()}}function io(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function ei(n,t,e,s,o,a={}){const l=pt(t)?t:[t],c=a.strokeWidth>0&&""!==a.strokeColor;let u,f;for(n.save(),n.font=o.string,function hr(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),G(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,a),u=0;u<l.length;++u)f=l[u],a.backdrop&&io(n,a.backdrop),c&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),G(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(f,e,s,a.maxWidth)),n.fillText(f,e,s,a.maxWidth),eo(n,e,s,f,a),s+=Number(o.lineHeight);n.restore()}function Ni(n,t){const{x:e,y:s,w:o,h:a,radius:l}=t;n.arc(e+l.topLeft,s+l.topLeft,l.topLeft,1.5*it,it,!0),n.lineTo(e,s+a-l.bottomLeft),n.arc(e+l.bottomLeft,s+a-l.bottomLeft,l.bottomLeft,it,kt,!0),n.lineTo(e+o-l.bottomRight,s+a),n.arc(e+o-l.bottomRight,s+a-l.bottomRight,l.bottomRight,kt,0,!0),n.lineTo(e+o,s+l.topRight),n.arc(e+o-l.topRight,s+l.topRight,l.topRight,0,-kt,!0),n.lineTo(e+l.topLeft,s)}const Jn=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,cr=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function no(n,t){const e=(""+n).match(Jn);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const so=n=>+n||0;function pi(n,t){const e={},s=Q(t),o=s?Object.keys(t):t,a=Q(n)?s?l=>U(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of o)e[l]=so(a(l));return e}function Be(n){return pi(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ii(n){return pi(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ct(n){const t=Be(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ot(n,t){let e=U((n=n||{}).size,(t=t||bt.font).size);"string"==typeof e&&(e=parseInt(e,10));let s=U(n.style,t.style);s&&!(""+s).match(cr)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const o={family:U(n.family,t.family),lineHeight:no(U(n.lineHeight,t.lineHeight),e),size:e,style:s,weight:U(n.weight,t.weight),string:""};return o.string=function Ks(n){return!n||G(n.size)||G(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(o),o}function gi(n,t,e,s){let a,l,c,o=!0;for(a=0,l=n.length;a<l;++a)if(c=n[a],void 0!==c&&(void 0!==t&&"function"==typeof c&&(c=c(t),o=!1),void 0!==e&&pt(c)&&(c=c[e%c.length],o=!1),void 0!==c))return s&&!o&&(s.cacheable=!1),c}function Fe(n,t){return Object.assign(Object.create(n),t)}function Wi(n,t=[""],e,s,o=(()=>n[0])){const a=e||n;typeof s>"u"&&(s=ho("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:s,_getTarget:o,override:c=>Wi([c,...n],t,a,s)};return new Proxy(l,{deleteProperty:(c,u)=>(delete c[u],delete c._keys,delete n[0][u],!0),get:(c,u)=>ao(c,u,()=>function bn(n,t,e,s){let o;for(const a of t)if(o=ho(ur(a,n),e),typeof o<"u")return vn(n,o)?Qn(e,s,n,o):o}(u,t,n,c)),getOwnPropertyDescriptor:(c,u)=>Reflect.getOwnPropertyDescriptor(c._scopes[0],u),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(c,u)=>Oe(c).includes(u),ownKeys:c=>Oe(c),set(c,u,f){const p=c._storage||(c._storage=o());return c[u]=p[u]=f,delete c._keys,!0}})}function Ze(n,t,e,s){const o={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:ro(n,s),setContext:a=>Ze(n,a,e,s),override:a=>Ze(n.override(a),t,e,s)};return new Proxy(o,{deleteProperty:(a,l)=>(delete a[l],delete n[l],!0),get:(a,l,c)=>ao(a,l,()=>function ae(n,t,e){const{_proxy:s,_context:o,_subProxy:a,_descriptors:l}=n;let c=s[t];return Re(c)&&l.isScriptable(t)&&(c=function mi(n,t,e,s){const{_proxy:o,_context:a,_subProxy:l,_stack:c}=e;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let u=t(a,l||s);return c.delete(n),vn(n,u)&&(u=Qn(o._scopes,o,n,u)),u}(t,c,n,e)),pt(c)&&c.length&&(c=function dr(n,t,e,s){const{_proxy:o,_context:a,_subProxy:l,_descriptors:c}=e;if(typeof a.index<"u"&&s(n))return t[a.index%t.length];if(Q(t[0])){const u=t,f=o._scopes.filter(p=>p!==u);t=[];for(const p of u){const m=Qn(f,o,n,p);t.push(Ze(m,a,l&&l[n],c))}}return t}(t,c,n,l.isIndexable)),vn(t,c)&&(c=Ze(c,o,a&&a[t],l)),c}(a,l,c)),getOwnPropertyDescriptor:(a,l)=>a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(a,l)=>Reflect.has(n,l),ownKeys:()=>Reflect.ownKeys(n),set:(a,l,c)=>(n[l]=c,delete a[l],!0)})}function ro(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:s=t.indexable,_allKeys:o=t.allKeys}=n;return{allKeys:o,scriptable:e,indexable:s,isScriptable:Re(e)?e:()=>e,isIndexable:Re(s)?s:()=>s}}const ur=(n,t)=>n?n+an(t):t,vn=(n,t)=>Q(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function ao(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||"constructor"===t)return n[t];const s=e();return n[t]=s,s}function _e(n,t,e){return Re(n)?n(t,e):n}const fr=(n,t)=>!0===n?t:"string"==typeof n?Kt(t,n):void 0;function _i(n,t,e,s,o){for(const a of t){const l=fr(e,a);if(l){n.add(l);const c=_e(l._fallback,e,o);if(typeof c<"u"&&c!==e&&c!==s)return c}else if(!1===l&&typeof s<"u"&&e!==s)return null}return!1}function Qn(n,t,e,s){const o=t._rootScopes,a=_e(t._fallback,e,s),l=[...n,...o],c=new Set;c.add(s);let u=vi(c,l,e,a||e,s);return!(null===u||typeof a<"u"&&a!==e&&(u=vi(c,l,a,u,s),null===u))&&Wi(Array.from(c),[""],o,a,()=>function lo(n,t,e){const s=n._getTarget();t in s||(s[t]={});const o=s[t];return pt(o)&&Q(e)?e:o||{}}(t,e,s))}function vi(n,t,e,s,o){for(;e;)e=_i(n,t,e,s,o);return e}function ho(n,t){for(const e of t){if(!e)continue;const s=e[n];if(typeof s<"u")return s}}function Oe(n){let t=n._keys;return t||(t=n._keys=function xn(n){const t=new Set;for(const e of n)for(const s of Object.keys(e).filter(o=>!o.startsWith("_")))t.add(s);return Array.from(t)}(n._scopes)),t}function co(n,t,e,s){const{iScale:o}=n,{key:a="r"}=this._parsing,l=new Array(s);let c,u,f,p;for(c=0,u=s;c<u;++c)f=c+e,p=t[f],l[c]={r:o.parse(Kt(p,a),f)};return l}const ts=Number.EPSILON||1e-14,bi=(n,t)=>t<n.length&&!n[t].skip&&n[t],ve=n=>"x"===n?"y":"x";function pr(n,t,e,s){const o=n.skip?t:n,a=t,l=e.skip?t:e,c=Di(a,o),u=Di(l,a);let f=c/(c+u),p=u/(c+u);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const m=s*f,v=s*p;return{previous:{x:a.x-m*(l.x-o.x),y:a.y-m*(l.y-o.y)},next:{x:a.x+v*(l.x-o.x),y:a.y+v*(l.y-o.y)}}}function ni(n,t,e){return Math.max(Math.min(n,e),t)}function es(n,t,e,s,o){let a,l,c,u;if(t.spanGaps&&(n=n.filter(f=>!f.skip)),"monotone"===t.cubicInterpolationMode)!function Ae(n,t="x"){const e=ve(t),s=n.length,o=Array(s).fill(0),a=Array(s);let l,c,u,f=bi(n,0);for(l=0;l<s;++l)if(c=u,u=f,f=bi(n,l+1),u){if(f){const p=f[t]-u[t];o[l]=0!==p?(f[e]-u[e])/p:0}a[l]=c?f?Ut(o[l-1])!==Ut(o[l])?0:(o[l-1]+o[l])/2:o[l-1]:o[l]}(function xi(n,t,e){const s=n.length;let o,a,l,c,u,f=bi(n,0);for(let p=0;p<s-1;++p)if(u=f,f=bi(n,p+1),u&&f){if(ui(t[p],0,ts)){e[p]=e[p+1]=0;continue}o=e[p]/t[p],a=e[p+1]/t[p],c=Math.pow(o,2)+Math.pow(a,2),!(c<=9)&&(l=3/Math.sqrt(c),e[p]=o*l*t[p],e[p+1]=a*l*t[p])}})(n,o,a),function gr(n,t,e="x"){const s=ve(e),o=n.length;let a,l,c,u=bi(n,0);for(let f=0;f<o;++f){if(l=c,c=u,u=bi(n,f+1),!c)continue;const p=c[e],m=c[s];l&&(a=(p-l[e])/3,c[`cp1${e}`]=p-a,c[`cp1${s}`]=m-a*t[f]),u&&(a=(u[e]-p)/3,c[`cp2${e}`]=p+a,c[`cp2${s}`]=m+a*t[f])}}(n,a,t)}(n,o);else{let f=s?n[n.length-1]:n[0];for(a=0,l=n.length;a<l;++a)c=n[a],u=pr(f,c,n[Math.min(a+1,l-(s?0:1))%l],t.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,f=c}t.capBezierPoints&&function uo(n,t){let e,s,o,a,l,c=me(n[0],t);for(e=0,s=n.length;e<s;++e)l=a,a=c,c=e<s-1&&me(n[e+1],t),a&&(o=n[e],l&&(o.cp1x=ni(o.cp1x,t.left,t.right),o.cp1y=ni(o.cp1y,t.top,t.bottom)),c&&(o.cp2x=ni(o.cp2x,t.left,t.right),o.cp2y=ni(o.cp2y,t.top,t.bottom)))}(n,e)}function yi(){return typeof window<"u"&&typeof document<"u"}function Hi(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function si(n,t,e){let s;return"string"==typeof n?(s=parseInt(n,10),-1!==n.indexOf("%")&&(s=s/100*t.parentNode[e])):s=n,s}const De=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),is=["top","right","bottom","left"];function Ne(n,t,e){const s={};e=e?"-"+e:"";for(let o=0;o<4;o++){const a=is[o];s[a]=parseFloat(n[t+"-"+a+e])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function oi(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:s}=t,o=De(e),a="border-box"===o.boxSizing,l=Ne(o,"padding"),c=Ne(o,"border","width"),{x:u,y:f,box:p}=function wn(n,t){const e=n.touches,s=e&&e.length?e[0]:n,{offsetX:o,offsetY:a}=s;let c,u,l=!1;if(((n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot))(o,a,n.target))c=o,u=a;else{const f=t.getBoundingClientRect();c=s.clientX-f.left,u=s.clientY-f.top,l=!0}return{x:c,y:u,box:l}}(n,e),m=l.left+(p&&c.left),v=l.top+(p&&c.top);let{width:x,height:y}=t;return a&&(x-=l.width+c.width,y-=l.height+c.height),{x:Math.round((u-m)/x*e.width/s),y:Math.round((f-v)/y*e.height/s)}}const We=n=>Math.round(10*n)/10;function go(n,t,e){const s=t||1,o=We(n.height*s),a=We(n.width*s);n.height=We(n.height),n.width=We(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==s||l.height!==o||l.width!==a)&&(n.currentDevicePixelRatio=s,l.height=o,l.width=a,n.ctx.setTransform(s,0,0,s,0,0),!0)}const be=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};yi()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function Vi(n,t){const e=function yn(n,t){return De(n).getPropertyValue(t)}(n,t),s=e&&e.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function ri(n,t,e,s){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function Pn(n,t,e,s){return{x:n.x+e*(t.x-n.x),y:"middle"===s?e<.5?n.y:t.y:"after"===s?e<1?n.y:t.y:e>0?t.y:n.y}}function _r(n,t,e,s){const o={x:n.cp2x,y:n.cp2y},a={x:t.cp1x,y:t.cp1y},l=ri(n,o,e),c=ri(o,a,e),u=ri(a,t,e),f=ri(l,c,e),p=ri(c,u,e);return ri(f,p,e)}function xe(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,s)=>e-s,leftForLtr:(e,s)=>e-s}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function _o(n,t){let e,s;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,s=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=s)}function ai(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function ns(n){return"angle"===n?{between:zi,compare:un,normalize:dt}:{between:ct,compare:(t,e)=>t-e,normalize:t=>t}}function ss({start:n,end:t,count:e,loop:s,style:o}){return{start:n%e,end:t%e,loop:s&&(t-n+1)%e==0,style:o}}function ye(n,t,e){if(!e)return[n];const{property:s,start:o,end:a}=e,l=t.length,{compare:c,between:u,normalize:f}=ns(s),{start:p,end:m,loop:v,style:x}=function br(n,t,e){const{property:s,start:o,end:a}=e,{between:l,normalize:c}=ns(s),u=t.length;let v,x,{start:f,end:p,loop:m}=n;if(m){for(f+=u,p+=u,v=0,x=u;v<x&&l(c(t[f%u][s]),o,a);++v)f--,p--;f%=u,p%=u}return p<f&&(p+=u),{start:f,end:p,loop:m,style:n.style}}(n,t,e),y=[];let T,C,E,w=!1,M=null;for(let F=p,H=p;F<=m;++F)C=t[F%l],!C.skip&&(T=f(C[s]),T!==E&&(w=u(T,o,a),null===M&&(w||u(o,E,T)&&0!==c(o,E))&&(M=0===c(T,o)?F:H),null!==M&&(!w||0===c(a,T)||u(a,E,T))&&(y.push(ss({start:M,end:F,loop:v,count:l,style:x})),M=null),H=F,E=T));return null!==M&&y.push(ss({start:M,end:m,loop:v,count:l,style:x})),y}function os(n,t){const e=[],s=n.segments;for(let o=0;o<s.length;o++){const a=ye(s[o],n.points,t);a.length&&e.push(...a)}return e}function rs(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function bo(n,t){if(!t)return!1;const e=[],s=function(o,a){return Se(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(n,s)!==JSON.stringify(t,s)}function Mn(n,t,e){return n.options.clip?n[e]:t[e]}function as(n,t){const e=t._clip;if(e.disabled)return!1;const s=function xo(n,t){const{xScale:e,yScale:s}=n;return e&&s?{left:Mn(e,t,"left"),right:Mn(e,t,"right"),top:Mn(s,t,"top"),bottom:Mn(s,t,"bottom")}:t}(t,n.chartArea);return{left:!1===e.left?0:s.left-(!0===e.left?0:e.left),right:!1===e.right?n.width:s.right+(!0===e.right?0:e.right),top:!1===e.top?0:s.top-(!0===e.top?0:e.top),bottom:!1===e.bottom?n.height:s.bottom+(!0===e.bottom?0:e.bottom)}}class yo{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,s,o){const l=e.duration;e.listeners[o].forEach(c=>c({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(s-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=fn.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((s,o)=>{if(!s.running||!s.items.length)return;const a=s.items;let u,l=a.length-1,c=!1;for(;l>=0;--l)u=a[l],u._active?(u._total>s.duration&&(s.duration=u._total),u.tick(t),c=!0):(a[l]=a[a.length-1],a.pop());c&&(o.draw(),this._notify(o,s,t,"progress")),a.length||(s.running=!1,this._notify(o,s,t,"complete"),s.initial=!1),e+=a.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let s=e.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,s)),s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((s,o)=>Math.max(s,o._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const s=e.items;let o=s.length-1;for(;o>=0;--o)s[o].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var we=new yo;const ls="transparent",yr={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const s=mn(n||ls),o=s.valid&&mn(t||ls);return o&&o.valid?o.mix(s,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class wo{constructor(t,e,s,o){const a=e[s];o=gi([t.to,o,a,t.from]);const l=gi([t.from,a,o]);this._active=!0,this._fn=t.fn||yr[t.type||typeof l],this._easing=Xe[t.easing]||Xe.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=s,this._from=l,this._to=o,this._promises=void 0}active(){return this._active}update(t,e,s){if(this._active){this._notify(!1);const o=this._target[this._prop],a=s-this._start,l=this._duration-a;this._start=s,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=gi([t.to,e,o,t.from]),this._from=gi([t.from,o,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,s=this._duration,o=this._prop,a=this._from,l=this._loop,c=this._to;let u;if(this._active=a!==c&&(l||e<s),!this._active)return this._target[o]=c,void this._notify(!0);e<0?this._target[o]=a:(u=e/s%2,u=l&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[o]=this._fn(a,c,u))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,s)=>{t.push({res:e,rej:s})})}_notify(t){const e=t?"res":"rej",s=this._promises||[];for(let o=0;o<s.length;o++)s[o][e]()}}class hs{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Q(t))return;const e=Object.keys(bt.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(o=>{const a=t[o];if(!Q(a))return;const l={};for(const c of e)l[c]=a[c];(pt(a.properties)&&a.properties||[o]).forEach(c=>{(c===o||!s.has(c))&&s.set(c,l)})})}_animateOptions(t,e){const s=e.options,o=function i(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,s);if(!o)return[];const a=this._createAnimations(o,s);return s.$shared&&function wr(n,t){const e=[],s=Object.keys(t);for(let o=0;o<s.length;o++){const a=n[s[o]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}(t.options.$animations,s).then(()=>{t.options=s},()=>{}),a}_createAnimations(t,e){const s=this._properties,o=[],a=t.$animations||(t.$animations={}),l=Object.keys(e),c=Date.now();let u;for(u=l.length-1;u>=0;--u){const f=l[u];if("$"===f.charAt(0))continue;if("options"===f){o.push(...this._animateOptions(t,e));continue}const p=e[f];let m=a[f];const v=s.get(f);if(m){if(v&&m.active()){m.update(v,p,c);continue}m.cancel()}v&&v.duration?(a[f]=m=new wo(v,t,f,p),o.push(m)):t[f]=p}return o}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const s=this._createAnimations(t,e);return s.length?(we.add(this._chart,s),!0):void 0}}function r(n,t){const e=n&&n.options||{},s=e.reverse,o=void 0===e.min?t:0,a=void 0===e.max?t:0;return{start:s?a:o,end:s?o:a}}function g(n,t){const e=[],s=n._getSortedDatasetMetas(t);let o,a;for(o=0,a=s.length;o<a;++o)e.push(s[o].index);return e}function b(n,t,e,s={}){const o=n.keys,a="single"===s.mode;let l,c,u,f;if(null===t)return;let p=!1;for(l=0,c=o.length;l<c;++l){if(u=+o[l],u===e){if(p=!0,s.all)continue;break}f=n.values[u],yt(f)&&(a||0===t||Ut(t)===Ut(f))&&(t+=f)}return p||s.all?t:0}function k(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function Z(n,t,e){const s=n[t]||(n[t]={});return s[e]||(s[e]={})}function W(n,t,e,s){for(const o of t.getMatchingVisibleMetas(s).reverse()){const a=n[o.index];if(e&&a>0||!e&&a<0)return o.index}return null}function $(n,t){const{chart:e,_cachedMeta:s}=n,o=e._stacks||(e._stacks={}),{iScale:a,vScale:l,index:c}=s,u=a.axis,f=l.axis,p=function S(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(a,l,s),m=t.length;let v;for(let x=0;x<m;++x){const y=t[x],{[u]:w,[f]:M}=y;v=(y._stacks||(y._stacks={}))[f]=Z(o,p,w),v[c]=M,v._top=W(v,l,!0,s.type),v._bottom=W(v,l,!1,s.type),(v._visualValues||(v._visualValues={}))[c]=M}}function Ft(n,t){const e=n.scales;return Object.keys(e).filter(s=>e[s].axis===t).shift()}function zt(n,t){const e=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){t=t||n._parsed;for(const o of t){const a=o._stacks;if(!a||void 0===a[s]||void 0===a[s][e])return;delete a[s][e],void 0!==a[s]._visualValues&&void 0!==a[s]._visualValues[e]&&delete a[s]._visualValues[e]}}}const He=n=>"reset"===n||"none"===n,Po=(n,t)=>t?n:Object.assign({},n);class le{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=k(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&zt(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,s=this.getDataset(),o=(m,v,x,y)=>"x"===m?v:"r"===m?y:x,a=e.xAxisID=U(s.xAxisID,Ft(t,"x")),l=e.yAxisID=U(s.yAxisID,Ft(t,"y")),c=e.rAxisID=U(s.rAxisID,Ft(t,"r")),u=e.indexAxis,f=e.iAxisID=o(u,a,l,c),p=e.vAxisID=o(u,l,a,c);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(c),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&dn(this._data,this),t._stacked&&zt(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),s=this._data;if(Q(e))this._data=function P(n,t){const{iScale:e,vScale:s}=t,o="x"===e.axis?"x":"y",a="x"===s.axis?"x":"y",l=Object.keys(n),c=new Array(l.length);let u,f,p;for(u=0,f=l.length;u<f;++u)p=l[u],c[u]={[o]:p,[a]:n[p]};return c}(e,this._cachedMeta);else if(s!==e){if(s){dn(s,this);const o=this._cachedMeta;zt(o),o._parsed=[]}e&&Object.isExtensible(e)&&function $n(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),di.forEach(e=>{const s="_onData"+an(e),o=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...a){const l=o.apply(this,a);return n._chartjs.listeners.forEach(c=>{"function"==typeof c[s]&&c[s](...a)}),l}})}))}(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,s=this.getDataset();let o=!1;this._dataCheck();const a=e._stacked;e._stacked=k(e.vScale,e),e.stack!==s.stack&&(o=!0,zt(e),e.stack=s.stack),this._resyncElements(t),(o||a!==e._stacked)&&($(this,e._parsed),e._stacked=k(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:s,_data:o}=this,{iScale:a,_stacked:l}=s,c=a.axis;let p,m,v,u=0===t&&e===o.length||s._sorted,f=t>0&&s._parsed[t-1];if(!1===this._parsing)s._parsed=o,s._sorted=!0,v=o;else{v=pt(o[t])?this.parseArrayData(s,o,t,e):Q(o[t])?this.parseObjectData(s,o,t,e):this.parsePrimitiveData(s,o,t,e);const x=()=>null===m[c]||f&&m[c]<f[c];for(p=0;p<e;++p)s._parsed[p+t]=m=v[p],u&&(x()&&(u=!1),f=m);s._sorted=u}l&&$(this,v)}parsePrimitiveData(t,e,s,o){const{iScale:a,vScale:l}=t,c=a.axis,u=l.axis,f=a.getLabels(),p=a===l,m=new Array(o);let v,x,y;for(v=0,x=o;v<x;++v)y=v+s,m[v]={[c]:p||a.parse(f[y],y),[u]:l.parse(e[y],y)};return m}parseArrayData(t,e,s,o){const{xScale:a,yScale:l}=t,c=new Array(o);let u,f,p,m;for(u=0,f=o;u<f;++u)p=u+s,m=e[p],c[u]={x:a.parse(m[0],p),y:l.parse(m[1],p)};return c}parseObjectData(t,e,s,o){const{xScale:a,yScale:l}=t,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,f=new Array(o);let p,m,v,x;for(p=0,m=o;p<m;++p)v=p+s,x=e[v],f[p]={x:a.parse(Kt(x,c),v),y:l.parse(Kt(x,u),v)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,s){const a=this._cachedMeta,l=e[t.axis];return b({keys:g(this.chart,!0),values:e._stacks[t.axis]._visualValues},l,a.index,{mode:s})}updateRangeFromParsed(t,e,s,o){const a=s[e.axis];let l=null===a?NaN:a;const c=o&&s._stacks[e.axis];o&&c&&(o.values=c,l=b(o,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const s=this._cachedMeta,o=s._parsed,a=s._sorted&&t===s.iScale,l=o.length,c=this._getOtherScale(t),u=((n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:g(this.chart,!0),values:null})(e,s),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:m}=function A(n){const{min:t,max:e,minDefined:s,maxDefined:o}=n.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:o?e:Number.POSITIVE_INFINITY}}(c);let v,x;function y(){x=o[v];const w=x[c.axis];return!yt(x[t.axis])||p>w||m<w}for(v=0;v<l&&(y()||(this.updateRangeFromParsed(f,t,x,u),!a));++v);if(a)for(v=l-1;v>=0;--v)if(!y()){this.updateRangeFromParsed(f,t,x,u);break}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,s=[];let o,a,l;for(o=0,a=e.length;o<a;++o)l=e[o][t.axis],yt(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,s=e.iScale,o=e.vScale,a=this.getParsed(t);return{label:s?""+s.getLabelForValue(a[s.axis]):"",value:o?""+o.getLabelForValue(a[o.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function d(n){let t,e,s,o;return Q(n)?(t=n.top,e=n.right,s=n.bottom,o=n.left):t=e=s=o=n,{top:t,right:e,bottom:s,left:o,disabled:!1===n}}(U(this.options.clip,function h(n,t,e){if(!1===e)return!1;const s=r(n,e),o=r(t,e);return{top:o.end,right:s.end,bottom:o.start,left:s.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this._cachedMeta,o=s.data||[],a=this.chart.chartArea,l=[],c=this._drawStart||0,u=this._drawCount||o.length-c,f=this.options.drawActiveElementsOnTop;let p;for(s.dataset&&s.dataset.draw(t,a,c,u),p=c;p<c+u;++p){const m=o[p];m.hidden||(m.active&&f?l.push(m):m.draw(t,a))}for(p=0;p<l.length;++p)l[p].draw(t,a)}getStyle(t,e){const s=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){const o=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=function te(n,t,e){return Fe(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=o.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=function Dt(n,t){return Fe(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=o,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=s,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",s){const o="active"===e,a=this._cachedDataOpts,l=t+"-"+e,c=a[l],u=this.enableOptionSharing&&Ci(s);if(c)return Po(c,u);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),m=o?[`${t}Hover`,"hover",t,""]:[t,""],v=f.getOptionScopes(this.getDataset(),p),x=Object.keys(bt.elements[t]),w=f.resolveNamedOptions(v,x,()=>this.getContext(s,o,e),m);return w.$shared&&(w.$shared=u,a[l]=Object.freeze(Po(w,u))),w}_resolveAnimations(t,e,s){const o=this.chart,a=this._cachedDataOpts,l=`animation-${e}`,c=a[l];if(c)return c;let u;if(!1!==o.options.animation){const p=this.chart.config,m=p.datasetAnimationScopeKeys(this._type,e),v=p.getOptionScopes(this.getDataset(),m);u=p.createResolver(v,this.getContext(t,s,e))}const f=new hs(o,u&&u.animations);return u&&u._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||He(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const s=this.resolveDataElementOptions(t,e),o=this._sharedOptions,a=this.getSharedOptions(s),l=this.includeOptions(e,a)||a!==o;return this.updateSharedOptions(a,e,s),{sharedOptions:a,includeOptions:l}}updateElement(t,e,s,o){He(o)?Object.assign(t,s):this._resolveAnimations(e,o).update(t,s)}updateSharedOptions(t,e,s){t&&!He(e)&&this._resolveAnimations(void 0,e).update(t,s)}_setStyle(t,e,s,o){t.active=o;const a=this.getStyle(e,o);this._resolveAnimations(e,s,o).update(t,{options:!o&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,e,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,s=this._cachedMeta.data;for(const[c,u,f]of this._syncList)this[c](u,f);this._syncList=[];const o=s.length,a=e.length,l=Math.min(a,o);l&&this.parse(0,l),a>o?this._insertElements(o,a-o,t):a<o&&this._removeElements(a,o-a)}_insertElements(t,e,s=!0){const o=this._cachedMeta,a=o.data,l=t+e;let c;const u=f=>{for(f.length+=e,c=f.length-1;c>=l;c--)f[c]=f[c-e]};for(u(a),c=t;c<l;++c)a[c]=new this.dataElementType;this._parsing&&u(o._parsed),this.parse(t,e),s&&this.updateElements(a,t,e,"reset")}updateElements(t,e,s,o){}_removeElements(t,e){const s=this._cachedMeta;if(this._parsing){const o=s._parsed.splice(t,e);s._stacked&&zt(s,o)}s.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,s,o]=t;this[e](s,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Mr(n){const t=n.iScale,e=function Mo(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let s=[];for(let o=0,a=e.length;o<a;o++)s=s.concat(e[o].controller.getAllParsedValues(n));n._cache.$bar=Ii(s.sort((o,a)=>o-a))}return n._cache.$bar}(t,n.type);let o,a,l,c,s=t._length;const u=()=>{32767===l||-32768===l||(Ci(c)&&(s=Math.min(s,Math.abs(l-c)||s)),c=l)};for(o=0,a=e.length;o<a;++o)l=t.getPixelForValue(e[o]),u();for(c=void 0,o=0,a=t.ticks.length;o<a;++o)l=t.getPixelForTick(o),u();return s}function To(n,t,e,s){return pt(n)?function kn(n,t,e,s){const o=e.parse(n[0],s),a=e.parse(n[1],s),l=Math.min(o,a),c=Math.max(o,a);let u=l,f=c;Math.abs(l)>Math.abs(c)&&(u=c,f=l),t[e.axis]=f,t._custom={barStart:u,barEnd:f,start:o,end:a,min:l,max:c}}(n,t,e,s):t[e.axis]=e.parse(n,s),t}function Lo(n,t,e,s){const o=n.iScale,a=n.vScale,l=o.getLabels(),c=o===a,u=[];let f,p,m,v;for(f=e,p=e+s;f<p;++f)v=t[f],m={},m[o.axis]=c||o.parse(l[f],f),u.push(To(v,m,a,f));return u}function cs(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function kr(n,t,e,s){let o=t.borderSkipped;const a={};if(!o)return void(n.borderSkipped=a);if(!0===o)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:l,end:c,reverse:u,top:f,bottom:p}=function So(n){let t,e,s,o,a;return n.horizontal?(t=n.base>n.x,e="left",s="right"):(t=n.base<n.y,e="bottom",s="top"),t?(o="end",a="start"):(o="start",a="end"),{start:e,end:s,reverse:t,top:o,bottom:a}}(n);"middle"===o&&e&&(n.enableBorderRadius=!0,(e._top||0)===s?o=f:(e._bottom||0)===s?o=p:(a[Gr(p,l,c,u)]=!0,o=f)),a[Gr(o,l,c,u)]=!0,n.borderSkipped=a}function Gr(n,t,e,s){return s?(n=function hl(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=Xr(n,e,t)):n=Xr(n,t,e),n}function Xr(n,t,e){return"start"===n?t:"end"===n?e:n}function cl(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}I(le,"defaults",{}),I(le,"datasetElementType",null),I(le,"dataElementType",null);class Co extends le{parsePrimitiveData(t,e,s,o){return Lo(t,e,s,o)}parseArrayData(t,e,s,o){return Lo(t,e,s,o)}parseObjectData(t,e,s,o){const{iScale:a,vScale:l}=t,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,f="x"===a.axis?c:u,p="x"===l.axis?c:u,m=[];let v,x,y,w;for(v=s,x=s+o;v<x;++v)w=e[v],y={},y[a.axis]=a.parse(Kt(w,f),v),m.push(To(Kt(w,p),y,l,v));return m}updateRangeFromParsed(t,e,s,o){super.updateRangeFromParsed(t,e,s,o);const a=s._custom;a&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:s,vScale:o}=e,a=this.getParsed(t),l=a._custom,c=cs(l)?"["+l.start+", "+l.end+"]":""+o.getLabelForValue(a[o.axis]);return{label:""+s.getLabelForValue(a[s.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,s,o){const a="reset"===o,{index:l,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),f=c.isHorizontal(),p=this._getRuler(),{sharedOptions:m,includeOptions:v}=this._getSharedOptions(e,o);for(let x=e;x<e+s;x++){const y=this.getParsed(x),w=a||G(y[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(x),M=this._calculateBarIndexPixels(x,p),T=(y._stacks||{})[c.axis],C={horizontal:f,base:w.base,enableBorderRadius:!T||cs(y._custom)||l===T._top||l===T._bottom,x:f?w.head:M.center,y:f?M.center:w.head,height:f?M.size:Math.abs(w.size),width:f?Math.abs(w.size):M.size};v&&(C.options=m||this.resolveDataElementOptions(x,t[x].active?"active":o));const E=C.options||t[x].options;kr(C,E,T,l),cl(C,E,p.ratio),this.updateElement(t[x],x,C,o)}}_getStacks(t,e){const{iScale:s}=this._cachedMeta,o=s.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),a=s.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(e),u=c&&c[s.axis],f=p=>{const m=p._parsed.find(x=>x[s.axis]===u),v=m&&m[p.vScale.axis];if(G(v)||isNaN(v))return!0};for(const p of o)if((void 0===e||!f(p))&&((!1===a||-1===l.indexOf(p.stack)||void 0===a&&void 0===p.stack)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[U("x"===this.chart.options.indexAxis?s.xAxisID:s.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,s){const o=this._getStacks(t,s),a=void 0!==e?o.indexOf(e):-1;return-1===a?o.length-1:a}_getRuler(){const t=this.options,e=this._cachedMeta,s=e.iScale,o=[];let a,l;for(a=0,l=e.data.length;a<l;++a)o.push(s.getPixelForValue(this.getParsed(a)[s.axis],a));const c=t.barThickness;return{min:c||Mr(e),pixels:o,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:s,index:o},options:{base:a,minBarLength:l}}=this,c=a||0,u=this.getParsed(t),f=u._custom,p=cs(f);let y,w,m=u[e.axis],v=0,x=s?this.applyStack(e,u,s):m;x!==m&&(v=x-m,x=m),p&&(m=f.barStart,x=f.barEnd-f.barStart,0!==m&&Ut(m)!==Ut(f.barEnd)&&(v=0),v+=m);const M=G(a)||p?v:a;let T=e.getPixelForValue(M);if(y=this.chart.getDataVisibility(t)?e.getPixelForValue(v+x):T,w=y-T,Math.abs(w)<l){w=function us(n,t,e){return 0!==n?Ut(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(w,e,c)*l,m===c&&(T-=w/2);const C=e.getPixelForDecimal(0),E=e.getPixelForDecimal(1),z=Math.min(C,E),O=Math.max(C,E);T=Math.max(Math.min(T,O),z),y=T+w,s&&!p&&(u._stacks[e.axis]._visualValues[o]=e.getValueForPixel(y)-e.getValueForPixel(T))}if(T===e.getPixelForValue(c)){const C=Ut(w)*e.getLineWidthForValue(c)/2;T+=C,w-=C}return{size:w,base:T,head:y,center:y+w/2}}_calculateBarIndexPixels(t,e){const s=e.scale,o=this.options,a=o.skipNull,l=U(o.maxBarThickness,1/0);let c,u;const f=this._getAxisCount();if(e.grouped){const p=a?this._getStackCount(t):e.stackCount,m="flex"===o.barThickness?function Ot(n,t,e,s){const o=t.pixels,a=o[n];let l=n>0?o[n-1]:null,c=n<o.length-1?o[n+1]:null;const u=e.categoryPercentage;null===l&&(l=a-(null===c?t.end-t.start:c-a)),null===c&&(c=a+a-l);const f=a-(a-Math.min(l,c))/2*u;return{chunk:Math.abs(c-l)/2*u/s,ratio:e.barPercentage,start:f}}(t,e,o,p*f):function ko(n,t,e,s){const o=e.barThickness;let a,l;return G(o)?(a=t.min*e.categoryPercentage,l=e.barPercentage):(a=o*s,l=1),{chunk:a/s,ratio:l,start:t.pixels[n]-a/2}}(t,e,o,p*f),v="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(U(v,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+x;c=m.start+m.chunk*y+m.chunk/2,u=Math.min(l,m.chunk*m.ratio)}else c=s.getPixelForValue(this.getParsed(t)[s.axis],t),u=Math.min(l,e.min*e.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const t=this._cachedMeta,e=t.vScale,s=t.data,o=s.length;let a=0;for(;a<o;++a)null!==this.getParsed(a)[e.axis]&&!s[a].hidden&&s[a].draw(this._ctx)}}I(Co,"id","bar"),I(Co,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),I(Co,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Oo extends le{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,s,o){const a=super.parsePrimitiveData(t,e,s,o);for(let l=0;l<a.length;l++)a[l]._custom=this.resolveDataElementOptions(l+s).radius;return a}parseArrayData(t,e,s,o){const a=super.parseArrayData(t,e,s,o);for(let l=0;l<a.length;l++)a[l]._custom=U(e[s+l][2],this.resolveDataElementOptions(l+s).radius);return a}parseObjectData(t,e,s,o){const a=super.parseObjectData(t,e,s,o);for(let l=0;l<a.length;l++){const c=e[s+l];a[l]._custom=U(c&&c.r&&+c.r,this.resolveDataElementOptions(l+s).radius)}return a}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let s=t.length-1;s>=0;--s)e=Math.max(e,t[s].size(this.resolveDataElementOptions(s))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart.data.labels||[],{xScale:o,yScale:a}=e,l=this.getParsed(t),c=o.getLabelForValue(l.x),u=a.getLabelForValue(l.y),f=l._custom;return{label:s[t]||"",value:"("+c+", "+u+(f?", "+f:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,s,o){const a="reset"===o,{iScale:l,vScale:c}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(e,o),p=l.axis,m=c.axis;for(let v=e;v<e+s;v++){const x=t[v],y=!a&&this.getParsed(v),w={},M=w[p]=a?l.getPixelForDecimal(.5):l.getPixelForValue(y[p]),T=w[m]=a?c.getBasePixel():c.getPixelForValue(y[m]);w.skip=isNaN(M)||isNaN(T),f&&(w.options=u||this.resolveDataElementOptions(v,x.active?"active":o),a&&(w.options.radius=0)),this.updateElement(x,v,w,o)}}resolveDataElementOptions(t,e){const s=this.getParsed(t);let o=super.resolveDataElementOptions(t,e);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const a=o.radius;return"active"!==e&&(o.radius=0),o.radius+=U(s&&s._custom,a),o}}I(Oo,"id","bubble"),I(Oo,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),I(Oo,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Yi extends le{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const s=this.getDataset().data,o=this._cachedMeta;if(!1===this._parsing)o._parsed=s;else{let l,c,a=u=>+s[u];if(Q(s[t])){const{key:u="value"}=this._parsing;a=f=>+Kt(s[f],u)}for(l=t,c=t+e;l<c;++l)o._parsed[l]=a(l)}}_getRotation(){return Zt(this.options.rotation-90)}_getCircumference(){return Zt(this.options.circumference)}_getRotationExtents(){let t=mt,e=-mt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const o=this.chart.getDatasetMeta(s).controller,a=o._getRotation(),l=o._getCircumference();t=Math.min(t,a),e=Math.max(e,a+l)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:s}=e,o=this._cachedMeta,a=o.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(s.width,s.height)-l)/2,0),u=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/t)(this.options.cutout,c),1),f=this._getRingWeight(this.index),{circumference:p,rotation:m}=this._getRotationExtents(),{ratioX:v,ratioY:x,offsetX:y,offsetY:w}=function ul(n,t,e){let s=1,o=1,a=0,l=0;if(t<mt){const c=n,u=c+t,f=Math.cos(c),p=Math.sin(c),m=Math.cos(u),v=Math.sin(u),x=(E,z,O)=>zi(E,c,u,!0)?1:Math.max(z,z*e,O,O*e),y=(E,z,O)=>zi(E,c,u,!0)?-1:Math.min(z,z*e,O,O*e),w=x(0,f,m),M=x(kt,p,v),T=y(it,f,m),C=y(it+kt,p,v);s=(w-T)/2,o=(M-C)/2,a=-(w+T)/2,l=-(M+C)/2}return{ratioX:s,ratioY:o,offsetX:a,offsetY:l}}(m,p,u),C=Math.max(Math.min((s.width-l)/v,(s.height-l)/x)/2,0),E=Bs(this.options.radius,C),O=(E-Math.max(E*u,0))/this._getVisibleDatasetWeightTotal();this.offsetX=y*E,this.offsetY=w*E,o.total=this.calculateTotal(),this.outerRadius=E-O*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-O*f,0),this.updateElements(a,0,a.length,t)}_circumference(t,e){const s=this.options,o=this._cachedMeta,a=this._getCircumference();return e&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||null===o._parsed[t]||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*a/mt)}updateElements(t,e,s,o){const a="reset"===o,l=this.chart,c=l.chartArea,p=(c.left+c.right)/2,m=(c.top+c.bottom)/2,v=a&&l.options.animation.animateScale,x=v?0:this.innerRadius,y=v?0:this.outerRadius,{sharedOptions:w,includeOptions:M}=this._getSharedOptions(e,o);let C,T=this._getRotation();for(C=0;C<e;++C)T+=this._circumference(C,a);for(C=e;C<e+s;++C){const E=this._circumference(C,a),z=t[C],O={x:p+this.offsetX,y:m+this.offsetY,startAngle:T,endAngle:T+E,circumference:E,outerRadius:y,innerRadius:x};M&&(O.options=w||this.resolveDataElementOptions(C,z.active?"active":o)),T+=E,this.updateElement(z,C,O,o)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let o,s=0;for(o=0;o<e.length;o++){const a=t._parsed[o];null!==a&&!isNaN(a)&&this.chart.getDataVisibility(o)&&!e[o].hidden&&(s+=Math.abs(a))}return s}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?mt*(Math.abs(t)/e):0}getLabelAndValue(t){const s=this.chart,o=s.data.labels||[],a=Qe(this._cachedMeta._parsed[t],s.options.locale);return{label:o[t]||"",value:a}}getMaxBorderWidth(t){let e=0;const s=this.chart;let o,a,l,c,u;if(!t)for(o=0,a=s.data.datasets.length;o<a;++o)if(s.isDatasetVisible(o)){l=s.getDatasetMeta(o),t=l.data,c=l.controller;break}if(!t)return 0;for(o=0,a=t.length;o<a;++o)u=c.resolveDataElementOptions(o),"inner"!==u.borderAlign&&(e=Math.max(e,u.borderWidth||0,u.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let s=0,o=t.length;s<o;++s){const a=this.resolveDataElementOptions(s);e=Math.max(e,a.offset||0,a.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(e+=this._getRingWeight(s));return e}_getRingWeight(t){return Math.max(U(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}I(Yi,"id","doughnut"),I(Yi,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),I(Yi,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),I(Yi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data,{labels:{pointStyle:s,textAlign:o,color:a,useBorderRadius:l,borderRadius:c}}=t.legend.options;return e.labels.length&&e.datasets.length?e.labels.map((u,f)=>{const m=t.getDatasetMeta(0).controller.getStyle(f);return{text:u,fillStyle:m.backgroundColor,fontColor:a,hidden:!t.getDataVisibility(f),lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:m.borderWidth,strokeStyle:m.borderColor,textAlign:o,pointStyle:s,borderRadius:l&&(c||m.borderRadius),index:f}}):[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}}}});class Ao extends le{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:s,data:o=[],_dataset:a}=e,l=this.chart._animationsDisabled;let{start:c,count:u}=oe(e,o,l);this._drawStart=c,this._drawCount=u,ft(e)&&(c=0,u=o.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!a._decimated,s.points=o;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(s,void 0,{animated:!l,options:f},t),this.updateElements(o,c,u,t)}updateElements(t,e,s,o){const a="reset"===o,{iScale:l,vScale:c,_stacked:u,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(e,o),v=l.axis,x=c.axis,{spanGaps:y,segment:w}=this.options,M=ht(y)?y:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||a||"none"===o,C=e+s,E=t.length;let z=e>0&&this.getParsed(e-1);for(let O=0;O<E;++O){const R=t[O],B=T?R:{};if(O<e||O>=C){B.skip=!0;continue}const F=this.getParsed(O),H=G(F[x]),K=B[v]=l.getPixelForValue(F[v],O),J=B[x]=a||H?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,F,u):F[x],O);B.skip=isNaN(K)||isNaN(J)||H,B.stop=O>0&&Math.abs(F[v]-z[v])>M,w&&(B.parsed=F,B.raw=f.data[O]),m&&(B.options=p||this.resolveDataElementOptions(O,R.active?"active":o)),T||this.updateElement(R,O,B,o),z=F}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,s=e.options&&e.options.borderWidth||0,o=t.data||[];if(!o.length)return s;const a=o[0].size(this.resolveDataElementOptions(0)),l=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(s,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}I(Ao,"id","line"),I(Ao,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),I(Ao,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ds extends le{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const s=this.chart,o=s.data.labels||[],a=Qe(this._cachedMeta._parsed[t].r,s.options.locale);return{label:o[t]||"",value:a}}parseObjectData(t,e,s,o){return co.bind(this)(t,e,s,o)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((s,o)=>{const a=this.getParsed(o).r;!isNaN(a)&&this.chart.getDataVisibility(o)&&(a<e.min&&(e.min=a),a>e.max&&(e.max=a))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,s=t.options,o=Math.min(e.right-e.left,e.bottom-e.top),a=Math.max(o/2,0),c=(a-Math.max(s.cutoutPercentage?a/100*s.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=a-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,e,s,o){const a="reset"===o,l=this.chart,u=l.options.animation,f=this._cachedMeta.rScale,p=f.xCenter,m=f.yCenter,v=f.getIndexAngle(0)-.5*it;let y,x=v;const w=360/this.countVisibleElements();for(y=0;y<e;++y)x+=this._computeAngle(y,o,w);for(y=e;y<e+s;y++){const M=t[y];let T=x,C=x+this._computeAngle(y,o,w),E=l.getDataVisibility(y)?f.getDistanceFromCenterForValue(this.getParsed(y).r):0;x=C,a&&(u.animateScale&&(E=0),u.animateRotate&&(T=C=v));const z={x:p,y:m,innerRadius:0,outerRadius:E,startAngle:T,endAngle:C,options:this.resolveDataElementOptions(y,M.active?"active":o)};this.updateElement(M,y,z,o)}}countVisibleElements(){let e=0;return this._cachedMeta.data.forEach((s,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&e++}),e}_computeAngle(t,e,s){return this.chart.getDataVisibility(t)?Zt(this.resolveDataElementOptions(t,e).angle||s):0}}I(ds,"id","polarArea"),I(ds,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),I(ds,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s,color:o}}=t.legend.options;return e.labels.map((a,l)=>{const u=t.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:o,lineWidth:u.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Tr extends Yi{}I(Tr,"id","pie"),I(Tr,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Do extends le{getLabelAndValue(t){const e=this._cachedMeta.vScale,s=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(s[e.axis])}}parseObjectData(t,e,s,o){return co.bind(this)(t,e,s,o)}update(t){const e=this._cachedMeta,s=e.dataset,o=e.data||[],a=e.iScale.getLabels();if(s.points=o,"resize"!==t){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),this.updateElement(s,void 0,{_loop:!0,_fullLoop:a.length===o.length,options:l},t)}this.updateElements(o,0,o.length,t)}updateElements(t,e,s,o){const a=this._cachedMeta.rScale,l="reset"===o;for(let c=e;c<e+s;c++){const u=t[c],f=this.resolveDataElementOptions(c,u.active?"active":o),p=a.getPointPositionForValue(c,this.getParsed(c).r),m=l?a.xCenter:p.x,v=l?a.yCenter:p.y,x={x:m,y:v,angle:p.angle,skip:isNaN(m)||isNaN(v),options:f};this.updateElement(u,c,x,o)}}}I(Do,"id","radar"),I(Do,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),I(Do,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class zo extends le{getLabelAndValue(t){const e=this._cachedMeta,s=this.chart.data.labels||[],{xScale:o,yScale:a}=e,l=this.getParsed(t),c=o.getLabelForValue(l.x),u=a.getLabelForValue(l.y);return{label:s[t]||"",value:"("+c+", "+u+")"}}update(t){const e=this._cachedMeta,{data:s=[]}=e,o=this.chart._animationsDisabled;let{start:a,count:l}=oe(e,s,o);if(this._drawStart=a,this._drawCount=l,ft(e)&&(a=0,l=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:u}=e;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!u._decimated,c.points=s;const f=this.resolveDatasetElementOptions(t);f.segment=this.options.segment,this.updateElement(c,void 0,{animated:!o,options:f},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(s,a,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,s,o){const a="reset"===o,{iScale:l,vScale:c,_stacked:u,_dataset:f}=this._cachedMeta,p=this.resolveDataElementOptions(e,o),m=this.getSharedOptions(p),v=this.includeOptions(o,m),x=l.axis,y=c.axis,{spanGaps:w,segment:M}=this.options,T=ht(w)?w:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||a||"none"===o;let E=e>0&&this.getParsed(e-1);for(let z=e;z<e+s;++z){const O=t[z],R=this.getParsed(z),B=C?O:{},F=G(R[y]),H=B[x]=l.getPixelForValue(R[x],z),K=B[y]=a||F?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,R,u):R[y],z);B.skip=isNaN(H)||isNaN(K)||F,B.stop=z>0&&Math.abs(R[x]-E[x])>T,M&&(B.parsed=R,B.raw=f.data[z]),v&&(B.options=m||this.resolveDataElementOptions(z,O.active?"active":o)),C||this.updateElement(O,z,B,o),E=R}this.updateSharedOptions(m,o,p)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let c=0;for(let u=e.length-1;u>=0;--u)c=Math.max(c,e[u].size(this.resolveDataElementOptions(u))/2);return c>0&&c}const s=t.dataset,o=s.options&&s.options.borderWidth||0;if(!e.length)return o;const a=e[0].size(this.resolveDataElementOptions(0)),l=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(o,a,l)/2}}I(zo,"id","scatter"),I(zo,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),I(zo,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var dl=Object.freeze({__proto__:null,BarController:Co,BubbleController:Oo,DoughnutController:Yi,LineController:Ao,PieController:Tr,PolarAreaController:ds,RadarController:Do,ScatterController:zo});function $i(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Lr{constructor(t){I(this,"options"),this.options=t||{}}static override(t){Object.assign(Lr.prototype,t)}init(){}formats(){return $i()}parse(){return $i()}format(){return $i()}add(){return $i()}diff(){return $i()}startOf(){return $i()}endOf(){return $i()}}var fl__date=Lr;function pl(n,t,e,s){const{controller:o,data:a,_sorted:l}=n,c=o._cachedMeta.iScale,u=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&t===c.axis&&"r"!==t&&l&&a.length){const f=c._reversePixels?Ei:Jt;if(!s){const p=f(a,t,e);if(u){const{vScale:m}=o._cachedMeta,{_parsed:v}=n,x=v.slice(0,p.lo+1).reverse().findIndex(w=>!G(w[m.axis]));p.lo-=Math.max(0,x);const y=v.slice(p.hi).findIndex(w=>!G(w[m.axis]));p.hi+=Math.max(0,y)}return p}if(o._sharedOptions){const p=a[0],m="function"==typeof p.getRange&&p.getRange(t);if(m){const v=f(a,t,e-m),x=f(a,t,e+m);return{lo:v.lo,hi:x.hi}}}}return{lo:0,hi:a.length-1}}function fs(n,t,e,s,o){const a=n.getSortedVisibleDatasetMetas(),l=e[t];for(let c=0,u=a.length;c<u;++c){const{index:f,data:p}=a[c],{lo:m,hi:v}=pl(a[c],t,l,o);for(let x=m;x<=v;++x){const y=p[x];y.skip||s(y,f,x)}}}function Sr(n,t,e,s,o){const a=[];return!o&&!n.isPointInArea(t)||fs(n,e,t,function(c,u,f){!o&&!me(c,n.chartArea,0)||c.inRange(t.x,t.y,s)&&a.push({element:c,datasetIndex:u,index:f})},!0),a}function Cr(n,t,e,s,o,a){return a||n.isPointInArea(t)?"r"!==e||s?function _l(n,t,e,s,o,a){let l=[];const c=function gl(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(s,o){const a=t?Math.abs(s.x-o.x):0,l=e?Math.abs(s.y-o.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}(e);let u=Number.POSITIVE_INFINITY;return fs(n,e,t,function f(p,m,v){const x=p.inRange(t.x,t.y,o);if(s&&!x)return;const y=p.getCenterPoint(o);if(!a&&!n.isPointInArea(y)&&!x)return;const M=c(t,y);M<u?(l=[{element:p,datasetIndex:m,index:v}],u=M):M===u&&l.push({element:p,datasetIndex:m,index:v})}),l}(n,t,e,s,o,a):function ml(n,t,e,s){let o=[];return fs(n,e,t,function a(l,c,u){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],s),{angle:m}=wt(l,{x:t.x,y:t.y});zi(m,f,p)&&o.push({element:l,datasetIndex:c,index:u})}),o}(n,t,e,o):[]}function Kr(n,t,e,s,o){const a=[],l="x"===e?"inXRange":"inYRange";let c=!1;return fs(n,e,t,(u,f,p)=>{u[l]&&u[l](t[e],o)&&(a.push({element:u,datasetIndex:f,index:p}),c=c||u.inRange(t.x,t.y,o))}),s&&!c?[]:a}var vl={evaluateInteractionItems:fs,modes:{index(n,t,e,s){const o=oi(t,n),a=e.axis||"x",l=e.includeInvisible||!1,c=e.intersect?Sr(n,o,a,s,l):Cr(n,o,a,!1,s,l),u=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=c[0].index,m=f.data[p];m&&!m.skip&&u.push({element:m,datasetIndex:f.index,index:p})}),u):[]},dataset(n,t,e,s){const o=oi(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;let c=e.intersect?Sr(n,o,a,s,l):Cr(n,o,a,!1,s,l);if(c.length>0){const u=c[0].datasetIndex,f=n.getDatasetMeta(u).data;c=[];for(let p=0;p<f.length;++p)c.push({element:f[p],datasetIndex:u,index:p})}return c},point:(n,t,e,s)=>Sr(n,oi(t,n),e.axis||"xy",s,e.includeInvisible||!1),nearest:(n,t,e,s)=>Cr(n,oi(t,n),e.axis||"xy",e.intersect,s,e.includeInvisible||!1),x:(n,t,e,s)=>Kr(n,oi(t,n),"x",e.intersect,s),y:(n,t,e,s)=>Kr(n,oi(t,n),"y",e.intersect,s)}};const Jr=["left","top","right","bottom"];function ps(n,t){return n.filter(e=>e.pos===t)}function Qr(n,t){return n.filter(e=>-1===Jr.indexOf(e.pos)&&e.box.axis===t)}function gs(n,t){return n.sort((e,s)=>{const o=t?s:e,a=t?e:s;return o.weight===a.weight?o.index-a.index:o.weight-a.weight})}function ta(n,t,e,s){return Math.max(n[e],t[e])+Math.max(n[s],t[s])}function ea(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function Pl(n,t,e,s){const{pos:o,box:a}=e,l=n.maxPadding;if(!Q(o)){e.size&&(n[o]-=e.size);const m=s[e.stack]||{size:0,count:1};m.size=Math.max(m.size,e.horizontal?a.height:a.width),e.size=m.size/m.count,n[o]+=e.size}a.getPadding&&ea(l,a.getPadding());const c=Math.max(0,t.outerWidth-ta(l,n,"left","right")),u=Math.max(0,t.outerHeight-ta(l,n,"top","bottom")),f=c!==n.w,p=u!==n.h;return n.w=c,n.h=u,e.horizontal?{same:f,other:p}:{same:p,other:f}}function kl(n,t){const e=t.maxPadding;return function s(o){const a={left:0,top:0,right:0,bottom:0};return o.forEach(l=>{a[l]=Math.max(t[l],e[l])}),a}(n?["left","right"]:["top","bottom"])}function ms(n,t,e,s){const o=[];let a,l,c,u,f,p;for(a=0,l=n.length,f=0;a<l;++a){c=n[a],u=c.box,u.update(c.width||t.w,c.height||t.h,kl(c.horizontal,t));const{same:m,other:v}=Pl(t,e,c,s);f|=m&&o.length,p=p||v,u.fullSize||o.push(c)}return f&&ms(o,t,e,s)||p}function Eo(n,t,e,s,o){n.top=e,n.left=t,n.right=t+s,n.bottom=e+o,n.width=s,n.height=o}function ia(n,t,e,s){const o=e.padding;let{x:a,y:l}=t;for(const c of n){const u=c.box,f=s[c.stack]||{count:1,placed:0,weight:1},p=c.stackWeight/f.weight||1;if(c.horizontal){const m=t.w*p,v=f.size||u.height;Ci(f.start)&&(l=f.start),u.fullSize?Eo(u,o.left,l,e.outerWidth-o.right-o.left,v):Eo(u,t.left+f.placed,l,m,v),f.start=l,f.placed+=m,l=u.bottom}else{const m=t.h*p,v=f.size||u.width;Ci(f.start)&&(a=f.start),u.fullSize?Eo(u,a,o.top,v,e.outerHeight-o.bottom-o.top):Eo(u,a,t.top+f.placed,v,m),f.start=a,f.placed+=m,a=u.right}}t.x=a,t.y=l}var jt={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,s){if(!n)return;const o=Ct(n.options.layout.padding),a=Math.max(t-o.width,0),l=Math.max(e-o.height,0),c=function wl(n){const t=function bl(n){const t=[];let e,s,o,a,l,c;for(e=0,s=(n||[]).length;e<s;++e)o=n[e],({position:a,options:{stack:l,stackWeight:c=1}}=o),t.push({index:e,box:o,pos:a,horizontal:o.isHorizontal(),weight:o.weight,stack:l&&a+l,stackWeight:c});return t}(n),e=gs(t.filter(f=>f.box.fullSize),!0),s=gs(ps(t,"left"),!0),o=gs(ps(t,"right")),a=gs(ps(t,"top"),!0),l=gs(ps(t,"bottom")),c=Qr(t,"x"),u=Qr(t,"y");return{fullSize:e,leftAndTop:s.concat(a),rightAndBottom:o.concat(u).concat(l).concat(c),chartArea:ps(t,"chartArea"),vertical:s.concat(o).concat(u),horizontal:a.concat(l).concat(c)}}(n.boxes),u=c.vertical,f=c.horizontal;rt(n.boxes,w=>{"function"==typeof w.beforeLayout&&w.beforeLayout()});const p=u.reduce((w,M)=>M.box.options&&!1===M.box.options.display?w:w+1,0)||1,m=Object.freeze({outerWidth:t,outerHeight:e,padding:o,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),v=Object.assign({},o);ea(v,Ct(s));const x=Object.assign({maxPadding:v,w:a,h:l,x:o.left,y:o.top},o),y=function yl(n,t){const e=function xl(n){const t={};for(const e of n){const{stack:s,pos:o,stackWeight:a}=e;if(!s||!Jr.includes(o))continue;const l=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}(n),{vBoxMaxWidth:s,hBoxMaxHeight:o}=t;let a,l,c;for(a=0,l=n.length;a<l;++a){c=n[a];const{fullSize:u}=c.box,f=e[c.stack],p=f&&c.stackWeight/f.weight;c.horizontal?(c.width=p?p*s:u&&t.availableWidth,c.height=o):(c.width=s,c.height=p?p*o:u&&t.availableHeight)}return e}(u.concat(f),m);ms(c.fullSize,x,m,y),ms(u,x,m,y),ms(f,x,m,y)&&ms(u,x,m,y),function Ml(n){const t=n.maxPadding;function e(s){const o=Math.max(t[s]-n[s],0);return n[s]+=o,o}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(x),ia(c.leftAndTop,x,m,y),x.x+=x.w,x.y+=x.h,ia(c.rightAndBottom,x,m,y),n.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},rt(c.chartArea,w=>{const M=w.box;Object.assign(M,n.chartArea),M.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class na{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,o){return e=Math.max(0,e||t.width),s=s||t.height,{width:e,height:Math.max(0,o?Math.floor(e/o):s)}}isAttached(t){return!0}updateConfig(t){}}class Tl extends na{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Io="$chartjs",Ll={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},sa=n=>null===n||""===n,oa=!!be&&{passive:!0};function Ol(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,oa)}function Ro(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function Dl(n,t,e){const s=n.canvas,o=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Ro(c.addedNodes,s),l=l&&!Ro(c.removedNodes,s);l&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}function zl(n,t,e){const s=n.canvas,o=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Ro(c.removedNodes,s),l=l&&!Ro(c.addedNodes,s);l&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}const _s=new Map;let ra=0;function aa(){const n=window.devicePixelRatio;n!==ra&&(ra=n,_s.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function Rl(n,t,e){const s=n.canvas,o=s&&Hi(s);if(!o)return;const a=Ri((c,u)=>{const f=o.clientWidth;e(c,u),f<o.clientWidth&&e()},window),l=new ResizeObserver(c=>{const u=c[0],f=u.contentRect.width,p=u.contentRect.height;0===f&&0===p||a(f,p)});return l.observe(o),function El(n,t){_s.size||window.addEventListener("resize",aa),_s.set(n,t)}(n,a),l}function Or(n,t,e){e&&e.disconnect(),"resize"===t&&function Il(n){_s.delete(n),_s.size||window.removeEventListener("resize",aa)}(n)}function Bl(n,t,e){const s=n.canvas,o=Ri(a=>{null!==n.ctx&&e(function Al(n,t){const e=Ll[n.type]||n.type,{x:s,y:o}=oi(n,t);return{type:e,chart:t,native:n,x:void 0!==s?s:null,y:void 0!==o?o:null}}(a,n))},n);return function Cl(n,t,e){n&&n.addEventListener(t,e,oa)}(s,t,o),o}class Fl extends na{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(function Sl(n,t){const e=n.style,s=n.getAttribute("height"),o=n.getAttribute("width");if(n[Io]={initial:{height:s,width:o,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",sa(o)){const a=Vi(n,"width");void 0!==a&&(n.width=a)}if(sa(s))if(""===n.style.height)n.height=n.width/(t||2);else{const a=Vi(n,"height");void 0!==a&&(n.height=a)}}(t,e),s):null}releaseContext(t){const e=t.canvas;if(!e[Io])return!1;const s=e[Io].initial;["height","width"].forEach(a=>{const l=s[a];G(l)?e.removeAttribute(a):e.setAttribute(a,l)});const o=s.style||{};return Object.keys(o).forEach(a=>{e.style[a]=o[a]}),e.width=e.width,delete e[Io],!0}addEventListener(t,e,s){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:Dl,detach:zl,resize:Rl}[e]||Bl)(t,e,s)}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={}),o=s[e];o&&(({attach:Or,detach:Or,resize:Or}[e]||Ol)(t,e,o),s[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,o){return function po(n,t,e,s){const o=De(n),a=Ne(o,"margin"),l=si(o.maxWidth,n,"clientWidth")||hn,c=si(o.maxHeight,n,"clientHeight")||hn,u=function fo(n,t,e){let s,o;if(void 0===t||void 0===e){const a=n&&Hi(n);if(a){const l=a.getBoundingClientRect(),c=De(a),u=Ne(c,"border","width"),f=Ne(c,"padding");t=l.width-f.width-u.width,e=l.height-f.height-u.height,s=si(c.maxWidth,a,"clientWidth"),o=si(c.maxHeight,a,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:s||hn,maxHeight:o||hn}}(n,t,e);let{width:f,height:p}=u;if("content-box"===o.boxSizing){const v=Ne(o,"border","width"),x=Ne(o,"padding");f-=x.width+v.width,p-=x.height+v.height}return f=Math.max(0,f-a.width),p=Math.max(0,s?f/s:p-a.height),f=We(Math.min(f,l,u.maxWidth)),p=We(Math.min(p,c,u.maxHeight)),f&&!p&&(p=We(f/2)),(void 0!==t||void 0!==e)&&s&&u.height&&p>u.height&&(p=u.height,f=We(Math.floor(p*s))),{width:f,height:p}}(t,e,s,o)}isAttached(t){const e=t&&Hi(t);return!(!e||!e.isConnected)}}class ze{constructor(){I(this,"x"),I(this,"y"),I(this,"active",!1),I(this,"options"),I(this,"$animations")}tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return ht(this.x)&&ht(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s)return this;const o={};return t.forEach(a=>{o[a]=s[a]&&s[a].active()?s[a]._to:this[a]}),o}}function Bo(n,t,e,s,o){const a=U(s,0),l=Math.min(U(o,n.length),n.length);let u,f,p,c=0;for(e=Math.ceil(e),o&&(u=o-s,e=u/Math.floor(u/e)),p=a;p<0;)c++,p=Math.round(a+c*e);for(f=Math.max(a,0);f<l;f++)f===p&&(t.push(n[f]),c++,p=Math.round(a+c*e))}I(ze,"defaults",{}),I(ze,"defaultRoutes");const la=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e,ha=(n,t)=>Math.min(t||n,n);function ca(n,t){const e=[],s=n.length/t,o=n.length;let a=0;for(;a<o;a+=s)e.push(n[Math.floor(a)]);return e}function Yl(n,t,e){const s=n.ticks.length,o=Math.min(t,s-1),a=n._startPixel,l=n._endPixel,c=1e-6;let f,u=n.getPixelForTick(o);if(!(e&&(f=1===s?Math.max(u-a,l-u):0===t?(n.getPixelForTick(1)-u)/2:(u-n.getPixelForTick(o-1))/2,u+=o<t?f:-f,u<a-c||u>l+c)))return u}function vs(n){return n.drawTicks?n.tickLength:0}function ua(n,t){if(!n.display)return 0;const e=ot(n.font,t),s=Ct(n.padding);return(pt(n.text)?n.text.length:1)*e.lineHeight+s.height}function Kl(n,t,e){let s=Bi(n);return(e&&"right"!==t||!e&&"right"===t)&&(s=(n=>"left"===n?"right":"right"===n?"left":n)(s)),s}class Gi extends ze{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:o}=this;return t=Xt(t,Number.POSITIVE_INFINITY),e=Xt(e,Number.NEGATIVE_INFINITY),s=Xt(s,Number.POSITIVE_INFINITY),o=Xt(o,Number.NEGATIVE_INFINITY),{min:Xt(t,s),max:Xt(e,o),minDefined:yt(t),maxDefined:yt(e)}}getMinMax(t){let l,{min:e,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();if(o&&a)return{min:e,max:s};const c=this.getMatchingVisibleMetas();for(let u=0,f=c.length;u<f;++u)l=c[u].controller.getMinMax(this,t),o||(e=Math.min(e,l.min)),a||(s=Math.max(s,l.max));return e=a&&e>s?s:e,s=o&&e>s?e:s,{min:Xt(e,Xt(s,e)),max:Xt(s,Xt(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){lt(this.options.beforeUpdate,[this])}update(t,e,s){const{beginAtZero:o,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function oo(n,t,e){const{min:s,max:o}=n,a=Bs(t,(o-s)/2),l=(c,u)=>e&&0===c?0:c+u;return{min:l(s,-Math.abs(a)),max:l(o,a)}}(this,a,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?ca(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||"auto"===l.source)&&(this.ticks=function Nl(n,t){const e=n.options.ticks,s=function Wl(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),o=Math.min(e.maxTicksLimit||s,s),a=e.major.enabled?function Vl(n){const t=[];let e,s;for(e=0,s=n.length;e<s;e++)n[e].major&&t.push(e);return t}(t):[],l=a.length,c=a[0],u=a[l-1],f=[];if(l>o)return function Ul(n,t,e,s){let l,o=0,a=e[0];for(s=Math.ceil(s),l=0;l<n.length;l++)l===a&&(t.push(n[l]),o++,a=e[o*s])}(t,f,a,l/o),f;const p=function Hl(n,t,e){const s=function jl(n){const t=n.length;let e,s;if(t<2)return!1;for(s=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==s)return!1;return s}(n),o=t.length/e;if(!s)return Math.max(o,1);const a=function Oi(n){const t=[],e=Math.sqrt(n);let s;for(s=1;s<e;s++)n%s==0&&(t.push(s),t.push(n/s));return e===(0|e)&&t.push(e),t.sort((o,a)=>o-a).pop(),t}(s);for(let l=0,c=a.length-1;l<c;l++){const u=a[l];if(u>o)return u}return Math.max(o,1)}(a,t,o);if(l>0){let m,v;const x=l>1?Math.round((u-c)/(l-1)):null;for(Bo(t,f,p,G(x)?0:c-x,c),m=0,v=l-1;m<v;m++)Bo(t,f,p,a[m],a[m+1]);return Bo(t,f,p,u,G(x)?t.length:u+x),f}return Bo(t,f,p),f}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,s,t=this.options.reverse;this.isHorizontal()?(e=this.left,s=this.right):(e=this.top,s=this.bottom,t=!t),this._startPixel=e,this._endPixel=s,this._reversePixels=t,this._length=s-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){lt(this.options.afterUpdate,[this])}beforeSetDimensions(){lt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){lt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),lt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){lt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let s,o,a;for(s=0,o=t.length;s<o;s++)a=t[s],a.label=lt(e.callback,[a.value,s,t],this)}afterTickToLabelConversion(){lt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){lt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,s=ha(this.ticks.length,t.ticks.maxTicksLimit),o=e.minRotation||0,a=e.maxRotation;let c,u,f,l=o;if(!this._isVisible()||!e.display||o>=a||s<=1||!this.isHorizontal())return void(this.labelRotation=o);const p=this._getLabelSizes(),m=p.widest.width,v=p.highest.height,x=Tt(this.chart.width-m,0,this.maxWidth);c=t.offset?this.maxWidth/s:x/(s-1),m+6>c&&(c=x/(s-(t.offset?.5:1)),u=this.maxHeight-vs(t.grid)-e.padding-ua(t.title,this.chart.options.font),f=Math.sqrt(m*m+v*v),l=Ai(Math.min(Math.asin(Tt((p.highest.height+6)/c,-1,1)),Math.asin(Tt(u/f,-1,1))-Math.asin(Tt(v/f,-1,1)))),l=Math.max(o,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){lt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){lt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:s,title:o,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const u=ua(o,e.options.font);if(c?(t.width=this.maxWidth,t.height=vs(a)+u):(t.height=this.maxHeight,t.width=vs(a)+u),s.display&&this.ticks.length){const{first:f,last:p,widest:m,highest:v}=this._getLabelSizes(),x=2*s.padding,y=Zt(this.labelRotation),w=Math.cos(y),M=Math.sin(y);c?t.height=Math.min(this.maxHeight,t.height+(s.mirror?0:M*m.width+w*v.height)+x):t.width=Math.min(this.maxWidth,t.width+(s.mirror?0:w*m.width+M*v.height)+x),this._calculatePadding(f,p,M,w)}}this._handleMargins(),c?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,s,o){const{ticks:{align:a,padding:l},position:c}=this.options,u=0!==this.labelRotation,f="top"!==c&&"x"===this.axis;if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,x=0;u?f?(v=o*t.width,x=s*e.height):(v=s*t.height,x=o*e.width):"start"===a?x=e.width:"end"===a?v=t.width:"inner"!==a&&(v=t.width/2,x=e.width/2),this.paddingLeft=Math.max((v-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((x-m+l)*this.width/(this.width-m),0)}else{let p=e.height/2,m=t.height/2;"start"===a?(p=0,m=t.height):"end"===a&&(p=e.height,m=0),this.paddingTop=p+l,this.paddingBottom=m+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){lt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,s=t.length;e<s;e++)G(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=ca(s,e)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,s){const{ctx:o,_longestTextCache:a}=this,l=[],c=[],u=Math.floor(e/ha(e,s));let m,v,x,y,w,M,T,C,E,z,O,f=0,p=0;for(m=0;m<e;m+=u){if(y=t[m].label,w=this._resolveTickFontOptions(m),o.font=M=w.string,T=a[M]=a[M]||{data:{},gc:[]},C=w.lineHeight,E=z=0,G(y)||pt(y)){if(pt(y))for(v=0,x=y.length;v<x;++v)O=y[v],!G(O)&&!pt(O)&&(E=_n(o,T.data,T.gc,E,O),z+=C)}else E=_n(o,T.data,T.gc,E,y),z=C;l.push(E),c.push(z),f=Math.max(E,f),p=Math.max(z,p)}!function $l(n,t){rt(n,e=>{const s=e.gc,o=s.length/2;let a;if(o>t){for(a=0;a<o;++a)delete e.data[s[a]];s.splice(0,o)}})}(a,e);const R=l.indexOf(f),B=c.indexOf(p),F=H=>({width:l[H]||0,height:c[H]||0});return{first:F(0),last:F(e-1),widest:F(R),highest:F(B),widths:l,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function Ge(n){return Tt(n,-32768,32767)}(this._alignToPixels?Ce(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=function Xl(n,t,e){return Fe(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,s))}return this.$context||(this.$context=function Gl(n,t){return Fe(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Zt(this.labelRotation),s=Math.abs(Math.cos(e)),o=Math.abs(Math.sin(e)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,c=a?a.widest.width+l:0,u=a?a.highest.height+l:0;return this.isHorizontal()?u*s>c*o?c/s:u/o:u*o<c*s?u/s:c/o}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,s=this.chart,o=this.options,{grid:a,position:l,border:c}=o,u=a.offset,f=this.isHorizontal(),m=this.ticks.length+(u?1:0),v=vs(a),x=[],y=c.setContext(this.getContext()),w=y.display?y.width:0,M=w/2,T=function(Pt){return Ce(s,Pt,w)};let C,E,z,O,R,B,F,H,K,J,st,Wt;if("top"===l)C=T(this.bottom),B=this.bottom-v,H=C-M,J=T(t.top)+M,Wt=t.bottom;else if("bottom"===l)C=T(this.top),J=t.top,Wt=T(t.bottom)-M,B=C+M,H=this.top+v;else if("left"===l)C=T(this.right),R=this.right-v,F=C-M,K=T(t.left)+M,st=t.right;else if("right"===l)C=T(this.left),K=t.left,st=T(t.right)-M,R=C+M,F=this.left+v;else if("x"===e){if("center"===l)C=T((t.top+t.bottom)/2+.5);else if(Q(l)){const Pt=Object.keys(l)[0];C=T(this.chart.scales[Pt].getPixelForValue(l[Pt]))}J=t.top,Wt=t.bottom,B=C+M,H=B+v}else if("y"===e){if("center"===l)C=T((t.left+t.right)/2);else if(Q(l)){const Pt=Object.keys(l)[0];C=T(this.chart.scales[Pt].getPixelForValue(l[Pt]))}R=C-M,F=R-v,K=t.left,st=t.right}const he=U(o.ticks.maxTicksLimit,m),gt=Math.max(1,Math.ceil(m/he));for(E=0;E<m;E+=gt){const Pt=this.getContext(E),At=a.setContext(Pt),Ee=c.setContext(Pt),qt=At.lineWidth,Ln=At.color,Xo=Ee.dash||[],Sn=Ee.dashOffset,ks=At.tickWidth,Ki=At.tickColor,Ts=At.tickBorderDash||[],Ji=At.tickBorderDashOffset;z=Yl(this,E,u),void 0!==z&&(O=Ce(s,z,qt),f?R=F=K=st=O:B=H=J=Wt=O,x.push({tx1:R,ty1:B,tx2:F,ty2:H,x1:K,y1:J,x2:st,y2:Wt,width:qt,color:Ln,borderDash:Xo,borderDashOffset:Sn,tickWidth:ks,tickColor:Ki,tickBorderDash:Ts,tickBorderDashOffset:Ji}))}return this._ticksLength=m,this._borderValue=C,x}_computeLabelItems(t){const e=this.axis,s=this.options,{position:o,ticks:a}=s,l=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:f,padding:p,mirror:m}=a,v=vs(s.grid),x=v+p,y=m?-p:x,w=-Zt(this.labelRotation),M=[];let T,C,E,z,O,R,B,F,H,K,J,st,Wt="middle";if("top"===o)R=this.bottom-y,B=this._getXAxisLabelAlignment();else if("bottom"===o)R=this.top+y,B=this._getXAxisLabelAlignment();else if("left"===o){const gt=this._getYAxisLabelAlignment(v);B=gt.textAlign,O=gt.x}else if("right"===o){const gt=this._getYAxisLabelAlignment(v);B=gt.textAlign,O=gt.x}else if("x"===e){if("center"===o)R=(t.top+t.bottom)/2+x;else if(Q(o)){const gt=Object.keys(o)[0];R=this.chart.scales[gt].getPixelForValue(o[gt])+x}B=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===o)O=(t.left+t.right)/2-x;else if(Q(o)){const gt=Object.keys(o)[0];O=this.chart.scales[gt].getPixelForValue(o[gt])}B=this._getYAxisLabelAlignment(v).textAlign}"y"===e&&("start"===u?Wt="top":"end"===u&&(Wt="bottom"));const he=this._getLabelSizes();for(T=0,C=c.length;T<C;++T){E=c[T],z=E.label;const gt=a.setContext(this.getContext(T));F=this.getPixelForTick(T)+a.labelOffset,H=this._resolveTickFontOptions(T),K=H.lineHeight,J=pt(z)?z.length:1;const Pt=J/2,At=gt.color,Ee=gt.textStrokeColor,qt=gt.textStrokeWidth;let Xo,Ln=B;if(l?(O=F,"inner"===B&&(Ln=T===C-1?this.options.reverse?"left":"right":0===T?this.options.reverse?"right":"left":"center"),st="top"===o?"near"===f||0!==w?-J*K+K/2:"center"===f?-he.highest.height/2-Pt*K+K:K/2-he.highest.height:"near"===f||0!==w?K/2:"center"===f?he.highest.height/2-Pt*K:he.highest.height-J*K,m&&(st*=-1),0!==w&&!gt.showLabelBackdrop&&(O+=K/2*Math.sin(w))):(R=F,st=(1-J)*K/2),gt.showLabelBackdrop){const Sn=Ct(gt.backdropPadding),ks=he.heights[T],Ki=he.widths[T];let Ts=st-Sn.top,Ji=0-Sn.left;switch(Wt){case"middle":Ts-=ks/2;break;case"bottom":Ts-=ks}switch(B){case"center":Ji-=Ki/2;break;case"right":Ji-=Ki;break;case"inner":T===C-1?Ji-=Ki:T>0&&(Ji-=Ki/2)}Xo={left:Ji,top:Ts,width:Ki+Sn.width,height:ks+Sn.height,color:gt.backdropColor}}M.push({label:z,font:H,textOffset:st,options:{rotation:w,color:At,strokeColor:Ee,strokeWidth:qt,textAlign:Ln,textBaseline:Wt,translation:[O,R],backdrop:Xo}})}return M}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Zt(this.labelRotation))return"top"===t?"left":"right";let o="center";return"start"===e.align?o="left":"end"===e.align?o="right":"inner"===e.align&&(o="inner"),o}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:s,mirror:o,padding:a}}=this.options,c=t+a,u=this._getLabelSizes().widest.width;let f,p;return"left"===e?o?(p=this.right+a,"near"===s?f="left":"center"===s?(f="center",p+=u/2):(f="right",p+=u)):(p=this.right-c,"near"===s?f="right":"center"===s?(f="center",p-=u/2):(f="left",p=this.left)):"right"===e?o?(p=this.left+a,"near"===s?f="right":"center"===s?(f="center",p-=u/2):(f="left",p-=u)):(p=this.left+c,"near"===s?f="left":"center"===s?(f="center",p+=u/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:o,width:a,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(s,o,a,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const o=this.ticks.findIndex(a=>a.value===t);return o>=0?e.setContext(this.getContext(o)).lineWidth:0}drawGrid(t){const e=this.options.grid,s=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const c=(u,f,p)=>{!p.width||!p.color||(s.save(),s.lineWidth=p.width,s.strokeStyle=p.color,s.setLineDash(p.borderDash||[]),s.lineDashOffset=p.borderDashOffset,s.beginPath(),s.moveTo(u.x,u.y),s.lineTo(f.x,f.y),s.stroke(),s.restore())};if(e.display)for(a=0,l=o.length;a<l;++a){const u=o[a];e.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),e.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:s,grid:o}}=this,a=s.setContext(this.getContext()),l=s.display?a.width:0;if(!l)return;const c=o.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let f,p,m,v;this.isHorizontal()?(f=Ce(t,this.left,l)-l/2,p=Ce(t,this.right,c)+c/2,m=v=u):(m=Ce(t,this.top,l)-l/2,v=Ce(t,this.bottom,c)+c/2,f=p=u),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(f,m),e.lineTo(p,v),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,o=this._computeLabelArea();o&&re(s,o);const a=this.getLabelItems(t);for(const l of a)ei(s,l.label,0,l.textOffset,l.font,l.options);o&&Zi(s)}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:o}}=this;if(!s.display)return;const a=ot(s.font),l=Ct(s.padding),c=s.align;let u=a.lineHeight/2;"bottom"===e||"center"===e||Q(e)?(u+=l.bottom,pt(s.text)&&(u+=a.lineHeight*(s.text.length-1))):u+=l.top;const{titleX:f,titleY:p,maxWidth:m,rotation:v}=function Jl(n,t,e,s){const{top:o,left:a,bottom:l,right:c,chart:u}=n,{chartArea:f,scales:p}=u;let v,x,y,m=0;const w=l-o,M=c-a;if(n.isHorizontal()){if(x=Nt(s,a,c),Q(e)){const T=Object.keys(e)[0];y=p[T].getPixelForValue(e[T])+w-t}else y="center"===e?(f.bottom+f.top)/2+w-t:la(n,e,t);v=c-a}else{if(Q(e)){const T=Object.keys(e)[0];x=p[T].getPixelForValue(e[T])-M+t}else x="center"===e?(f.left+f.right)/2-M+t:la(n,e,t);y=Nt(s,l,o),m="left"===e?-kt:kt}return{titleX:x,titleY:y,maxWidth:v,rotation:m}}(this,u,e,c);ei(t,s.text,0,0,a,{color:s.color,maxWidth:m,rotation:v,textAlign:Kl(c,e,o),textBaseline:"middle",translation:[f,p]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,s=U(t.grid&&t.grid.z,-1),o=U(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Gi.prototype.draw?[{z:s,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]:[{z:e,draw:a=>{this.draw(a)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",o=[];let a,l;for(a=0,l=e.length;a<l;++a){const c=e[a];c[s]===this.id&&(!t||c.type===t)&&o.push(c)}return o}_resolveTickFontOptions(t){return ot(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Fo{constructor(t,e,s){this.type=t,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;(function eh(n){return"id"in n&&"defaults"in n})(e)&&(s=this.register(e));const o=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in o||(o[a]=t,function Ql(n,t,e){const s=N(Object.create(null),[e?bt.get(e):{},bt.get(t),n.defaults]);bt.set(t,s),n.defaultRoutes&&function th(n,t){Object.keys(t).forEach(e=>{const s=e.split("."),o=s.pop(),a=[n].concat(s).join("."),l=t[e].split("."),c=l.pop(),u=l.join(".");bt.route(a,o,u,c)})}(t,n.defaultRoutes),n.descriptors&&bt.describe(t,n.descriptors)}(t,l,s),this.override&&bt.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,s=t.id,o=this.scope;s in e&&delete e[s],o&&s in bt[o]&&(delete bt[o][s],this.override&&delete Bt[s])}}class ih{constructor(){this.controllers=new Fo(le,"datasets",!0),this.elements=new Fo(ze,"elements"),this.plugins=new Fo(Object,"plugins"),this.scales=new Fo(Gi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach(o=>{const a=s||this._getRegistryForType(o);s||a.isForType(o)||a===this.plugins&&o.id?this._exec(t,a,o):rt(o,l=>{const c=s||this._getRegistryForType(l);this._exec(t,c,l)})})}_exec(t,e,s){const o=an(t);lt(s["before"+o],[],s),e[t](s),lt(s["after"+o],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(t))return s}return this.plugins}_get(t,e,s){const o=e.get(t);if(void 0===o)throw new Error('"'+t+'" is not a registered '+s+".");return o}}var Ve=new ih;class nh{constructor(){this._init=void 0}notify(t,e,s,o){if("beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),void 0===this._init)return;const a=o?this._descriptors(t).filter(o):this._descriptors(t),l=this._notify(a,t,e,s);return"afterDestroy"===e&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),l}_notify(t,e,s,o){o=o||{};for(const a of t){const l=a.plugin;if(!1===lt(l[s],[e,o,a.options],l)&&o.cancelable)return!1}return!0}invalidate(){G(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const s=t&&t.config,o=U(s.options&&s.options.plugins,{}),a=function sh(n){const t={},e=[],s=Object.keys(Ve.plugins.items);for(let a=0;a<s.length;a++)e.push(Ve.getPlugin(s[a]));const o=n.plugins||[];for(let a=0;a<o.length;a++){const l=o[a];-1===e.indexOf(l)&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}(s);return!1!==o||e?function rh(n,{plugins:t,localIds:e},s,o){const a=[],l=n.getContext();for(const c of t){const u=c.id,f=oh(s[u],o);null!==f&&a.push({plugin:c,options:ah(n.config,{plugin:c,local:e[u]},f,l)})}return a}(t,a,o,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],s=this._cache,o=(a,l)=>a.filter(c=>!l.some(u=>c.plugin.id===u.plugin.id));this._notify(o(e,s),t,"stop"),this._notify(o(s,e),t,"start")}}function oh(n,t){return t||!1!==n?!0===n?{}:n:null}function ah(n,{plugin:t,local:e},s,o){const a=n.pluginScopeKeys(t),l=n.getOptionScopes(s,a);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ar(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(bt.datasets[n]||{}).indexAxis||"x"}function da(n){if("x"===n||"y"===n||"r"===n)return n}function ch(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function Dr(n,...t){if(da(n))return n;for(const e of t){const s=e.axis||ch(e.position)||n.length>1&&da(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function fa(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function pa(n){const t=n.options||(n.options={});t.plugins=U(t.plugins,{}),t.scales=function dh(n,t){const e=Bt[n.type]||{scales:{}},s=t.scales||{},o=Ar(n.type,t),a=Object.create(null);return Object.keys(s).forEach(l=>{const c=s[l];if(!Q(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const u=Dr(l,c,function uh(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(e.length)return fa(n,"x",e[0])||fa(n,"y",e[0])}return{}}(l,n),bt.scales[c.type]),f=function hh(n,t){return n===t?"_index_":"_value_"}(u,o),p=e.scales||{};a[l]=ci(Object.create(null),[{axis:u},c,p[u],p[f]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,u=l.indexAxis||Ar(c,t),p=(Bt[c]||{}).scales||{};Object.keys(p).forEach(m=>{const v=function lh(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(m,u),x=l[v+"AxisID"]||v;a[x]=a[x]||Object.create(null),ci(a[x],[{axis:v},s[x],p[m]])})}),Object.keys(a).forEach(l=>{const c=a[l];ci(c,[bt.scales[c.type],bt.scale])}),a}(n,t)}function ga(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const ma=new Map,_a=new Set;function Zo(n,t){let e=ma.get(n);return e||(e=t(),ma.set(n,e),_a.add(e)),e}const bs=(n,t,e)=>{const s=Kt(t,e);void 0!==s&&n.add(s)};class ph{constructor(t){this._config=function fh(n){return(n=n||{}).data=ga(n.data),pa(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ga(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),pa(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Zo(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Zo(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Zo(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return Zo(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const s=this._scopeCache;let o=s.get(t);return(!o||e)&&(o=new Map,s.set(t,o)),o}getOptionScopes(t,e,s){const{options:o,type:a}=this,l=this._cachedScopes(t,s),c=l.get(e);if(c)return c;const u=new Set;e.forEach(p=>{t&&(u.add(t),p.forEach(m=>bs(u,t,m))),p.forEach(m=>bs(u,o,m)),p.forEach(m=>bs(u,Bt[a]||{},m)),p.forEach(m=>bs(u,bt,m)),p.forEach(m=>bs(u,ti,m))});const f=Array.from(u);return 0===f.length&&f.push(Object.create(null)),_a.has(e)&&l.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,Bt[e]||{},bt.datasets[e]||{},{type:e},bt,ti]}resolveNamedOptions(t,e,s,o=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=va(this._resolverCache,t,o);let u=l;(function mh(n,t){const{isScriptable:e,isIndexable:s}=ro(n);for(const o of t){const a=e(o),l=s(o),c=(l||a)&&n[o];if(a&&(Re(c)||gh(c))||l&&pt(c))return!0}return!1})(l,e)&&(a.$shared=!1,u=Ze(l,s=Re(s)?s():s,this.createResolver(t,s,c)));for(const f of e)a[f]=u[f];return a}createResolver(t,e,s=[""],o){const{resolver:a}=va(this._resolverCache,t,s);return Q(e)?Ze(a,e,void 0,o):a}}function va(n,t,e){let s=n.get(t);s||(s=new Map,n.set(t,s));const o=e.join();let a=s.get(o);return a||(a={resolver:Wi(t,e),subPrefixes:e.filter(c=>!c.toLowerCase().includes("hover"))},s.set(o,a)),a}const gh=n=>Q(n)&&Object.getOwnPropertyNames(n).some(t=>Re(n[t])),vh=["top","bottom","left","right","chartArea"];function ba(n,t){return"top"===n||"bottom"===n||-1===vh.indexOf(n)&&"x"===t}function xa(n,t){return function(e,s){return e[n]===s[n]?e[t]-s[t]:e[n]-s[n]}}function ya(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),lt(e&&e.onComplete,[n],t)}function bh(n){const t=n.chart,e=t.options.animation;lt(e&&e.onProgress,[n],t)}function wa(n){return yi()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const No={},Pa=n=>{const t=wa(n);return Object.values(No).filter(e=>e.canvas===t).pop()};function xh(n,t,e){const s=Object.keys(n);for(const o of s){const a=+o;if(a>=t){const l=n[o];delete n[o],(e>0||a>t)&&(n[a+e]=l)}}}class li{static register(...t){Ve.add(...t),Ma()}static unregister(...t){Ve.remove(...t),Ma()}constructor(t,e){const s=this.config=new ph(e),o=wa(t),a=Pa(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||function Zl(n){return!yi()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Tl:Fl}(o)),this.platform.updateConfig(s);const c=this.platform.acquireContext(o,l.aspectRatio),u=c&&c.canvas,f=u&&u.height,p=u&&u.width;this.id=Rs(),this.ctx=c,this.canvas=u,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new nh,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function Us(n,t){let e;return function(...s){return t?(clearTimeout(e),e=setTimeout(n,t,s)):n.apply(this,s),t}}(m=>this.update(m),l.resizeDelay||0),this._dataChanges=[],No[this.id]=this,c&&u?(we.listen(this,"complete",ya),we.listen(this,"progress",bh),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:o,_aspectRatio:a}=this;return G(t)?e&&a?a:o?s/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ve}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():go(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Js(this.canvas,this.ctx),this}stop(){return we.stop(this),this}resize(t,e){we.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const s=this.options,l=this.platform.getMaximumSize(this.canvas,t,e,s.maintainAspectRatio&&this.aspectRatio),c=s.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,go(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),lt(s.onResize,[this,l],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){rt(this.options.scales||{},(s,o)=>{s.id=o})}buildOrUpdateScales(){const t=this.options,e=t.scales,s=this.scales,o=Object.keys(s).reduce((l,c)=>(l[c]=!1,l),{});let a=[];e&&(a=a.concat(Object.keys(e).map(l=>{const c=e[l],u=Dr(l,c),f="r"===u,p="x"===u;return{options:c,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),rt(a,l=>{const c=l.options,u=c.id,f=Dr(u,c),p=U(c.type,l.dtype);(void 0===c.position||ba(c.position,f)!==ba(l.dposition))&&(c.position=l.dposition),o[u]=!0;let m=null;u in s&&s[u].type===p?m=s[u]:(m=new(Ve.getScale(p))({id:u,type:p,ctx:this.ctx,chart:this}),s[m.id]=m),m.init(c,t)}),rt(o,(l,c)=>{l||delete s[c]}),rt(s,l=>{jt.configure(this,l,l.options),jt.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,s=t.length;if(t.sort((o,a)=>o.index-a.index),s>e){for(let o=e;o<s;++o)this._destroyDatasetMeta(o);t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(xa("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((s,o)=>{0===e.filter(a=>a===s._dataset).length&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let s,o;for(this._removeUnreferencedMetasets(),s=0,o=e.length;s<o;s++){const a=e[s];let l=this.getDatasetMeta(s);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(s),l=this.getDatasetMeta(s)),l.type=c,l.indexAxis=a.indexAxis||Ar(c,this.options),l.order=a.order||0,l.index=s,l.label=""+a.label,l.visible=this.isDatasetVisible(s),l.controller)l.controller.updateIndex(s),l.controller.linkScales();else{const u=Ve.getController(c),{datasetElementType:f,dataElementType:p}=bt.datasets[c];Object.assign(u,{dataElementType:Ve.getElement(p),datasetElementType:f&&Ve.getElement(f)}),l.controller=new u(this,s),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){rt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:m}=this.getDatasetMeta(f),v=!o&&-1===a.indexOf(m);m.buildOrUpdateElements(v),l=Math.max(+m.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),o||rt(a,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(xa("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){rt(this.scales,t=>{jt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!Ws(e,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:s,start:o,count:a}of e)xh(t,o,"_removeElements"===s?-a:a)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,s=a=>new Set(t.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),o=s(0);for(let a=1;a<e;a++)if(!Ws(o,s(a)))return;return Array.from(o).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;jt.update(this,this.width,this.height,t);const e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],rt(this.boxes,o=>{s&&"chartArea"===o.position||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,a)=>{o._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let e=0,s=this.data.datasets.length;e<s;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,Re(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const s=this.getDatasetMeta(t),o={meta:s,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",o)&&(s.controller._update(e),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(we.has(this)?this.attached&&!we.running(this)&&we.start(this):(this.draw(),ya({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,o)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,s=[];let o,a;for(o=0,a=e.length;o<a;++o){const l=e[o];(!t||l.visible)&&s.push(l)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,s={meta:t,index:t.index,cancelable:!0},o=as(this,t);!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(o&&re(e,o),t.controller.draw(),o&&Zi(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return me(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,s,o){const a=vl.modes[e];return"function"==typeof a?a(this,t,s,o):[]}getDatasetMeta(t){const e=this.data.datasets[t],s=this._metasets;let o=s.filter(a=>a&&a._dataset===e).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},s.push(o)),o}getContext(){return this.$context||(this.$context=Fe(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const s=this.getDatasetMeta(t);return"boolean"==typeof s.hidden?!s.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){const o=s?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,o);Ci(e)?(a.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),l.update(a,{visible:s}),this.update(c=>c.datasetIndex===t?o:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),we.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Js(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete No[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,s=(a,l)=>{e.addEventListener(this,a,l),t[a]=l},o=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};rt(this.options.events,a=>s(a,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,s=(u,f)=>{e.addEventListener(this,u,f),t[u]=f},o=(u,f)=>{t[u]&&(e.removeEventListener(this,u,f),delete t[u])},a=(u,f)=>{this.canvas&&this.resize(u,f)};let l;const c=()=>{o("attach",c),this.attached=!0,this.resize(),s("resize",a),s("detach",l)};l=()=>{this.attached=!1,o("resize",a),this._stop(),this._resize(0,0),s("attach",c)},e.isAttached(this.canvas)?c():l()}unbindEvents(){rt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},rt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,s){const o=s?"set":"remove";let a,l,c,u;for("dataset"===e&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+o+"DatasetHoverStyle"]()),c=0,u=t.length;c<u;++c){l=t[c];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[o+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],s=t.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!on(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}isPluginEnabled(t){return 1===this._plugins._cache.filter(e=>e.plugin.id===t).length}_updateHoverStyles(t,e,s){const o=this.options.hover,a=(u,f)=>u.filter(p=>!f.some(m=>p.datasetIndex===m.datasetIndex&&p.index===m.index)),l=a(e,t),c=s?t:a(t,e);l.length&&this.updateHoverStyle(l,o.mode,!1),c.length&&o.mode&&this.updateHoverStyle(c,o.mode,!0)}_eventHandler(t,e){const s={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},o=l=>(l.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",s,o))return;const a=this._handleEvent(t,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,o),(a||s.changed)&&this.render(),this}_handleEvent(t,e,s){const{_active:o=[],options:a}=this,c=this._getActiveElements(t,o,s,e),u=function or(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(t),f=function yh(n,t,e,s){return e&&"mouseout"!==n.type?s?t:n:null}(t,this._lastEvent,s,u);s&&(this._lastEvent=null,lt(a.onHover,[t,c,this],this),u&&lt(a.onClick,[t,c,this],this));const p=!on(c,o);return(p||e)&&(this._active=c,this._updateHoverStyles(c,o,e)),this._lastEvent=f,p}_getActiveElements(t,e,s,o){if("mouseout"===t.type)return[];if(!s)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,o)}}function Ma(){return rt(li.instances,n=>n._plugins.invalidate())}function Tn(n,t,e,s){return{x:e+n*Math.cos(t),y:s+n*Math.sin(t)}}function Wo(n,t,e,s,o,a){const{x:l,y:c,startAngle:u,pixelMargin:f,innerRadius:p}=t,m=Math.max(t.outerRadius+s+e-f,0),v=p>0?p+s+e+f:0;let x=0;const y=o-u;if(s){const At=((p>0?p-s:0)+(m>0?m-s:0))/2;x=(y-(0!==At?y*At/(At+s):y))/2}const M=(y-Math.max(.001,y*m-e/it)/m)/2,T=u+M+x,C=o-M-x,{outerStart:E,outerEnd:z,innerStart:O,innerEnd:R}=function kh(n,t,e,s){const o=function Mh(n){return pi(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),a=(e-t)/2,l=Math.min(a,s*t/2),c=u=>{const f=(e-Math.min(a,u))*s/2;return Tt(u,0,Math.min(a,f))};return{outerStart:c(o.outerStart),outerEnd:c(o.outerEnd),innerStart:Tt(o.innerStart,0,l),innerEnd:Tt(o.innerEnd,0,l)}}(t,v,m,C-T),B=m-E,F=m-z,H=T+E/B,K=C-z/F,J=v+O,st=v+R,Wt=T+O/J,he=C-R/st;if(n.beginPath(),a){const gt=(H+K)/2;if(n.arc(l,c,m,H,gt),n.arc(l,c,m,gt,K),z>0){const qt=Tn(F,K,l,c);n.arc(qt.x,qt.y,z,K,C+kt)}const Pt=Tn(st,C,l,c);if(n.lineTo(Pt.x,Pt.y),R>0){const qt=Tn(st,he,l,c);n.arc(qt.x,qt.y,R,C+kt,he+Math.PI)}const At=(C-R/v+(T+O/v))/2;if(n.arc(l,c,v,C-R/v,At,!0),n.arc(l,c,v,At,T+O/v,!0),O>0){const qt=Tn(J,Wt,l,c);n.arc(qt.x,qt.y,O,Wt+Math.PI,T-kt)}const Ee=Tn(B,T,l,c);if(n.lineTo(Ee.x,Ee.y),E>0){const qt=Tn(B,H,l,c);n.arc(qt.x,qt.y,E,T-kt,H)}}else{n.moveTo(l,c);const gt=Math.cos(H)*m+l,Pt=Math.sin(H)*m+c;n.lineTo(gt,Pt);const At=Math.cos(K)*m+l,Ee=Math.sin(K)*m+c;n.lineTo(At,Ee)}n.closePath()}I(li,"defaults",bt),I(li,"instances",No),I(li,"overrides",Bt),I(li,"registry",Ve),I(li,"version","4.5.1"),I(li,"getChart",Pa);class xs extends ze{constructor(e){super(),I(this,"circumference"),I(this,"endAngle"),I(this,"fullCircles"),I(this,"innerRadius"),I(this,"outerRadius"),I(this,"pixelMargin"),I(this,"startAngle"),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,s,o){const a=this.getProps(["x","y"],o),{angle:l,distance:c}=wt(a,{x:e,y:s}),{startAngle:u,endAngle:f,innerRadius:p,outerRadius:m,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),x=(this.options.spacing+this.options.borderWidth)/2,y=U(v,f-u),w=zi(l,u,f)&&u!==f,M=y>=mt||w,T=ct(c,p+x,m+x);return M&&T}getCenterPoint(e){const{x:s,y:o,startAngle:a,endAngle:l,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:f,spacing:p}=this.options,m=(a+l)/2,v=(c+u+p+f)/2;return{x:s+Math.cos(m)*v,y:o+Math.sin(m)*v}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:s,circumference:o}=this,a=(s.offset||0)/4,l=(s.spacing||0)/2,c=s.circular;if(this.pixelMargin="inner"===s.borderAlign?.33:0,this.fullCircles=o>mt?Math.floor(o/mt):0,0===o||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*a,Math.sin(u)*a);const p=a*(1-Math.sin(Math.min(it,o||0)));e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,function Th(n,t,e,s,o){const{fullCircles:a,startAngle:l,circumference:c}=t;let u=t.endAngle;if(a){Wo(n,t,e,s,u,o);for(let f=0;f<a;++f)n.fill();isNaN(c)||(u=l+(c%mt||mt))}Wo(n,t,e,s,u,o),n.fill()}(e,this,p,l,c),function Lh(n,t,e,s,o){const{fullCircles:a,startAngle:l,circumference:c,options:u}=t,{borderWidth:f,borderJoinStyle:p,borderDash:m,borderDashOffset:v,borderRadius:x}=u,y="inner"===u.borderAlign;if(!f)return;n.setLineDash(m||[]),n.lineDashOffset=v,y?(n.lineWidth=2*f,n.lineJoin=p||"round"):(n.lineWidth=f,n.lineJoin=p||"bevel");let w=t.endAngle;if(a){Wo(n,t,e,s,w,o);for(let M=0;M<a;++M)n.stroke();isNaN(c)||(w=l+(c%mt||mt))}y&&function Ph(n,t,e){const{startAngle:s,pixelMargin:o,x:a,y:l,outerRadius:c,innerRadius:u}=t;let f=o/c;n.beginPath(),n.arc(a,l,c,s-f,e+f),u>o?(f=o/u,n.arc(a,l,u,e+f,s-f,!0)):n.arc(a,l,o,e+kt,s-kt),n.closePath(),n.clip()}(n,t,w),u.selfJoin&&w-l>=it&&0===x&&"miter"!==p&&function wh(n,t,e){const{startAngle:s,x:o,y:a,outerRadius:l,innerRadius:c,options:u}=t,{borderWidth:f,borderJoinStyle:p}=u,m=Math.min(f/l,dt(s-e));if(n.beginPath(),n.arc(o,a,l-f/2,s+m/2,e-m/2),c>0){const v=Math.min(f/c,dt(s-e));n.arc(o,a,c+f/2,e-v/2,s+v/2,!0)}else{const v=Math.min(f/2,l*dt(s-e));if("round"===p)n.arc(o,a,v,e-it/2,s+it/2,!0);else if("bevel"===p){const x=2*v*v,y=-x*Math.cos(e+it/2)+o,w=-x*Math.sin(e+it/2)+a,M=x*Math.cos(s+it/2)+o,T=x*Math.sin(s+it/2)+a;n.lineTo(y,w),n.lineTo(M,T)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}(n,t,w),a||(Wo(n,t,e,s,w,o),n.stroke())}(e,this,p,l,c),e.restore()}}function ka(n,t,e=t){n.lineCap=U(e.borderCapStyle,t.borderCapStyle),n.setLineDash(U(e.borderDash,t.borderDash)),n.lineDashOffset=U(e.borderDashOffset,t.borderDashOffset),n.lineJoin=U(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=U(e.borderWidth,t.borderWidth),n.strokeStyle=U(e.borderColor,t.borderColor)}function Sh(n,t,e){n.lineTo(e.x,e.y)}function Ta(n,t,e={}){const s=n.length,{start:o=0,end:a=s-1}=e,{start:l,end:c}=t,u=Math.max(o,l),f=Math.min(a,c);return{count:s,start:u,loop:t.loop,ilen:f<u&&!(o<l&&a<l||o>c&&a>c)?s+f-u:f-u}}function Oh(n,t,e,s){const{points:o,options:a}=t,{count:l,start:c,loop:u,ilen:f}=Ta(o,e,s),p=function Ch(n){return n.stepped?to:n.tension||"monotone"===n.cubicInterpolationMode?Kn:Sh}(a);let x,y,w,{move:m=!0,reverse:v}=s||{};for(x=0;x<=f;++x)y=o[(c+(v?f-x:x))%l],!y.skip&&(m?(n.moveTo(y.x,y.y),m=!1):p(n,w,y,v,a.stepped),w=y);return u&&(y=o[(c+(v?f:0))%l],p(n,w,y,v,a.stepped)),!!u}function Ah(n,t,e,s){const o=t.points,{count:a,start:l,ilen:c}=Ta(o,e,s),{move:u=!0,reverse:f}=s||{};let v,x,y,w,M,T,p=0,m=0;const C=z=>(l+(f?c-z:z))%a,E=()=>{w!==M&&(n.lineTo(p,M),n.lineTo(p,w),n.lineTo(p,T))};for(u&&(x=o[C(0)],n.moveTo(x.x,x.y)),v=0;v<=c;++v){if(x=o[C(v)],x.skip)continue;const z=x.x,O=x.y,R=0|z;R===y?(O<w?w=O:O>M&&(M=O),p=(m*p+z)/++m):(E(),n.lineTo(z,O),y=R,m=0,w=M=O),T=O}E()}function zr(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?Oh:Ah}I(xs,"id","arc"),I(xs,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),I(xs,"defaultRoutes",{backgroundColor:"backgroundColor"}),I(xs,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const Ih="function"==typeof Path2D;class wi extends ze{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const s=this.options;!s.tension&&"monotone"!==s.cubicInterpolationMode||s.stepped||this._pointsUpdated||(es(this._points,s,t,s.spanGaps?this._loop:this._fullLoop,e),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function xr(n,t){const e=n.points,s=n.options.spanGaps,o=e.length;if(!o)return[];const a=!!n._loop,{start:l,end:c}=function vo(n,t,e,s){let o=0,a=t-1;if(e&&!s)for(;o<t&&!n[o].skip;)o++;for(;o<t&&n[o].skip;)o++;for(o%=t,e&&(a+=o);a>o&&n[a%t].skip;)a--;return a%=t,{start:o,end:a}}(e,o,a,s);return function ji(n,t,e,s){return s&&s.setContext&&e?function qi(n,t,e,s){const o=n._chart.getContext(),a=rs(n.options),{_datasetIndex:l,options:{spanGaps:c}}=n,u=e.length,f=[];let p=a,m=t[0].start,v=m;function x(y,w,M,T){const C=c?-1:1;if(y!==w){for(y+=u;e[y%u].skip;)y-=C;for(;e[w%u].skip;)w+=C;y%u!=w%u&&(f.push({start:y%u,end:w%u,loop:M,style:T}),p=T,m=w%u)}}for(const y of t){m=c?m:y.start;let M,w=e[m%u];for(v=m+1;v<=y.end;v++){const T=e[v%u];M=rs(s.setContext(Fe(o,{type:"segment",p0:w,p1:T,p0DataIndex:(v-1)%u,p1DataIndex:v%u,datasetIndex:l}))),bo(M,p)&&x(m,v-1,y.loop,p),w=T,p=M}m<v-1&&x(m,v-1,y.loop,p)}return f}(n,t,e,s):t}(n,!0===s?[{start:l,end:c,loop:a}]:function Ui(n,t,e,s){const o=n.length,a=[];let u,l=t,c=n[t];for(u=t+1;u<=e;++u){const f=n[u%o];f.skip||f.stop?c.skip||(a.push({start:t%o,end:(u-1)%o,loop:s=!1}),t=l=f.stop?u:null):(l=u,c.skip&&(t=u)),c=f}return null!==l&&a.push({start:t%o,end:l%o,loop:s}),a}(e,l,c<l?c+o:c,!!n._fullLoop&&0===l&&c===o-1),e,t)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,s=t.length;return s&&this.points[t[s-1].end]}interpolate(t,e){const s=this.options,o=t[e],a=this.points,l=os(this,{property:e,start:o,end:o});if(!l.length)return;const c=[],u=function Dh(n){return n.stepped?Pn:n.tension||"monotone"===n.cubicInterpolationMode?_r:ri}(s);let f,p;for(f=0,p=l.length;f<p;++f){const{start:m,end:v}=l[f],x=a[m],y=a[v];if(x===y){c.push(x);continue}const M=u(x,y,Math.abs((o-x[e])/(y[e]-x[e])),s.stepped);M[e]=t[e],c.push(M)}return 1===c.length?c[0]:c}pathSegment(t,e,s){return zr(this)(t,this,e,s)}path(t,e,s){const o=this.segments,a=zr(this);let l=this._loop;e=e||0,s=s||this.points.length-e;for(const c of o)l&=a(t,this,c,{start:e,end:e+s-1});return!!l}draw(t,e,s,o){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function Rh(n,t,e,s){Ih&&!t.options.segment?function zh(n,t,e,s){let o=t._path;o||(o=t._path=new Path2D,t.path(o,e,s)&&o.closePath()),ka(n,t.options),n.stroke(o)}(n,t,e,s):function Eh(n,t,e,s){const{segments:o,options:a}=t,l=zr(t);for(const c of o)ka(n,a,c.style),n.beginPath(),l(n,t,c,{start:e,end:e+s-1})&&n.closePath(),n.stroke()}(n,t,e,s)}(t,this,s,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function La(n,t,e,s){const o=n.options,{[e]:a}=n.getProps([e],s);return Math.abs(t-a)<o.radius+o.hitRadius}I(wi,"id","line"),I(wi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),I(wi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),I(wi,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class Ho extends ze{constructor(e){super(),I(this,"parsed"),I(this,"skip"),I(this,"stop"),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,s,o){const a=this.options,{x:l,y:c}=this.getProps(["x","y"],o);return Math.pow(e-l,2)+Math.pow(s-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,s){return La(this,e,"x",s)}inYRange(e,s){return La(this,e,"y",s)}getCenterPoint(e){const{x:s,y:o}=this.getProps(["x","y"],e);return{x:s,y:o}}size(e){let s=(e=e||this.options||{}).radius||0;return s=Math.max(s,s&&e.hoverRadius||0),2*(s+(s&&e.borderWidth||0))}draw(e,s){const o=this.options;this.skip||o.radius<.1||!me(this,s,this.size(o)/2)||(e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.fillStyle=o.backgroundColor,Qt(e,o,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Sa(n,t){const{x:e,y:s,base:o,width:a,height:l}=n.getProps(["x","y","base","width","height"],t);let c,u,f,p,m;return n.horizontal?(m=l/2,c=Math.min(e,o),u=Math.max(e,o),f=s-m,p=s+m):(m=a/2,c=e-m,u=e+m,f=Math.min(s,o),p=Math.max(s,o)),{left:c,top:f,right:u,bottom:p}}function Pi(n,t,e,s){return n?0:Tt(t,e,s)}function Er(n,t,e,s){const o=null===t,a=null===e,c=n&&!(o&&a)&&Sa(n,s);return c&&(o||ct(t,c.left,c.right))&&(a||ct(e,c.top,c.bottom))}function Wh(n,t){n.rect(t.x,t.y,t.w,t.h)}function Ir(n,t,e={}){const s=n.x!==e.x?-t:0,o=n.y!==e.y?-t:0;return{x:n.x+s,y:n.y+o,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-s),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-o),radius:n.radius}}I(Ho,"id","point"),I(Ho,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),I(Ho,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Vo extends ze{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:s,backgroundColor:o}}=this,{inner:a,outer:l}=function Zh(n){const t=Sa(n),e=t.right-t.left,s=t.bottom-t.top,o=function Bh(n,t,e){const o=n.borderSkipped,a=Be(n.options.borderWidth);return{t:Pi(o.top,a.top,0,e),r:Pi(o.right,a.right,0,t),b:Pi(o.bottom,a.bottom,0,e),l:Pi(o.left,a.left,0,t)}}(n,e/2,s/2),a=function Fh(n,t,e){const{enableBorderRadius:s}=n.getProps(["enableBorderRadius"]),o=n.options.borderRadius,a=ii(o),l=Math.min(t,e),c=n.borderSkipped,u=s||Q(o);return{topLeft:Pi(!u||c.top||c.left,a.topLeft,0,l),topRight:Pi(!u||c.top||c.right,a.topRight,0,l),bottomLeft:Pi(!u||c.bottom||c.left,a.bottomLeft,0,l),bottomRight:Pi(!u||c.bottom||c.right,a.bottomRight,0,l)}}(n,e/2,s/2);return{outer:{x:t.left,y:t.top,w:e,h:s,radius:a},inner:{x:t.left+o.l,y:t.top+o.t,w:e-o.l-o.r,h:s-o.t-o.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,a.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(o.b,o.r))}}}}(this),c=function Nh(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(l.radius)?Ni:Wh;t.save(),(l.w!==a.w||l.h!==a.h)&&(t.beginPath(),c(t,Ir(l,e,a)),t.clip(),c(t,Ir(a,-e,l)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),c(t,Ir(a,e)),t.fillStyle=o,t.fill(),t.restore()}inRange(t,e,s){return Er(this,t,e,s)}inXRange(t,e){return Er(this,t,null,e)}inYRange(t,e){return Er(this,null,t,e)}getCenterPoint(t){const{x:e,y:s,base:o,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+o)/2:e,y:a?s:(s+o)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}I(Vo,"id","bar"),I(Vo,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),I(Vo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Hh=Object.freeze({__proto__:null,ArcElement:xs,BarElement:Vo,LineElement:wi,PointElement:Ho});const Rr=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Ca=Rr.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function Oa(n){return Rr[n%Rr.length]}function Aa(n){return Ca[n%Ca.length]}function Da(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}var Gh={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:s},options:o}=n.config,{elements:a}=o,l=Da(s)||function Yh(n){return n&&(n.borderColor||n.backgroundColor)}(o)||a&&Da(a)||function $h(){return"rgba(0,0,0,0.1)"!==bt.borderColor||"rgba(0,0,0,0.1)"!==bt.backgroundColor}();if(!e.forceOverride&&l)return;const c=function qh(n){let t=0;return(e,s)=>{const o=n.getDatasetMeta(s).controller;o instanceof Yi?t=function Uh(n,t){return n.backgroundColor=n.data.map(()=>Oa(t++)),t}(e,t):o instanceof ds?t=function jh(n,t){return n.backgroundColor=n.data.map(()=>Aa(t++)),t}(e,t):o&&(t=function Vh(n,t){return n.borderColor=Oa(t),n.backgroundColor=Aa(t),++t}(e,t))}}(n);s.forEach(c)}};function za(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Ea(n){n.data.datasets.forEach(t=>{za(t)})}var Qh={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void Ea(n);const s=n.width;n.data.datasets.forEach((o,a)=>{const{_data:l,indexAxis:c}=o,u=n.getDatasetMeta(a),f=l||o.data;if("y"===gi([c,n.options.indexAxis])||!u.controller.supportsDecimation)return;const p=n.scales[u.xAxisID];if("linear"!==p.type&&"time"!==p.type||n.options.parsing)return;let y,{start:m,count:v}=function Jh(n,t){const e=t.length;let o,s=0;const{iScale:a}=n,{min:l,max:c,minDefined:u,maxDefined:f}=a.getUserBounds();return u&&(s=Tt(Jt(t,a.axis,l).lo,0,e-1)),o=f?Tt(Jt(t,a.axis,c).hi+1,s,e)-s:e-s,{start:s,count:o}}(u,f);if(v<=(e.threshold||4*s))za(o);else{switch(G(l)&&(o._data=f,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(w){this._data=w}})),e.algorithm){case"lttb":y=function Xh(n,t,e,s,o){const a=o.samples||s;if(a>=e)return n.slice(t,t+e);const l=[],c=(e-2)/(a-2);let u=0;const f=t+e-1;let m,v,x,y,w,p=t;for(l[u++]=n[p],m=0;m<a-2;m++){let C,M=0,T=0;const E=Math.floor((m+1)*c)+1+t,z=Math.min(Math.floor((m+2)*c)+1,e)+t,O=z-E;for(C=E;C<z;C++)M+=n[C].x,T+=n[C].y;M/=O,T/=O;const R=Math.floor(m*c)+1+t,B=Math.min(Math.floor((m+1)*c)+1,e)+t,{x:F,y:H}=n[p];for(x=y=-1,C=R;C<B;C++)y=.5*Math.abs((F-M)*(n[C].y-H)-(F-n[C].x)*(T-H)),y>x&&(x=y,v=n[C],w=C);l[u++]=v,p=w}return l[u++]=n[f],l}(f,m,v,s,e);break;case"min-max":y=function Kh(n,t,e,s){let l,c,u,f,p,m,v,x,y,w,o=0,a=0;const M=[],C=n[t].x,z=n[t+e-1].x-C;for(l=t;l<t+e;++l){c=n[l],u=(c.x-C)/z*s,f=c.y;const O=0|u;if(O===p)f<y?(y=f,m=l):f>w&&(w=f,v=l),o=(a*o+c.x)/++a;else{const R=l-1;if(!G(m)&&!G(v)){const B=Math.min(m,v),F=Math.max(m,v);B!==x&&B!==R&&M.push({...n[B],x:o}),F!==x&&F!==R&&M.push({...n[F],x:o})}l>0&&R!==x&&M.push(n[R]),M.push(c),p=O,a=0,y=w=f,m=v=x=l}}return M}(f,m,v,s);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}o._decimated=y}})},destroy(n){Ea(n)}};function Br(n,t,e,s){if(s)return;let o=t[n],a=e[n];return"angle"===n&&(o=dt(o),a=dt(a)),{property:n,start:o,end:a}}function Uo(n,t,e){for(;t>n;t--){const s=e[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function Ia(n,t,e,s){return n&&t?s(n[e],t[e]):n?n[e]:t?t[e]:0}function Ra(n,t){let e=[],s=!1;return pt(n)?(s=!0,e=n):e=function ec(n,t){const{x:e=null,y:s=null}=n||{},o=t.points,a=[];return t.segments.forEach(({start:l,end:c})=>{c=Uo(l,c,o);const u=o[l],f=o[c];null!==s?(a.push({x:u.x,y:s}),a.push({x:f.x,y:s})):null!==e&&(a.push({x:e,y:u.y}),a.push({x:e,y:f.y}))}),a}(n,t),e.length?new wi({points:e,options:{tension:0},_loop:s,_fullLoop:s}):null}function Ba(n){return n&&!1!==n.fill}function ic(n,t,e){let o=n[t].fill;const a=[t];let l;if(!e)return o;for(;!1!==o&&-1===a.indexOf(o);){if(!yt(o))return o;if(l=n[o],!l)return!1;if(l.visible)return o;a.push(o),o=l.fill}return!1}function nc(n,t,e){const s=function ac(n){const t=n.options,e=t.fill;let s=U(e&&e.target,e);return void 0===s&&(s=!!t.backgroundColor),!1!==s&&null!==s&&(!0===s?"origin":s)}(n);if(Q(s))return!isNaN(s.value)&&s;let o=parseFloat(s);return yt(o)&&Math.floor(o)===o?function sc(n,t,e,s){return("-"===n||"+"===n)&&(e=t+e),!(e===t||e<0||e>=s)&&e}(s[0],t,o,e):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function cc(n,t,e){const s=[];for(let o=0;o<e.length;o++){const a=e[o],{first:l,last:c,point:u}=uc(a,t,"x");if(!(!u||l&&c))if(l)s.unshift(u);else if(n.push(u),!c)break}n.push(...s)}function uc(n,t,e){const s=n.interpolate(t,e);if(!s)return{};const o=s[e],a=n.segments,l=n.points;let c=!1,u=!1;for(let f=0;f<a.length;f++){const p=a[f],m=l[p.start][e],v=l[p.end][e];if(ct(o,m,v)){c=o===m,u=o===v;break}}return{first:c,last:u,point:s}}class Fa{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,s){const{x:o,y:a,radius:l}=this;return t.arc(o,a,l,(e=e||{start:0,end:mt}).end,e.start,!0),!s.bounds}interpolate(t){const{x:e,y:s,radius:o}=this,a=t.angle;return{x:e+Math.cos(a)*o,y:s+Math.sin(a)*o,angle:a}}}function Fr(n,t,e){const s=function dc(n){const{chart:t,fill:e,line:s}=n;if(yt(e))return function fc(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function lc(n){const{scale:t,index:e,line:s}=n,o=[],a=s.segments,l=s.points,c=function hc(n,t){const e=[],s=n.getMatchingVisibleMetas("line");for(let o=0;o<s.length;o++){const a=s[o];if(a.index===t)break;a.hidden||e.unshift(a.dataset)}return e}(t,e);c.push(Ra({x:null,y:t.bottom},s));for(let u=0;u<a.length;u++){const f=a[u];for(let p=f.start;p<=f.end;p++)cc(o,l[p],c)}return new wi({points:o,options:{}})}(n);if("shape"===e)return!0;const o=function pc(n){return(n.scale||{}).getPointPositionForValue?function mc(n){const{scale:t,fill:e}=n,s=t.options,o=t.getLabels().length,a=s.reverse?t.max:t.min,l=function rc(n,t,e){let s;return s="start"===n?e:"end"===n?t.options.reverse?t.min:t.max:Q(n)?n.value:t.getBaseValue(),s}(e,t,a),c=[];if(s.grid.circular){const u=t.getPointPositionForValue(0,a);return new Fa({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(l)})}for(let u=0;u<o;++u)c.push(t.getPointPositionForValue(u,l));return c}(n):function gc(n){const{scale:t={},fill:e}=n,s=function oc(n,t){let e=null;return"start"===n?e=t.bottom:"end"===n?e=t.top:Q(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(yt(s)){const o=t.isHorizontal();return{x:o?s:null,y:o?null:s}}return null}(n)}(n);return o instanceof Fa?o:Ra(o,s)}(t),{chart:o,index:a,line:l,scale:c,axis:u}=t,f=l.options,p=f.fill,m=f.backgroundColor,{above:v=m,below:x=m}=p||{},y=o.getDatasetMeta(a),w=as(o,y);s&&l.points.length&&(re(n,e),function _c(n,t){const{line:e,target:s,above:o,below:a,area:l,scale:c,clip:u}=t,f=e._loop?"angle":t.axis;n.save();let p=a;a!==o&&("x"===f?(Za(n,s,l.top),Zr(n,{line:e,target:s,color:o,scale:c,property:f,clip:u}),n.restore(),n.save(),Za(n,s,l.bottom)):"y"===f&&(Na(n,s,l.left),Zr(n,{line:e,target:s,color:a,scale:c,property:f,clip:u}),n.restore(),n.save(),Na(n,s,l.right),p=o)),Zr(n,{line:e,target:s,color:p,scale:c,property:f,clip:u}),n.restore()}(n,{line:l,target:s,above:v,below:x,area:e,scale:c,axis:u,clip:w}),Zi(n))}function Za(n,t,e){const{segments:s,points:o}=t;let a=!0,l=!1;n.beginPath();for(const c of s){const{start:u,end:f}=c,p=o[u],m=o[Uo(u,f,o)];a?(n.moveTo(p.x,p.y),a=!1):(n.lineTo(p.x,e),n.lineTo(p.x,p.y)),l=!!t.pathSegment(n,c,{move:l}),l?n.closePath():n.lineTo(m.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function Na(n,t,e){const{segments:s,points:o}=t;let a=!0,l=!1;n.beginPath();for(const c of s){const{start:u,end:f}=c,p=o[u],m=o[Uo(u,f,o)];a?(n.moveTo(p.x,p.y),a=!1):(n.lineTo(e,p.y),n.lineTo(p.x,p.y)),l=!!t.pathSegment(n,c,{move:l}),l?n.closePath():n.lineTo(e,m.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function Zr(n,t){const{line:e,target:s,property:o,color:a,scale:l,clip:c}=t,u=function tc(n,t,e){const s=n.segments,o=n.points,a=t.points,l=[];for(const c of s){let{start:u,end:f}=c;f=Uo(u,f,o);const p=Br(e,o[u],o[f],c.loop);if(!t.segments){l.push({source:c,target:p,start:o[u],end:o[f]});continue}const m=os(t,p);for(const v of m){const x=Br(e,a[v.start],a[v.end],v.loop),y=ye(c,o,x);for(const w of y)l.push({source:w,target:v,start:{[e]:Ia(p,x,"start",Math.max)},end:{[e]:Ia(p,x,"end",Math.min)}})}}return l}(e,s,o);for(const{source:f,target:p,start:m,end:v}of u){const{style:{backgroundColor:x=a}={}}=f,y=!0!==s;n.save(),n.fillStyle=x,vc(n,l,c,y&&Br(o,m,v)),n.beginPath();const w=!!e.pathSegment(n,f);let M;if(y){w?n.closePath():Wa(n,s,v,o);const T=!!s.pathSegment(n,p,{move:w,reverse:!0});M=w&&T,M||Wa(n,s,m,o)}n.closePath(),n.fill(M?"evenodd":"nonzero"),n.restore()}}function vc(n,t,e,s){const o=t.chart.chartArea,{property:a,start:l,end:c}=s||{};if("x"===a||"y"===a){let u,f,p,m;"x"===a?(u=l,f=o.top,p=c,m=o.bottom):(u=o.left,f=l,p=o.right,m=c),n.beginPath(),e&&(u=Math.max(u,e.left),p=Math.min(p,e.right),f=Math.max(f,e.top),m=Math.min(m,e.bottom)),n.rect(u,f,p-u,m-f),n.clip()}}function Wa(n,t,e,s){const o=t.interpolate(e,s);o&&n.lineTo(o.x,o.y)}var bc={id:"filler",afterDatasetsUpdate(n,t,e){const s=(n.data.datasets||[]).length,o=[];let a,l,c,u;for(l=0;l<s;++l)a=n.getDatasetMeta(l),c=a.dataset,u=null,c&&c.options&&c instanceof wi&&(u={visible:n.isDatasetVisible(l),index:l,fill:nc(c,l,s),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:c}),a.$filler=u,o.push(u);for(l=0;l<s;++l)u=o[l],u&&!1!==u.fill&&(u.fill=ic(o,l,e.propagate))},beforeDraw(n,t,e){const s="beforeDraw"===e.drawTime,o=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let l=o.length-1;l>=0;--l){const c=o[l].$filler;!c||(c.line.updateControlPoints(a,c.axis),s&&c.fill&&Fr(n.ctx,c,a))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const s=n.getSortedVisibleDatasetMetas();for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;Ba(a)&&Fr(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,t,e){const s=t.meta.$filler;!Ba(s)||"beforeDatasetDraw"!==e.drawTime||Fr(n.ctx,s,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ha=(n,t)=>{let{boxHeight:e=t,boxWidth:s=t}=n;return n.usePointStyle&&(e=Math.min(e,t),s=n.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(t,e)}};class Va extends ze{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,s){this.maxWidth=t,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=lt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(s=>t.filter(s,this.chart.data))),t.sort&&(e=e.sort((s,o)=>t.sort(s,o,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const s=t.labels,o=ot(s.font),a=o.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=Ha(s,a);let f,p;e.font=o.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,a,c,u)+10):(p=this.maxHeight,f=this._fitCols(l,o,c,u)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,s,o){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],f=this.lineWidths=[0],p=o+c;let m=t;a.textAlign="left",a.textBaseline="middle";let v=-1,x=-p;return this.legendItems.forEach((y,w)=>{const M=s+e/2+a.measureText(y.text).width;(0===w||f[f.length-1]+M+2*c>l)&&(m+=p,f[f.length-(w>0?0:1)]=0,x+=p,v++),u[w]={left:0,top:x,row:v,width:M,height:o},f[f.length-1]+=M+c}),m}_fitCols(t,e,s,o){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-t;let m=c,v=0,x=0,y=0,w=0;return this.legendItems.forEach((M,T)=>{const{itemWidth:C,itemHeight:E}=function yc(n,t,e,s,o){const a=function wc(n,t,e,s){let o=n.text;return o&&"string"!=typeof o&&(o=o.reduce((a,l)=>a.length>l.length?a:l)),t+e.size/2+s.measureText(o).width}(s,n,t,e),l=function Pc(n,t,e){let s=n;return"string"!=typeof t.text&&(s=Ua(t,e)),s}(o,s,t.lineHeight);return{itemWidth:a,itemHeight:l}}(s,e,a,M,o);T>0&&x+E+2*c>p&&(m+=v+c,f.push({width:v,height:x}),y+=v+c,w++,v=x=0),u[T]={left:y,top:x,col:w,width:C,height:E},v=Math.max(v,C),x+=E+c}),m+=v,f.push({width:v,height:x}),m}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:o},rtl:a}}=this,l=xe(a,this.left,this.width);if(this.isHorizontal()){let c=0,u=Nt(s,this.left+o,this.right-this.lineWidths[c]);for(const f of e)c!==f.row&&(c=f.row,u=Nt(s,this.left+o,this.right-this.lineWidths[c])),f.top+=this.top+t+o,f.left=l.leftForLtr(l.x(u),f.width),u+=f.width+o}else{let c=0,u=Nt(s,this.top+t+o,this.bottom-this.columnSizes[c].height);for(const f of e)f.col!==c&&(c=f.col,u=Nt(s,this.top+t+o,this.bottom-this.columnSizes[c].height)),f.top=u,f.left+=this.left+o,f.left=l.leftForLtr(l.x(f.left),f.width),u+=f.height+o}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;re(t,this),this._draw(),Zi(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:s,ctx:o}=this,{align:a,labels:l}=t,c=bt.color,u=xe(t.rtl,this.left,this.width),f=ot(l.font),{padding:p}=l,m=f.size,v=m/2;let x;this.drawTitle(),o.textAlign=u.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=f.string;const{boxWidth:y,boxHeight:w,itemHeight:M}=Ha(l,m),E=this.isHorizontal(),z=this._computeTitleHeight();x=E?{x:Nt(a,this.left+p,this.right-s[0]),y:this.top+p+z,line:0}:{x:this.left+p,y:Nt(a,this.top+z+p,this.bottom-e[0].height),line:0},_o(this.ctx,t.textDirection);const O=M+p;this.legendItems.forEach((R,B)=>{o.strokeStyle=R.fontColor,o.fillStyle=R.fontColor;const F=o.measureText(R.text).width,H=u.textAlign(R.textAlign||(R.textAlign=l.textAlign)),K=y+v+F;let J=x.x,st=x.y;u.setWidth(this.width),E?B>0&&J+K+p>this.right&&(st=x.y+=O,x.line++,J=x.x=Nt(a,this.left+p,this.right-s[x.line])):B>0&&st+O>this.bottom&&(J=x.x=J+e[x.line].width+p,x.line++,st=x.y=Nt(a,this.top+z+p,this.bottom-e[x.line].height)),function(R,B,F){if(isNaN(y)||y<=0||isNaN(w)||w<0)return;o.save();const H=U(F.lineWidth,1);if(o.fillStyle=U(F.fillStyle,c),o.lineCap=U(F.lineCap,"butt"),o.lineDashOffset=U(F.lineDashOffset,0),o.lineJoin=U(F.lineJoin,"miter"),o.lineWidth=H,o.strokeStyle=U(F.strokeStyle,c),o.setLineDash(U(F.lineDash,[])),l.usePointStyle){const K={radius:w*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:H},J=u.xPlus(R,y/2);Qs(o,K,J,B+v,l.pointStyleWidth&&y)}else{const K=B+Math.max((m-w)/2,0),J=u.leftForLtr(R,y),st=ii(F.borderRadius);o.beginPath(),Object.values(st).some(Wt=>0!==Wt)?Ni(o,{x:J,y:K,w:y,h:w,radius:st}):o.rect(J,K,y,w),o.fill(),0!==H&&o.stroke()}o.restore()}(u.x(J),st,R),J=((n,t,e,s)=>n===(s?"left":"right")?e:"center"===n?(t+e)/2:t)(H,J+y+v,E?J+K:this.right,t.rtl),function(R,B,F){ei(o,F.text,R,B+M/2,f,{strikethrough:F.hidden,textAlign:u.textAlign(F.textAlign)})}(u.x(J),st,R),E?x.x+=K+p:x.y+="string"!=typeof R.text?Ua(R,f.lineHeight)+p:O}),ai(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,s=ot(e.font),o=Ct(e.padding);if(!e.display)return;const a=xe(t.rtl,this.left,this.width),l=this.ctx,c=e.position,f=o.top+s.size/2;let p,m=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+f,m=Nt(t.align,m,this.right-v);else{const y=this.columnSizes.reduce((w,M)=>Math.max(w,M.height),0);p=f+Nt(t.align,this.top,this.bottom-y-t.labels.padding-this._computeTitleHeight())}const x=Nt(c,m,m+v);l.textAlign=a.textAlign(Bi(c)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=s.string,ei(l,e.text,x,p,s)}_computeTitleHeight(){const t=this.options.title,e=ot(t.font),s=Ct(t.padding);return t.display?e.lineHeight+s.height:0}_getLegendItemAt(t,e){let s,o,a;if(ct(t,this.left,this.right)&&ct(e,this.top,this.bottom))for(a=this.legendHitBoxes,s=0;s<a.length;++s)if(o=a[s],ct(t,o.left,o.left+o.width)&&ct(e,o.top,o.top+o.height))return this.legendItems[s];return null}handleEvent(t){const e=this.options;if(!function Mc(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}(t.type,e))return;const s=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const o=this._hoveredItem,a=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(o,s);o&&!a&&lt(e.onLeave,[t,o,this],this),this._hoveredItem=s,s&&!a&&lt(e.onHover,[t,s,this],this)}else s&&lt(e.onClick,[t,s,this],this)}}function Ua(n,t){return t*(n.text?n.text.length:0)}var kc={id:"legend",_element:Va,start(n,t,e){const s=n.legend=new Va({ctx:n.ctx,options:e,chart:n});jt.configure(n,s,e),jt.addBox(n,s)},stop(n){jt.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const s=n.legend;jt.configure(n,s,e),s.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const s=t.datasetIndex,o=e.chart;o.isDatasetVisible(s)?(o.hide(s),t.hidden=!0):(o.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:s,textAlign:o,color:a,useBorderRadius:l,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(u=>{const f=u.controller.getStyle(e?0:void 0),p=Ct(f.borderWidth);return{text:t[u.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!u.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:s||f.pointStyle,rotation:f.rotation,textAlign:o||f.textAlign,borderRadius:l&&(c||f.borderRadius),datasetIndex:u.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Nr extends ze{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const s=this.options;if(this.left=0,this.top=0,!s.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const o=pt(s.text)?s.text.length:1;this._padding=Ct(s.padding);const a=o*ot(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:s,bottom:o,right:a,options:l}=this,c=l.align;let f,p,m,u=0;return this.isHorizontal()?(p=Nt(c,s,a),m=e+t,f=a-s):("left"===l.position?(p=s+t,m=Nt(c,o,e),u=-.5*it):(p=a-t,m=Nt(c,e,o),u=.5*it),f=o-e),{titleX:p,titleY:m,maxWidth:f,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const s=ot(e.font),a=s.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:u,rotation:f}=this._drawArgs(a);ei(t,e.text,0,0,s,{color:e.color,maxWidth:u,rotation:f,textAlign:Bi(e.align),textBaseline:"middle",translation:[l,c]})}}var Lc={id:"title",_element:Nr,start(n,t,e){!function Tc(n,t){const e=new Nr({ctx:n.ctx,options:t,chart:n});jt.configure(n,e,t),jt.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){jt.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const s=n.titleBlock;jt.configure(n,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const jo=new WeakMap;var Sc={id:"subtitle",start(n,t,e){const s=new Nr({ctx:n.ctx,options:e,chart:n});jt.configure(n,s,e),jt.addBox(n,s),jo.set(n,s)},stop(n){jt.removeBox(n,jo.get(n)),jo.delete(n)},beforeUpdate(n,t,e){const s=jo.get(n);jt.configure(n,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ys={average(n){if(!n.length)return!1;let t,e,s=new Set,o=0,a=0;for(t=0,e=n.length;t<e;++t){const c=n[t].element;if(c&&c.hasValue()){const u=c.tooltipPosition();s.add(u.x),o+=u.y,++a}}return 0!==a&&0!==s.size&&{x:[...s].reduce((c,u)=>c+u)/s.size,y:o/a}},nearest(n,t){if(!n.length)return!1;let a,l,c,e=t.x,s=t.y,o=Number.POSITIVE_INFINITY;for(a=0,l=n.length;a<l;++a){const u=n[a].element;if(u&&u.hasValue()){const p=Di(t,u.getCenterPoint());p<o&&(o=p,c=u)}}if(c){const u=c.tooltipPosition();e=u.x,s=u.y}return{x:e,y:s}}};function Ue(n,t){return t&&(pt(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function hi(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function Cc(n,t){const{element:e,datasetIndex:s,index:o}=t,a=n.getDatasetMeta(s).controller,{label:l,value:c}=a.getLabelAndValue(o);return{chart:n,label:l,parsed:a.getParsed(o),raw:n.data.datasets[s].data[o],formattedValue:c,dataset:a.getDataset(),dataIndex:o,datasetIndex:s,element:e}}function ja(n,t){const e=n.chart.ctx,{body:s,footer:o,title:a}=n,{boxWidth:l,boxHeight:c}=t,u=ot(t.bodyFont),f=ot(t.titleFont),p=ot(t.footerFont),m=a.length,v=o.length,x=s.length,y=Ct(t.padding);let w=y.height,M=0,T=s.reduce((z,O)=>z+O.before.length+O.lines.length+O.after.length,0);T+=n.beforeBody.length+n.afterBody.length,m&&(w+=m*f.lineHeight+(m-1)*t.titleSpacing+t.titleMarginBottom),T&&(w+=x*(t.displayColors?Math.max(c,u.lineHeight):u.lineHeight)+(T-x)*u.lineHeight+(T-1)*t.bodySpacing),v&&(w+=t.footerMarginTop+v*p.lineHeight+(v-1)*t.footerSpacing);let C=0;const E=function(z){M=Math.max(M,e.measureText(z).width+C)};return e.save(),e.font=f.string,rt(n.title,E),e.font=u.string,rt(n.beforeBody.concat(n.afterBody),E),C=t.displayColors?l+2+t.boxPadding:0,rt(s,z=>{rt(z.before,E),rt(z.lines,E),rt(z.after,E)}),C=0,e.font=p.string,rt(n.footer,E),e.restore(),M+=y.width,{width:M,height:w}}function Dc(n,t,e,s){const{x:o,width:a}=e,{width:l,chartArea:{left:c,right:u}}=n;let f="center";return"center"===s?f=o<=(c+u)/2?"left":"right":o<=a/2?f="left":o>=l-a/2&&(f="right"),function Ac(n,t,e,s){const{x:o,width:a}=s,l=e.caretSize+e.caretPadding;if("left"===n&&o+a+l>t.width||"right"===n&&o-a-l<0)return!0}(f,n,t,e)&&(f="center"),f}function qa(n,t,e){const s=e.yAlign||t.yAlign||function Oc(n,t){const{y:e,height:s}=t;return e<s/2?"top":e>n.height-s/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||Dc(n,t,e,s),yAlign:s}}function Ya(n,t,e,s){const{caretSize:o,caretPadding:a,cornerRadius:l}=n,{xAlign:c,yAlign:u}=e,f=o+a,{topLeft:p,topRight:m,bottomLeft:v,bottomRight:x}=ii(l);let y=function zc(n,t){let{x:e,width:s}=n;return"right"===t?e-=s:"center"===t&&(e-=s/2),e}(t,c);const w=function Ec(n,t,e){let{y:s,height:o}=n;return"top"===t?s+=e:s-="bottom"===t?o+e:o/2,s}(t,u,f);return"center"===u?"left"===c?y+=f:"right"===c&&(y-=f):"left"===c?y-=Math.max(p,v)+o:"right"===c&&(y+=Math.max(m,x)+o),{x:Tt(y,0,s.width-t.width),y:Tt(w,0,s.height-t.height)}}function qo(n,t,e){const s=Ct(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-s.right:n.x+s.left}function $a(n){return Ue([],hi(n))}function Ga(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const Xa={beforeTitle:Te,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,s=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return e[t.dataIndex]}return""},afterTitle:Te,beforeBody:Te,beforeLabel:Te,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return G(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Te,afterBody:Te,beforeFooter:Te,footer:Te,afterFooter:Te};function ee(n,t,e,s){const o=n[t].call(e,s);return typeof o>"u"?Xa[t].call(e,s):o}class Wr extends ze{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,s=this.options.setContext(this.getContext()),o=s.enabled&&e.options.animation&&s.animations,a=new hs(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=function Ic(n,t,e){return Fe(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:s}=e,o=ee(s,"beforeTitle",this,t),a=ee(s,"title",this,t),l=ee(s,"afterTitle",this,t);let c=[];return c=Ue(c,hi(o)),c=Ue(c,hi(a)),c=Ue(c,hi(l)),c}getBeforeBody(t,e){return $a(ee(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:s}=e,o=[];return rt(t,a=>{const l={before:[],lines:[],after:[]},c=Ga(s,a);Ue(l.before,hi(ee(c,"beforeLabel",this,a))),Ue(l.lines,ee(c,"label",this,a)),Ue(l.after,hi(ee(c,"afterLabel",this,a))),o.push(l)}),o}getAfterBody(t,e){return $a(ee(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:s}=e,o=ee(s,"beforeFooter",this,t),a=ee(s,"footer",this,t),l=ee(s,"afterFooter",this,t);let c=[];return c=Ue(c,hi(o)),c=Ue(c,hi(a)),c=Ue(c,hi(l)),c}_createItems(t){const e=this._active,s=this.chart.data,o=[],a=[],l=[];let u,f,c=[];for(u=0,f=e.length;u<f;++u)c.push(Cc(this.chart,e[u]));return t.filter&&(c=c.filter((p,m,v)=>t.filter(p,m,v,s))),t.itemSort&&(c=c.sort((p,m)=>t.itemSort(p,m,s))),rt(c,p=>{const m=Ga(t.callbacks,p);o.push(ee(m,"labelColor",this,p)),a.push(ee(m,"labelPointStyle",this,p)),l.push(ee(m,"labelTextColor",this,p))}),this.labelColors=o,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(t,e){const s=this.options.setContext(this.getContext()),o=this._active;let a,l=[];if(o.length){const c=ys[s.position].call(this,o,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);const u=this._size=ja(this,s),f=Object.assign({},c,u),p=qa(this.chart,s,f),m=Ya(s,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:m.x,y:m.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,s,o){const a=this.getCaretPosition(t,s,o);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,s){const{xAlign:o,yAlign:a}=this,{caretSize:l,cornerRadius:c}=s,{topLeft:u,topRight:f,bottomLeft:p,bottomRight:m}=ii(c),{x:v,y:x}=t,{width:y,height:w}=e;let M,T,C,E,z,O;return"center"===a?(z=x+w/2,"left"===o?(M=v,T=M-l,E=z+l,O=z-l):(M=v+y,T=M+l,E=z-l,O=z+l),C=M):(T="left"===o?v+Math.max(u,p)+l:"right"===o?v+y-Math.max(f,m)-l:this.caretX,"top"===a?(E=x,z=E-l,M=T-l,C=T+l):(E=x+w,z=E+l,M=T+l,C=T-l),O=E),{x1:M,x2:T,x3:C,y1:E,y2:z,y3:O}}drawTitle(t,e,s){const o=this.title,a=o.length;let l,c,u;if(a){const f=xe(s.rtl,this.x,this.width);for(t.x=qo(this,s.titleAlign,s),e.textAlign=f.textAlign(s.titleAlign),e.textBaseline="middle",l=ot(s.titleFont),c=s.titleSpacing,e.fillStyle=s.titleColor,e.font=l.string,u=0;u<a;++u)e.fillText(o[u],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,u+1===a&&(t.y+=s.titleMarginBottom-c)}}_drawColorBox(t,e,s,o,a){const l=this.labelColors[s],c=this.labelPointStyles[s],{boxHeight:u,boxWidth:f}=a,p=ot(a.bodyFont),m=qo(this,"left",a),v=o.x(m),y=e.y+(u<p.lineHeight?(p.lineHeight-u)/2:0);if(a.usePointStyle){const w={radius:Math.min(f,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},M=o.leftForLtr(v,f)+f/2,T=y+u/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,Qt(t,w,M,T),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Qt(t,w,M,T)}else{t.lineWidth=Q(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const w=o.leftForLtr(v,f),M=o.leftForLtr(o.xPlus(v,1),f-2),T=ii(l.borderRadius);Object.values(T).some(C=>0!==C)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Ni(t,{x:w,y,w:f,h:u,radius:T}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Ni(t,{x:M,y:y+1,w:f-2,h:u-2,radius:T}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(w,y,f,u),t.strokeRect(w,y,f,u),t.fillStyle=l.backgroundColor,t.fillRect(M,y+1,f-2,u-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,e,s){const{body:o}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:u,boxWidth:f,boxPadding:p}=s,m=ot(s.bodyFont);let v=m.lineHeight,x=0;const y=xe(s.rtl,this.x,this.width),w=function(F){e.fillText(F,y.x(t.x+x),t.y+v/2),t.y+=v+a},M=y.textAlign(l);let T,C,E,z,O,R,B;for(e.textAlign=l,e.textBaseline="middle",e.font=m.string,t.x=qo(this,M,s),e.fillStyle=s.bodyColor,rt(this.beforeBody,w),x=c&&"right"!==M?"center"===l?f/2+p:f+2+p:0,z=0,R=o.length;z<R;++z){for(T=o[z],C=this.labelTextColors[z],e.fillStyle=C,rt(T.before,w),E=T.lines,c&&E.length&&(this._drawColorBox(e,t,z,y,s),v=Math.max(m.lineHeight,u)),O=0,B=E.length;O<B;++O)w(E[O]),v=m.lineHeight;rt(T.after,w)}x=0,v=m.lineHeight,rt(this.afterBody,w),t.y-=a}drawFooter(t,e,s){const o=this.footer,a=o.length;let l,c;if(a){const u=xe(s.rtl,this.x,this.width);for(t.x=qo(this,s.footerAlign,s),t.y+=s.footerMarginTop,e.textAlign=u.textAlign(s.footerAlign),e.textBaseline="middle",l=ot(s.footerFont),e.fillStyle=s.footerColor,e.font=l.string,c=0;c<a;++c)e.fillText(o[c],u.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+s.footerSpacing}}drawBackground(t,e,s,o){const{xAlign:a,yAlign:l}=this,{x:c,y:u}=t,{width:f,height:p}=s,{topLeft:m,topRight:v,bottomLeft:x,bottomRight:y}=ii(o.cornerRadius);e.fillStyle=o.backgroundColor,e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.beginPath(),e.moveTo(c+m,u),"top"===l&&this.drawCaret(t,e,s,o),e.lineTo(c+f-v,u),e.quadraticCurveTo(c+f,u,c+f,u+v),"center"===l&&"right"===a&&this.drawCaret(t,e,s,o),e.lineTo(c+f,u+p-y),e.quadraticCurveTo(c+f,u+p,c+f-y,u+p),"bottom"===l&&this.drawCaret(t,e,s,o),e.lineTo(c+x,u+p),e.quadraticCurveTo(c,u+p,c,u+p-x),"center"===l&&"left"===a&&this.drawCaret(t,e,s,o),e.lineTo(c,u+m),e.quadraticCurveTo(c,u,c+m,u),e.closePath(),e.fill(),o.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,s=this.$animations,o=s&&s.x,a=s&&s.y;if(o||a){const l=ys[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=ja(this,t),u=Object.assign({},l,this._size),f=qa(e,t,u),p=Ya(t,u,f,e);(o._to!==p.x||a._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(e);const o={width:this.width,height:this.height},a={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const l=Ct(e.padding);e.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=s,this.drawBackground(a,t,o,e),_o(t,e.textDirection),a.y+=l.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),ai(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const s=this._active,o=t.map(({datasetIndex:c,index:u})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[u],index:u}}),a=!on(s,o),l=this._positionChanged(o,e);(a||l)&&(this._active=o,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,s=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,a=this._active||[],l=this._getActiveElements(t,a,e,s),c=this._positionChanged(l,t),u=e||!on(l,a)||c;return u&&(this._active=l,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),u}_getActiveElements(t,e,s,o){const a=this.options;if("mouseout"===t.type)return[];if(!o)return e.filter(c=>this.chart.data.datasets[c.datasetIndex]&&void 0!==this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index));const l=this.chart.getElementsAtEventForMode(t,a.mode,a,s);return a.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:s,caretY:o,options:a}=this,l=ys[a.position].call(this,t,e);return!1!==l&&(s!==l.x||o!==l.y)}}I(Wr,"positioners",ys);var Bc=Object.freeze({__proto__:null,Colors:Gh,Decimation:Qh,Filler:bc,Legend:kc,SubTitle:Sc,Title:Lc,Tooltip:{id:"tooltip",_element:Wr,positioners:ys,afterInit(n,t,e){e&&(n.tooltip=new Wr({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Xa},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function Ka(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Hr extends Gi{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const s=this.getLabels();for(const{index:o,label:a}of e)s[o]===a&&s.splice(o,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(G(t))return null;const s=this.getLabels();return((n,t)=>null===n?null:Tt(Math.round(n),0,t))(e=isFinite(e)&&s[e]===t?e:function Zc(n,t,e,s){const o=n.indexOf(t);return-1===o?((n,t,e,s)=>("string"==typeof t?(e=n.push(t)-1,s.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,s):o!==n.lastIndexOf(t)?e:o}(s,t,U(e,t),this._addedLabels),s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:s,max:o}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(s=0),e||(o=this.getLabels().length-1)),this.min=s,this.max=o}buildTicks(){const t=this.min,e=this.max,s=this.options.offset,o=[];let a=this.getLabels();a=0===t&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=t;l<=e;l++)o.push({value:l});return o}getLabelForValue(t){return Ka.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Ja(n,t,{horizontal:e,minRotation:s}){const o=Zt(s),a=(e?Math.sin(o):Math.cos(o))||.001;return Math.min(t/a,.75*t*(""+n).length)}I(Hr,"id","category"),I(Hr,"defaults",{ticks:{callback:Ka}});class Yo extends Gi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return G(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:o,max:a}=this;const l=u=>o=e?o:u,c=u=>a=s?a:u;if(t){const u=Ut(o),f=Ut(a);u<0&&f<0?c(0):u>0&&f>0&&l(0)}if(o===a){let u=0===a?1:Math.abs(.05*a);c(a+u),t||l(o-u)}this.min=o,this.max=a}getTickLimit(){const t=this.options.ticks;let o,{maxTicksLimit:e,stepSize:s}=t;return s?(o=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),e=e||11),e&&(o=Math.min(e,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const l=function Wc(n,t){const e=[],{bounds:o,step:a,min:l,max:c,precision:u,count:f,maxTicks:p,maxDigits:m,includeBounds:v}=n,x=a||1,y=p-1,{min:w,max:M}=t,T=!G(l),C=!G(c),E=!G(f),z=(M-w)/(m+1);let R,B,F,H,O=qn((M-w)/y/x)*x;if(O<1e-14&&!T&&!C)return[{value:w},{value:M}];H=Math.ceil(M/O)-Math.floor(w/O),H>y&&(O=qn(H*O/y/x)*x),G(u)||(R=Math.pow(10,u),O=Math.ceil(O*R)/R),"ticks"===o?(B=Math.floor(w/O)*O,F=Math.ceil(M/O)*O):(B=w,F=M),T&&C&&a&&function cn(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((c-l)/a,O/1e3)?(H=Math.round(Math.min((c-l)/O,p)),O=(c-l)/H,B=l,F=c):E?(B=T?l:B,F=C?c:F,H=f-1,O=(F-B)/H):(H=(F-B)/O,H=ui(H,Math.round(H),O/1e3)?Math.round(H):Math.ceil(H));const K=Math.max(Y(O),Y(B));R=Math.pow(10,G(u)?K:u),B=Math.round(B*R)/R,F=Math.round(F*R)/R;let J=0;for(T&&(v&&B!==l?(e.push({value:l}),B<l&&J++,ui(Math.round((B+J*O)*R)/R,l,Ja(l,z,n))&&J++):B<l&&J++);J<H;++J){const st=Math.round((B+J*O)*R)/R;if(C&&st>c)break;e.push({value:st})}return C&&v&&F!==c?e.length&&ui(e[e.length-1].value,c,Ja(c,z,n))?e[e.length-1].value=c:e.push({value:c}):(!C||F===c)&&e.push({value:F}),e}({maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&$e(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const o=(s-e)/Math.max(t.length-1,1)/2;e-=o,s+=o}this._startValue=e,this._endValue=s,this._valueRange=s-e}getLabelForValue(t){return Qe(t,this.chart.options.locale,this.options.ticks.format)}}class Vr extends Yo{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=yt(t)?t:0,this.max=yt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,s=Zt(this.options.ticks.minRotation),o=(t?Math.sin(s):Math.cos(s))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/o))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}I(Vr,"id","linear"),I(Vr,"defaults",{ticks:{callback:X.formatters.numeric}});const ws=n=>Math.floor(ge(n)),Xi=(n,t)=>Math.pow(10,ws(n)+t);function Qa(n){return n/Math.pow(10,ws(n))==1}function tl(n,t,e){const s=Math.pow(10,e),o=Math.floor(n/s);return Math.ceil(t/s)-o}class Ur extends Gi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const s=Yo.prototype.parse.apply(this,[t,e]);if(0!==s)return yt(s)&&s>0?s:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=yt(t)?Math.max(0,t):null,this.max=yt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!yt(this._userMin)&&(this.min=t===Xi(this.min,0)?Xi(this.min,-1):Xi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let s=this.min,o=this.max;const a=c=>s=t?s:c,l=c=>o=e?o:c;s===o&&(s<=0?(a(1),l(10)):(a(Xi(s,-1)),l(Xi(o,1)))),s<=0&&a(Xi(o,-1)),o<=0&&l(Xi(s,1)),this.min=s,this.max=o}buildTicks(){const t=this.options,s=function Vc(n,{min:t,max:e}){t=Xt(n.min,t);const s=[],o=ws(t);let a=function Hc(n,t){let s=ws(t-n);for(;tl(n,t,s)>10;)s++;for(;tl(n,t,s)<10;)s--;return Math.min(s,ws(n))}(t,e),l=a<0?Math.pow(10,Math.abs(a)):1;const c=Math.pow(10,a),u=o>a?Math.pow(10,o):0,f=Math.round((t-u)*l)/l,p=Math.floor((t-u)/c/10)*c*10;let m=Math.floor((f-p)/Math.pow(10,a)),v=Xt(n.min,Math.round((u+p+m*Math.pow(10,a))*l)/l);for(;v<e;)s.push({value:v,major:Qa(v),significand:m}),m>=10?m=m<15?15:20:m++,m>=20&&(a++,m=2,l=a>=0?1:l),v=Math.round((u+p+m*Math.pow(10,a))*l)/l;const x=Xt(n.max,v);return s.push({value:x,major:Qa(x),significand:m}),s}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&$e(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(t){return void 0===t?"0":Qe(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=ge(t),this._valueRange=ge(this.max)-ge(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ge(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function jr(n){const t=n.ticks;if(t.display&&n.display){const e=Ct(t.backdropPadding);return U(t.font&&t.font.size,bt.font.size)+e.height}return 0}function Uc(n,t,e){return e=pt(e)?e:[e],{w:lr(n,t.string,e),h:e.length*t.lineHeight}}function el(n,t,e,s,o){return n===s||n===o?{start:t-e/2,end:t+e/2}:n<s||n>o?{start:t-e,end:t}:{start:t,end:t+e}}function qc(n,t,e,s,o){const a=Math.abs(Math.sin(e)),l=Math.abs(Math.cos(e));let c=0,u=0;s.start<t.l?(c=(t.l-s.start)/a,n.l=Math.min(n.l,t.l-c)):s.end>t.r&&(c=(s.end-t.r)/a,n.r=Math.max(n.r,t.r+c)),o.start<t.t?(u=(t.t-o.start)/l,n.t=Math.min(n.t,t.t-u)):o.end>t.b&&(u=(o.end-t.b)/l,n.b=Math.max(n.b,t.b+u))}function Yc(n,t,e){const s=n.drawingArea,{extra:o,additionalAngle:a,padding:l,size:c}=e,u=n.getPointPosition(t,s+o+l,a),f=Math.round(Ai(dt(u.angle+kt))),p=function Jc(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}(u.y,c.h,f),m=function Xc(n){return 0===n||180===n?"center":n<180?"left":"right"}(f),v=function Kc(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}(u.x,c.w,m);return{visible:!0,x:u.x,y:p,textAlign:m,left:v,top:p,right:v+c.w,bottom:p+c.h}}function $c(n,t){if(!t)return!0;const{left:e,top:s,right:o,bottom:a}=n;return!(me({x:e,y:s},t)||me({x:e,y:a},t)||me({x:o,y:s},t)||me({x:o,y:a},t))}function Qc(n,t,e){const{left:s,top:o,right:a,bottom:l}=e,{backdropColor:c}=t;if(!G(c)){const u=ii(t.borderRadius),f=Ct(t.backdropPadding);n.fillStyle=c;const p=s-f.left,m=o-f.top,v=a-s+f.width,x=l-o+f.height;Object.values(u).some(y=>0!==y)?(n.beginPath(),Ni(n,{x:p,y:m,w:v,h:x,radius:u}),n.fill()):n.fillRect(p,m,v,x)}}function il(n,t,e,s){const{ctx:o}=n;if(e)o.arc(n.xCenter,n.yCenter,t,0,mt);else{let a=n.getPointPosition(0,t);o.moveTo(a.x,a.y);for(let l=1;l<s;l++)a=n.getPointPosition(l,t),o.lineTo(a.x,a.y)}}I(Ur,"id","logarithmic"),I(Ur,"defaults",{ticks:{callback:X.formatters.logarithmic,major:{enabled:!0}}});class Ps extends Yo{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ct(jr(this.options)/2),e=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(e,s)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=yt(t)&&!isNaN(t)?t:0,this.max=yt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/jr(this.options))}generateTickLabels(t){Yo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,s)=>{const o=lt(this.options.pointLabels.callback,[e,s],this);return o||0===o?o:""}).filter((e,s)=>this.chart.getDataVisibility(s))}fit(){const t=this.options;t.display&&t.pointLabels.display?function jc(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),s=[],o=[],a=n._pointLabels.length,l=n.options.pointLabels,c=l.centerPointLabels?it/a:0;for(let u=0;u<a;u++){const f=l.setContext(n.getPointLabelContext(u));o[u]=f.padding;const p=n.getPointPosition(u,n.drawingArea+o[u],c),m=ot(f.font),v=Uc(n.ctx,m,n._pointLabels[u]);s[u]=v;const x=dt(n.getIndexAngle(u)+c),y=Math.round(Ai(x));qc(e,t,x,el(y,p.x,v.w,0,180),el(y,p.y,v.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function Gc(n,t,e){const s=[],o=n._pointLabels.length,a=n.options,{centerPointLabels:l,display:c}=a.pointLabels,u={extra:jr(a)/2,additionalAngle:l?it/o:0};let f;for(let p=0;p<o;p++){u.padding=e[p],u.size=t[p];const m=Yc(n,p,u);s.push(m),"auto"===c&&(m.visible=$c(m,f),m.visible&&(f=m))}return s}(n,s,o)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,s,o){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((s-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,s,o))}getIndexAngle(t){return dt(t*(mt/(this._pointLabels.length||1))+Zt(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(G(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(G(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const s=e[t];return function iu(n,t,e){return Fe(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,s)}}getPointPosition(t,e,s=0){const o=this.getIndexAngle(t)-kt+s;return{x:Math.cos(o)*e+this.xCenter,y:Math.sin(o)*e+this.yCenter,angle:o}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:s,right:o,bottom:a}=this._pointLabelItems[t];return{left:e,top:s,right:o,bottom:a}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),il(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:s,grid:o,border:a}=e,l=this._pointLabels.length;let c,u,f;if(e.pointLabels.display&&function tu(n,t){const{ctx:e,options:{pointLabels:s}}=n;for(let o=t-1;o>=0;o--){const a=n._pointLabelItems[o];if(!a.visible)continue;const l=s.setContext(n.getPointLabelContext(o));Qc(e,l,a);const c=ot(l.font),{x:u,y:f,textAlign:p}=a;ei(e,n._pointLabels[o],u,f+c.lineHeight/2,c,{color:l.color,textAlign:p,textBaseline:"middle"})}}(this,l),o.display&&this.ticks.forEach((p,m)=>{if(0!==m||0===m&&this.min<0){u=this.getDistanceFromCenterForValue(p.value);const v=this.getContext(m),x=o.setContext(v),y=a.setContext(v);!function eu(n,t,e,s,o){const a=n.ctx,l=t.circular,{color:c,lineWidth:u}=t;!l&&!s||!c||!u||e<0||(a.save(),a.strokeStyle=c,a.lineWidth=u,a.setLineDash(o.dash||[]),a.lineDashOffset=o.dashOffset,a.beginPath(),il(n,e,l,s),a.closePath(),a.stroke(),a.restore())}(this,x,u,l,y)}}),s.display){for(t.save(),c=l-1;c>=0;c--){const p=s.setContext(this.getPointLabelContext(c)),{color:m,lineWidth:v}=p;!v||!m||(t.lineWidth=v,t.strokeStyle=m,t.setLineDash(p.borderDash),t.lineDashOffset=p.borderDashOffset,u=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),f=this.getPointPosition(c,u),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(f.x,f.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,s=e.ticks;if(!s.display)return;const o=this.getIndexAngle(0);let a,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(o),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,u)=>{if(0===u&&this.min>=0&&!e.reverse)return;const f=s.setContext(this.getContext(u)),p=ot(f.font);if(a=this.getDistanceFromCenterForValue(this.ticks[u].value),f.showLabelBackdrop){t.font=p.string,l=t.measureText(c.label).width,t.fillStyle=f.backdropColor;const m=Ct(f.backdropPadding);t.fillRect(-l/2-m.left,-a-p.size/2-m.top,l+m.width,p.size+m.height)}ei(t,c.label,0,-a,p,{color:f.color,strokeColor:f.textStrokeColor,strokeWidth:f.textStrokeWidth})}),t.restore()}drawTitle(){}}I(Ps,"id","radialLinear"),I(Ps,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:X.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),I(Ps,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),I(Ps,"descriptors",{angleLines:{_fallback:"grid"}});const $o={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ie=Object.keys($o);function nl(n,t){return n-t}function sl(n,t){if(G(t))return null;const e=n._adapter,{parser:s,round:o,isoWeekday:a}=n._parseOpts;let l=t;return"function"==typeof s&&(l=s(l)),yt(l)||(l="string"==typeof s?e.parse(l,s):e.parse(l)),null===l?null:(o&&(l="week"!==o||!ht(a)&&!0!==a?e.startOf(l,o):e.startOf(l,"isoWeek",a)),+l)}function ol(n,t,e,s){const o=ie.length;for(let a=ie.indexOf(n);a<o-1;++a){const l=$o[ie[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(c*l.size))<=s)return ie[a]}return ie[o-1]}function rl(n,t,e){if(e){if(e.length){const{lo:s,hi:o}=Le(e,t);n[e[s]>=t?e[s]:e[o]]=!0}}else n[t]=!0}function al(n,t,e){const s=[],o={},a=t.length;let l,c;for(l=0;l<a;++l)c=t[l],o[c]=l,s.push({value:c,major:!1});return 0!==a&&e?function ou(n,t,e,s){const o=n._adapter,a=+o.startOf(t[0].value,s),l=t[t.length-1].value;let c,u;for(c=a;c<=l;c=+o.add(c,1,s))u=e[c],u>=0&&(t[u].major=!0);return t}(n,s,o,e):s}class Ms extends Gi{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const s=t.time||(t.time={}),o=this._adapter=new fl__date(t.adapters.date);o.init(e),ci(s.displayFormats,o.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:sl(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,s=t.time.unit||"day";let{min:o,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function u(f){!l&&!isNaN(f.min)&&(o=Math.min(o,f.min)),!c&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!c)&&(u(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&u(this.getMinMax(!1))),o=yt(o)&&!isNaN(o)?o:+e.startOf(Date.now(),s),a=yt(a)&&!isNaN(a)?a:+e.endOf(Date.now(),s)+1,this.min=Math.min(o,a-1),this.max=Math.max(o+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],s=t[t.length-1]),{min:e,max:s}}buildTicks(){const t=this.options,e=t.time,s=t.ticks,o="labels"===s.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const a=this.min,c=function Yn(n,t,e){let s=0,o=n.length;for(;s<o&&n[s]<t;)s++;for(;o>s&&n[o-1]>e;)o--;return s>0||o<n.length?n.slice(s,o):n}(o,a,this.max);return this._unit=e.unit||(s.autoSkip?ol(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):function nu(n,t,e,s,o){for(let a=ie.length-1;a>=ie.indexOf(e);a--){const l=ie[a];if($o[l].common&&n._adapter.diff(o,s,l)>=t-1)return l}return ie[e?ie.indexOf(e):0]}(this,c.length,e.minUnit,this.min,this.max)),this._majorUnit=s.major.enabled&&"year"!==this._unit?function su(n){for(let t=ie.indexOf(n)+1,e=ie.length;t<e;++t)if($o[ie[t]].common)return ie[t]}(this._unit):void 0,this.initOffsets(o),t.reverse&&c.reverse(),al(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let o,a,e=0,s=0;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),e=1===t.length?1-o:(this.getDecimalForValue(t[1])-o)/2,a=this.getDecimalForValue(t[t.length-1]),s=1===t.length?a:(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=Tt(e,0,l),s=Tt(s,0,l),this._offsets={start:e,end:s,factor:1/(e+1+s)}}_generate(){const t=this._adapter,e=this.min,s=this.max,o=this.options,a=o.time,l=a.unit||ol(a.minUnit,e,s,this._getLabelCapacity(e)),c=U(o.ticks.stepSize,1),u="week"===l&&a.isoWeekday,f=ht(u)||!0===u,p={};let v,x,m=e;if(f&&(m=+t.startOf(m,"isoWeek",u)),m=+t.startOf(m,f?"day":l),t.diff(s,e,l)>1e5*c)throw new Error(e+" and "+s+" are too far apart with stepSize of "+c+" "+l);const y="data"===o.ticks.source&&this.getDataTimestamps();for(v=m,x=0;v<s;v=+t.add(v,c,l),x++)rl(p,v,y);return(v===s||"ticks"===o.bounds||1===x)&&rl(p,v,y),Object.keys(p).sort(nl).map(w=>+w)}getLabelForValue(t){const s=this.options.time;return this._adapter.format(t,s.tooltipFormat?s.tooltipFormat:s.displayFormats.datetime)}format(t,e){return this._adapter.format(t,e||this.options.time.displayFormats[this._unit])}_tickFormatFunction(t,e,s,o){const a=this.options,l=a.ticks.callback;if(l)return lt(l,[t,e,s],this);const c=a.time.displayFormats,u=this._unit,f=this._majorUnit,m=f&&c[f],v=s[e];return this._adapter.format(t,o||(f&&m&&v&&v.major?m:u&&c[u]))}generateTickLabels(t){let e,s,o;for(e=0,s=t.length;e<s;++e)o=t[e],o.label=this._tickFormatFunction(o.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+s)*e.factor)}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,s=this.ctx.measureText(t).width,o=Zt(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(o),l=Math.sin(o),c=this._resolveTickFontOptions(0).size;return{w:s*a+c*l,h:s*l+c*a}}_getLabelCapacity(t){const e=this.options.time,s=e.displayFormats,o=s[e.unit]||s.millisecond,a=this._tickFormatFunction(t,0,al(this,[t],this._majorUnit),o),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e,s,t=this._cache.data||[];if(t.length)return t;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(e=0,s=o.length;e<s;++e)t=t.concat(o[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,s;if(t.length)return t;const o=this.getLabels();for(e=0,s=o.length;e<s;++e)t.push(sl(this,o[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Ii(t.sort(nl))}}function Go(n,t,e){let a,l,c,u,s=0,o=n.length-1;e?(t>=n[s].pos&&t<=n[o].pos&&({lo:s,hi:o}=Jt(n,"pos",t)),({pos:a,time:c}=n[s]),({pos:l,time:u}=n[o])):(t>=n[s].time&&t<=n[o].time&&({lo:s,hi:o}=Jt(n,"time",t)),({time:a,pos:c}=n[s]),({time:l,pos:u}=n[o]));const f=l-a;return f?c+(u-c)*(t-a)/f:c}I(Ms,"id","time"),I(Ms,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class qr extends Ms{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Go(e,this.min),this._tableRange=Go(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:s}=this,o=[],a=[];let l,c,u,f,p;for(l=0,c=t.length;l<c;++l)f=t[l],f>=e&&f<=s&&o.push(f);if(o.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(l=0,c=o.length;l<c;++l)p=o[l+1],u=o[l-1],f=o[l],Math.round((p+u)/2)!==f&&a.push({time:f,pos:l/(c-1)});return a}_generate(){const t=this.min,e=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(e)||1===s.length)&&s.push(e),s.sort((o,a)=>o-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return t=e.length&&s.length?this.normalize(e.concat(s)):e.length?e:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Go(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return Go(this._table,s*this._tableRange+this._minPos,!0)}}I(qr,"id","timeseries"),I(qr,"defaults",Ms.defaults),li.register(dl,Hh,Bc,Object.freeze({__proto__:null,CategoryScale:Hr,LinearScale:Vr,LogarithmicScale:Ur,RadialLinearScale:Ps,TimeScale:Ms,TimeSeriesScale:qr}));const ll=li,lu=["pieCanvas"];let hu=(()=>{class n{constructor(){this.data=[]}ngAfterViewInit(){this.createOrUpdateChart()}ngOnChanges(e){e.data&&!e.data.firstChange&&this.createOrUpdateChart()}ngOnDestroy(){this.chart?.destroy()}getTop5(e){return[...e||[]].sort((s,o)=>(o.total_pontos||0)-(s.total_pontos||0)).slice(0,5)}createOrUpdateChart(){if(!this.pieCanvas?.nativeElement)return;const e=this.getTop5(this.data),a={type:"pie",data:{labels:e.map(l=>{const[c,u]=l.centro||[0,0];return`${(c??0).toFixed(5)}, ${(u??0).toFixed(5)}`}),datasets:[{label:"Total de pontos",data:e.map(l=>l.total_pontos||0)}]},options:{responsive:!0,plugins:{legend:{position:"right",labels:{generateLabels:l=>{const u=(0,ll.defaults.plugins.legend.labels.generateLabels)(l),f=l.data.datasets?.[0]?.data||[],p=l.data.labels||[];return u.map((m,v)=>({...m,text:`${p[v]} \u2014 qtd: ${f[v]??0}`}))}}},tooltip:{callbacks:{label:l=>{const u=l.raw;return`${l.label||""}: ${u} (${(u/(l.dataset.data.reduce((m,v)=>m+v,0)||1)*100).toFixed(1)}%)`}}}}}};this.chart?(this.chart.data.labels=a.data.labels,this.chart.data.datasets[0].data=a.data.datasets[0].data,this.chart.update()):this.chart=new ll(this.pieCanvas.nativeElement,a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_.Xpm({type:n,selectors:[["app-stats-pie-card"]],viewQuery:function(e,s){if(1&e&&_.Gf(lu,5),2&e){let o;_.iGM(o=_.CRH())&&(s.pieCanvas=o.first)}},inputs:{data:"data"},features:[_.TTD],decls:20,vars:0,consts:[[1,"card","card-stats"],[1,"card-body"],[1,"row","align-items-center"],[1,"col"],[1,"card-title","text-uppercase","text-muted","mb-1"],[1,"h2","font-weight-bold","mb-0"],[1,"mt-2","mb-0","text-muted","text-sm"],[1,"col-auto"],[1,"mt-3"],["pieCanvas",""]],template:function(e,s){1&e&&(_.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),_._uU(5," Top 5 Clusters "),_.qZA(),_.TgZ(6,"span",5),_._uU(7,"por Total de Pontos"),_.qZA(),_.TgZ(8,"p",6),_._uU(9," A legenda exibe "),_.TgZ(10,"strong"),_._uU(11,"lat, long"),_.qZA(),_._uU(12," e "),_.TgZ(13,"strong"),_._uU(14,"quantidade"),_.qZA(),_._uU(15,". "),_.qZA()(),_._UZ(16,"div",7),_.qZA(),_.TgZ(17,"div",8),_._UZ(18,"canvas",null,9),_.qZA()()())},styles:['@charset "UTF-8";.card.card-stats[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:48px;height:100px;display:grid;place-items:center}canvas[_ngcontent-%COMP%]{max-width:300px;max-height:300px;width:100%!important;height:auto!important}']}),n})();function cu(n,t){if(1&n&&(_.ynx(0),_._UZ(1,"app-stats-pie-card",11),_.BQk()),2&n){const e=_.oxw();_.xp6(1),_.Q6J("data",e.stats)}}function uu(n,t){1&n&&(_.ynx(0),_.TgZ(1,"span",15),_._uU(2,"Carregando estat\xedsticas..."),_.qZA(),_.BQk())}function du(n,t){if(1&n&&(_.ynx(0),_.TgZ(1,"span",16),_._uU(2),_.qZA(),_.BQk()),2&n){const e=_.oxw(2);_.xp6(2),_.Oqu(e.errorMsg)}}function fu(n,t){if(1&n&&(_.TgZ(0,"div",12)(1,"div",13),_.YNc(2,uu,3,0,"ng-container",14),_.YNc(3,du,3,1,"ng-container",14),_.qZA()()),2&n){const e=_.oxw();_.xp6(2),_.Q6J("ngIf",e.loading),_.xp6(1),_.Q6J("ngIf",!e.loading&&e.errorMsg)}}function pu(n,t){if(1&n){const e=_.EpF();_.TgZ(0,"div",17),_.NdJ("click",function(){_.CHM(e);const o=_.oxw();return _.KtG(o.closeZip())}),_.TgZ(1,"div",18),_.NdJ("click",function(o){return o.stopPropagation()}),_.TgZ(2,"button",19),_.NdJ("click",function(){_.CHM(e);const o=_.oxw();return _.KtG(o.closeZip())}),_._uU(3,"\u2715"),_.qZA(),_._UZ(4,"app-zip-uploader"),_.qZA()()}}const gu=function(n,t){return[n,t]};function _u(n,t){if(1&n&&(_.TgZ(0,"div",39)(1,"div",40)(2,"div",41),_._UZ(3,"i"),_.qZA(),_.TgZ(4,"div",42)(5,"h6",43),_._uU(6),_.qZA(),_.TgZ(7,"p",33),_._uU(8),_.qZA()()()()),2&n){const e=t.$implicit;_.xp6(3),_.Tol(e.icon),_.xp6(3),_.Oqu(e.title),_.xp6(2),_.Oqu(e.desc)}}function vu(n,t){if(1&n&&(_.TgZ(0,"div",44)(1,"div",45),_._UZ(2,"i"),_.TgZ(3,"div",46)(4,"div",47),_._uU(5),_.qZA(),_.TgZ(6,"div",48),_._uU(7),_.qZA()()()()),2&n){const e=t.$implicit;_.xp6(2),_.Tol(e.icon+" metric-icon"),_.xp6(3),_.Oqu(e.value),_.xp6(2),_.Oqu(e.label)}}function bu(n,t){if(1&n&&(_.TgZ(0,"span",49),_._uU(1),_.qZA()),2&n){const e=t.$implicit;_.xp6(1),_.AsE("",e.label,": ",e.value,"")}}function xu(n,t){if(1&n&&(_.TgZ(0,"li",50),_._UZ(1,"div",51),_.TgZ(2,"div",52)(3,"div",38),_._uU(4),_.qZA(),_.TgZ(5,"div",53),_._uU(6),_.qZA(),_.TgZ(7,"div",48),_._uU(8),_.qZA()()()),2&n){const e=t.$implicit;_.xp6(4),_.Oqu(e.date),_.xp6(2),_.Oqu(e.title),_.xp6(2),_.Oqu(e.desc)}}function yu(n,t){if(1&n&&(_.TgZ(0,"span",63),_._uU(1),_.qZA()),2&n){const e=_.oxw().$implicit;_.xp6(1),_.hij(" ",e.name[0]," ")}}function wu(n,t){if(1&n&&(_.TgZ(0,"a",64),_._UZ(1,"i"),_.qZA()),2&n){const e=t.$implicit;_.Q6J("href",e.href,_.LSH),_.xp6(1),_.Tol(e.icon)}}function Pu(n,t){if(1&n&&(_.TgZ(0,"div",54)(1,"div",55)(2,"div",56),_.YNc(3,yu,2,1,"span",57),_.qZA(),_.TgZ(4,"div",58)(5,"div",59),_._uU(6),_.qZA(),_.TgZ(7,"div",60),_._uU(8),_.qZA(),_.TgZ(9,"div",61),_.YNc(10,wu,2,3,"a",62),_.qZA()()()()),2&n){const e=t.$implicit;_.xp6(3),_.Q6J("ngIf",!e.avatar),_.xp6(3),_.Oqu(e.name),_.xp6(2),_.Oqu(e.role),_.xp6(2),_.Q6J("ngForOf",e.links)}}function Mu(n,t){if(1&n&&(_.TgZ(0,"li",65),_._UZ(1,"i"),_.TgZ(2,"a",66),_._uU(3),_.qZA()()),2&n){const e=t.$implicit;_.xp6(1),_.Tol(e.icon+" mr-2 text-secondary"),_.xp6(1),_.Q6J("href",e.href,_.LSH),_.xp6(1),_.Oqu(e.text)}}const ku=[{path:"overview",component:(()=>{class n{constructor(e){this.statsService=e,this.clicked=!0,this.clicked1=!1,this.stats=[],this.loading=!1,this.errorMsg=null,this.showZip=!1}ngOnInit(){this.datasets=[[0,20,10,30,15,40,20,60,60],[0,20,5,25,10,30,15,40,40]],this.data=this.datasets[0],this.loadStats()}ngOnDestroy(){this.sub?.unsubscribe()}loadStats(){console.log("ihuuulll"),this.loading=!0,this.errorMsg=null,this.sub=this.statsService.fetchStats().subscribe({next:e=>{this.stats=e||[],console.log(this.stats),this.loading=!1},error:e=>{console.error("Erro ao buscar stats",e),this.errorMsg="N\xe3o foi poss\xedvel carregar as estat\xedsticas.",this.loading=!1}})}onAddNewPoint(){this.showZip=!0}closeZip(){this.showZip=!1}updateOptions(){!this.salesChart||(this.salesChart.data.datasets[0].data=this.data,this.salesChart.update())}}return n.\u0275fac=function(e){return new(e||n)(_.Y36(Ls))},n.\u0275cmp=_.Xpm({type:n,selectors:[["app-dashboard"]],decls:13,vars:8,consts:[[1,"header","bg-gradient-eco","pb-8","pt-md-6"],[1,"container-fluid"],[1,"header-body"],[1,"mb-4"],[4,"ngIf","ngIfElse"],["loadingOrError",""],[1,"container-fluid","mt--7"],[1,"row"],[1,"container-fluid","px-0"],[3,"title","center","addNew"],["class","zip-overlay",3,"click",4,"ngIf"],[3,"data"],[1,"card","card-stats"],[1,"card-body"],[4,"ngIf"],[1,"text-muted"],[1,"text-danger"],[1,"zip-overlay",3,"click"],[1,"zip-dialog",3,"click"],[1,"zip-close",3,"click"]],template:function(e,s){if(1&e&&(_.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_.YNc(4,cu,2,1,"ng-container",4),_.YNc(5,fu,4,2,"ng-template",null,5,_.W1O),_.qZA()()()(),_.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"app-urban-degradation-map",9),_.NdJ("addNew",function(){return s.onAddNewPoint()}),_._uU(11,' [zoom]="13"> '),_.qZA()()()(),_.YNc(12,pu,5,0,"div",10)),2&e){const o=_.MAs(6);_.xp6(4),_.Q6J("ngIf",!s.loading&&!s.errorMsg)("ngIfElse",o),_.xp6(6),_.Q6J("title","Mapa de sustentabilidade urbana")("center",_.WLB(5,gu,-8.762,-63.9039)),_.xp6(2),_.Q6J("ngIf",s.showZip)}},dependencies:[Pe.O5,je,Ht,hu],styles:['@charset "UTF-8";.container-fluid[_ngcontent-%COMP%]{padding-left:20px!important;padding-right:20px!important}.zip-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:rgba(17,24,39,.6);backdrop-filter:blur(4px);z-index:1050;display:flex;justify-content:center;align-items:center;animation:fadeIn .25s ease}.zip-dialog[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:16px;box-shadow:0 10px 40px #0000004d;width:100%;max-width:420px;padding:28px 20px 24px;text-align:center;animation:scaleIn .25s ease}.zip-title[_ngcontent-%COMP%]{margin-bottom:16px;font-weight:600;font-size:18px;color:#111827}.zip-close[_ngcontent-%COMP%]{position:absolute;top:10px;right:12px;border:none;background:none;font-size:22px;color:#6b7280;cursor:pointer;transition:transform .15s ease,color .2s ease}.zip-close[_ngcontent-%COMP%]:hover{transform:scale(1.15);color:#111827}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes scaleIn{0%{transform:scale(.96);opacity:0}to{transform:scale(1);opacity:1}}']}),n})()},{path:"about",component:(()=>{class n{constructor(){this.appName="EcoVision AI",this.version="v0.6.0",this.buildDate="18/10/2025",this.features=[{icon:"fas fa-recycle",title:"Lixo urbano",desc:"Detec\xe7\xe3o de res\xedduos, sacos, entulho e pontos de descarte irregular."},{icon:"fas fa-road",title:"Asfalto danificado",desc:"Rachaduras, buracos e remendos com risco para tr\xe1fego."},{icon:"fas fa-tree",title:"Vegeta\xe7\xe3o/folhas",desc:"Folhas/galhos obstruindo cal\xe7adas, grelhas e bocas de lobo."},{icon:"fas fa-map-marked-alt",title:"Georreferenciamento",desc:"Cada ocorr\xeancia \xe9 mapeada e priorizada por severidade e impacto."}],this.stack=[{label:"Angular",value:"17+"},{label:"Leaflet",value:"Mapas OSM"},{label:"Bootstrap/Argon",value:"UI base"},{label:"RxJS",value:"streams"},{label:"FastAPI (Python)",value:"API"},{label:"Python",value:"Treino/serving modelo"}],this.stats=[{value:"97.4%",label:"Precis\xe3o m\xe9dia (mAP)",icon:"fas fa-bullseye text-success"},{value:"12.5 ms",label:"Lat\xeancia (infer\xeancia)",icon:"fas fa-tachometer-alt text-info"},{value:"YOLOv11",label:"Modelo base",icon:"fas fa-brain text-danger"},{value:"18",label:"Cidades-piloto",icon:"fas fa-city text-warning"}],this.team=[{name:"Jo\xe3o Victor Bezerra",role:"Founder / Eng. Controle & Mobile",avatar:"",links:[{icon:"fab fa-github",href:"#"},{icon:"fab fa-linkedin",href:"#"}]},{name:"Jos\xe9 Vitor Melo",role:"Co-Founder / ADS e Backend",avatar:"",links:[{icon:"fab fa-github",href:"#"},{icon:"fab fa-linkedin",href:"#"}]},{name:"Erickson Thiago Sales Lira",role:"Comercial / Eng. Controle",avatar:"",links:[{icon:"fab fa-github",href:"#"},{icon:"fab fa-linkedin",href:"#"}]},{name:"Adriano Estevam Couto",role:"Financeiro / Eng. Controle",avatar:"",links:[{icon:"fab fa-github",href:"#"},{icon:"fab fa-linkedin",href:"#"}]},{name:"Carlos Daniel Bittencourt Lima",role:"Marketing / Eng. Controle",avatar:"",links:[{icon:"fab fa-github",href:"#"},{icon:"fab fa-linkedin",href:"#"}]}],this.milestones=[{date:"Ago 2025",title:"MVP Drone + App",desc:"Pipeline de coleta, treino e dashboard inicial."},{date:"Set 2025",title:"Detec\xe7\xe3o multi-classe",desc:"Modelo \xfanico para lixo, buracos e vegeta\xe7\xe3o."},{date:"Out 2025",title:"Piloto municipal",desc:"Integra\xe7\xe3o com rotas de limpeza e prioriza\xe7\xe3o."}],this.contacts=[{icon:"fas fa-envelope",text:"contato@ecovision.ai",href:"mailto:contato@ecovision.ai"},{icon:"fas fa-globe",text:"ecovision.ai",href:"https://ecovision.ai"},{icon:"fas fa-phone",text:"(69) 99365-4224",href:"wa.me/+5569993654224"}]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_.Xpm({type:n,selectors:[["app-about"]],decls:76,vars:10,consts:[[1,"header","bg-gradient-eco","pb-7","pt-md-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center"],[1,"col"],[1,"text-white","mb-1"],[1,"text-white-80","mb-0"],[1,"col-auto"],[1,"badge","badge-light","px-3","py-2","rounded-pill"],[1,"fas","fa-info-circle","mr-1"],[1,"container-fluid","mt--6"],[1,"row"],[1,"col-xl-6","mb-4"],[1,"card","shadow","border-0","h-100"],[1,"card-body"],[1,"mb-3"],[1,"fas","fa-leaf","text-success","mr-2"],[1,"text-muted","mb-0"],[1,"fas","fa-search-location","text-primary","mr-2"],["class","col-sm-6",4,"ngFor","ngForOf"],[1,"col-xl-7","mb-4"],[1,"fas","fa-chart-line","text-info","mr-2"],["class","col-md-6 col-lg-6 mb-3",4,"ngFor","ngForOf"],[1,"fas","fa-tools","mr-2","text-secondary"],[1,"stack-list"],["class","badge badge-primary-soft mr-2 mb-2",4,"ngFor","ngForOf"],[1,"col-xl-5","mb-4"],[1,"fas","fa-stream","text-warning","mr-2"],[1,"timeline"],["class","timeline-item",4,"ngFor","ngForOf"],[1,"col-xl-8","mb-4"],[1,"fas","fa-users","text-primary","mr-2"],["class","col-md-6 col-lg-4 mb-3",4,"ngFor","ngForOf"],[1,"text-muted","small","mb-0"],[1,"col-xl-4","mb-4"],[1,"fas","fa-paper-plane","text-success","mr-2"],[1,"list-unstyled","mb-0"],["class","mb-2",4,"ngFor","ngForOf"],[1,"small","text-muted"],[1,"col-sm-6"],[1,"media","mb-3"],[1,"icon","icon-shape","bg-soft","rounded-circle","mr-3"],[1,"media-body"],[1,"mb-1"],[1,"col-md-6","col-lg-6","mb-3"],[1,"d-flex","align-items-center","metric"],[1,"ml-3"],[1,"h3","mb-0","font-weight-bold"],[1,"text-muted","small"],[1,"badge","badge-primary-soft","mr-2","mb-2"],[1,"timeline-item"],[1,"timeline-point"],[1,"timeline-content"],[1,"font-weight-600"],[1,"col-md-6","col-lg-4","mb-3"],[1,"team-card"],[1,"team-avatar"],["class","avatar-fallback",4,"ngIf"],[1,"team-info"],[1,"team-name"],[1,"team-role","text-muted","small"],[1,"team-links","mt-2"],["target","_blank","rel","noreferrer","class","mr-2",3,"href",4,"ngFor","ngForOf"],[1,"avatar-fallback"],["target","_blank","rel","noreferrer",1,"mr-2",3,"href"],[1,"mb-2"],["target","_blank","rel","noreferrer",3,"href"]],template:function(e,s){1&e&&(_.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),_._uU(6),_.qZA(),_.TgZ(7,"p",6),_._uU(8),_.qZA()(),_.TgZ(9,"div",7)(10,"span",8),_._UZ(11,"i",9),_._uU(12," About "),_.qZA()()()()()(),_.TgZ(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13)(17,"div",14)(18,"h5",15),_._UZ(19,"i",16),_._uU(20,"Miss\xe3o"),_.qZA(),_.TgZ(21,"p",17),_._uU(22),_.qZA()()()(),_.TgZ(23,"div",12)(24,"div",13)(25,"div",14)(26,"h5",15),_._UZ(27,"i",18),_._uU(28,"O que detectamos"),_.qZA(),_.TgZ(29,"div",11),_.YNc(30,_u,9,4,"div",19),_.qZA()()()()(),_.TgZ(31,"div",11)(32,"div",20)(33,"div",13)(34,"div",14)(35,"h5",15),_._UZ(36,"i",21),_._uU(37,"M\xe9tricas"),_.qZA(),_.TgZ(38,"div",11),_.YNc(39,vu,8,4,"div",22),_.qZA(),_._UZ(40,"hr"),_.TgZ(41,"h6",15),_._UZ(42,"i",23),_._uU(43,"Stack t\xe9cnica"),_.qZA(),_.TgZ(44,"div",24),_.YNc(45,bu,2,2,"span",25),_.qZA()()()(),_.TgZ(46,"div",26)(47,"div",13)(48,"div",14)(49,"h5",15),_._UZ(50,"i",27),_._uU(51,"Marcos"),_.qZA(),_.TgZ(52,"ul",28),_.YNc(53,xu,9,3,"li",29),_.qZA()()()()(),_.TgZ(54,"div",11)(55,"div",30)(56,"div",13)(57,"div",14)(58,"h5",15),_._UZ(59,"i",31),_._uU(60,"Equipe"),_.qZA(),_.TgZ(61,"div",11),_.YNc(62,Pu,11,4,"div",32),_.qZA(),_.TgZ(63,"p",33),_._uU(64,"Quer colaborar? Fale com a gente \u{1f447}"),_.qZA()()()(),_.TgZ(65,"div",34)(66,"div",13)(67,"div",14)(68,"h5",15),_._UZ(69,"i",35),_._uU(70,"Contato"),_.qZA(),_.TgZ(71,"ul",36),_.YNc(72,Mu,4,4,"li",37),_.qZA(),_._UZ(73,"hr"),_.TgZ(74,"div",38),_._uU(75," \xa9 2025 \u2014 Todos os direitos reservados. "),_.qZA()()()()()()),2&e&&(_.xp6(6),_.Oqu(s.appName),_.xp6(2),_.AsE(" ",s.version," \u2022 build ",s.buildDate," \u2022 Monitoramento inteligente de degrada\xe7\xe3o urbana "),_.xp6(14),_.hij(" A ",s.appName," acelera a identifica\xe7\xe3o de problemas urbanos (lixo, asfalto danificado, obstru\xe7\xf5es) com vis\xe3o computacional e mapas interativos, priorizando a\xe7\xf5es e reduzindo custos operacionais para cidades mais limpas e seguras. "),_.xp6(8),_.Q6J("ngForOf",s.features),_.xp6(9),_.Q6J("ngForOf",s.stats),_.xp6(6),_.Q6J("ngForOf",s.stack),_.xp6(8),_.Q6J("ngForOf",s.milestones),_.xp6(9),_.Q6J("ngForOf",s.team),_.xp6(10),_.Q6J("ngForOf",s.contacts))},dependencies:[Pe.sg,Pe.O5],styles:['.header.bg-gradient-eco[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0ea5e9 0%,#22c55e 100%)}.text-white-80[_ngcontent-%COMP%]{color:#ffffffd9}.badge-primary-soft[_ngcontent-%COMP%]{background:rgba(13,110,253,.12);color:#0d6efd;font-weight:600}.metric[_ngcontent-%COMP%]{padding:1rem;border-radius:.75rem;background:#f8f9fe;transition:all .3s ease}.metric[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 2px 6px #00000014}.metric-icon[_ngcontent-%COMP%]{font-size:1.4rem;opacity:.9}.feature-icon[_ngcontent-%COMP%]{font-size:1.8rem}.timeline[_ngcontent-%COMP%]{list-style:none;padding-left:0;position:relative;margin-left:.5rem}.timeline[_ngcontent-%COMP%]:before{content:"";position:absolute;left:10px;top:0;bottom:0;width:2px;background:#e5e7eb}.timeline-item[_ngcontent-%COMP%]{position:relative;padding-left:2rem;margin-bottom:1rem}.timeline-point[_ngcontent-%COMP%]{position:absolute;left:3px;top:.25rem;width:14px;height:14px;border-radius:50%;background:#22c55e;box-shadow:0 0 0 3px #22c55e40}.timeline-content[_ngcontent-%COMP%]   .font-weight-600[_ngcontent-%COMP%]{font-weight:600}.team-card[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.75rem;border:1px solid #eef2f7;border-radius:.75rem;background:#fff;transition:all .3s ease}.team-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 3px 8px #00000014}.team-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:#e5f6ff;display:flex;align-items:center;justify-content:center}.avatar-fallback[_ngcontent-%COMP%]{font-weight:700;color:#0ea5e9}.team-info[_ngcontent-%COMP%]{margin-left:.75rem}.team-name[_ngcontent-%COMP%]{font-weight:600}.mt--6[_ngcontent-%COMP%]{margin-top:-4rem!important}.hover-lift[_ngcontent-%COMP%]{transition:all .3s ease}.hover-lift[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 10px #00000014}']}),n})()}];var Tu=D(4728),Lu=D(5642);let Su=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({imports:[Pe.ez,ut.Bz.forChild(ku),_t.u5,ue.JF,Lu.K,Tu.IJ]}),n})()},8407:function(Mi,ce){!function(D){"use strict";function ut(i){var r,h,d,g;for(h=1,d=arguments.length;h<d;h++)for(r in g=arguments[h])i[r]=g[r];return i}var Pe=Object.create||function(){function i(){}return function(r){return i.prototype=r,new i}}();function _t(i,r){var h=Array.prototype.slice;if(i.bind)return i.bind.apply(i,h.call(arguments,1));var d=h.call(arguments,2);return function(){return i.apply(r,d.length?d.concat(h.call(arguments)):arguments)}}var _=0;function et(i){return"_leaflet_id"in i||(i._leaflet_id=++_),i._leaflet_id}function Ls(i,r,h){var d,g,b,P;return P=function(){d=!1,g&&(b.apply(h,g),g=!1)},b=function(){d?g=arguments:(i.apply(h,arguments),setTimeout(P,r),d=!0)},b}function ne(i,r,h){var d=r[1],g=r[0],b=d-g;return i===d&&h?i:((i-g)%b+b)%b+g}function Mt(){return!1}function de(i,r){if(!1===r)return i;var h=Math.pow(10,void 0===r?6:r);return Math.round(i*h)/h}function Cn(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function je(i){return Cn(i).split(/\s+/)}function vt(i,r){for(var h in Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?Pe(i.options):{}),r)i.options[h]=r[h];return i.options}function On(i,r,h){var d=[];for(var g in i)d.push(encodeURIComponent(h?g.toUpperCase():g)+"="+encodeURIComponent(i[g]));return(r&&-1!==r.indexOf("?")?"&":"?")+d.join("&")}var Ko=/\{ *([\w_ -]+) *\}/g;function Ss(i,r){return i.replace(Ko,function(h,d){var g=r[d];if(void 0===g)throw new Error("No value provided for variable "+h);return"function"==typeof g&&(g=g(r)),g})}var se=Array.isArray||function(i){return"[object Array]"===Object.prototype.toString.call(i)};function An(i,r){for(var h=0;h<i.length;h++)if(i[h]===r)return h;return-1}var Qi="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Dn(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var Cs=0;function Os(i){var r=+new Date,h=Math.max(0,16-(r-Cs));return Cs=r+h,window.setTimeout(i,h)}var zn=window.requestAnimationFrame||Dn("RequestAnimationFrame")||Os,As=window.cancelAnimationFrame||Dn("CancelAnimationFrame")||Dn("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function Ht(i,r,h){if(!h||zn!==Os)return zn.call(window,_t(i,r));i.call(r)}function Et(i){i&&As.call(window,i)}var Me={__proto__:null,extend:ut,create:Pe,bind:_t,get lastId(){return _},stamp:et,throttle:Ls,wrapNum:ne,falseFn:Mt,formatNum:de,trim:Cn,splitWords:je,setOptions:vt,getParamString:On,template:Ss,isArray:se,indexOf:An,emptyImageUrl:Qi,requestFn:zn,cancelFn:As,requestAnimFrame:Ht,cancelAnimFrame:Et};function Yt(){}Yt.extend=function(i){var r=function(){vt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=r.__super__=this.prototype,d=Pe(h);for(var g in d.constructor=r,r.prototype=d,this)Object.prototype.hasOwnProperty.call(this,g)&&"prototype"!==g&&"__super__"!==g&&(r[g]=this[g]);return i.statics&&ut(r,i.statics),i.includes&&(function Yr(i){if(!(typeof L>"u")&&L&&L.Mixin){i=se(i)?i:[i];for(var r=0;r<i.length;r++)i[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(i.includes),ut.apply(null,[d].concat(i.includes))),ut(d,i),delete d.statics,delete d.includes,d.options&&(d.options=h.options?Pe(h.options):{},ut(d.options,i.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var b=0,P=d._initHooks.length;b<P;b++)d._initHooks[b].call(this)}},r},Yt.include=function(i){var r=this.prototype.options;return ut(this.prototype,i),i.options&&(this.prototype.options=r,this.mergeOptions(i.options)),this},Yt.mergeOptions=function(i){return ut(this.prototype.options,i),this},Yt.addInitHook=function(i){var r=Array.prototype.slice.call(arguments,1),h="function"==typeof i?i:function(){this[i].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};var Lt={on:function(i,r,h){if("object"==typeof i)for(var d in i)this._on(d,i[d],r);else for(var g=0,b=(i=je(i)).length;g<b;g++)this._on(i[g],r,h);return this},off:function(i,r,h){if(arguments.length)if("object"==typeof i)for(var d in i)this._off(d,i[d],r);else{i=je(i);for(var g=1===arguments.length,b=0,P=i.length;b<P;b++)g?this._off(i[b]):this._off(i[b],r,h)}else delete this._events;return this},_on:function(i,r,h,d){if("function"==typeof r){if(!1===this._listens(i,r,h)){h===this&&(h=void 0);var g={fn:r,ctx:h};d&&(g.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(g)}}else console.warn("wrong listener type: "+typeof r)},_off:function(i,r,h){var d,g,b;if(this._events&&(d=this._events[i])){if(1===arguments.length){if(this._firingCount)for(g=0,b=d.length;g<b;g++)d[g].fn=Mt;return void delete this._events[i]}if("function"!=typeof r)return void console.warn("wrong listener type: "+typeof r);var P=this._listens(i,r,h);!1!==P&&(this._firingCount&&(d[P].fn=Mt,this._events[i]=d=d.slice()),d.splice(P,1))}},fire:function(i,r,h){if(!this.listens(i,h))return this;var d=ut({},r,{type:i,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var g=this._events[i];if(g){this._firingCount=this._firingCount+1||1;for(var b=0,P=g.length;b<P;b++){var k=g[b],S=k.fn;k.once&&this.off(i,S,k.ctx),S.call(k.ctx||this,d)}this._firingCount--}}return h&&this._propagateEvent(d),this},listens:function(i,r,h,d){"string"!=typeof i&&console.warn('"string" type argument expected');var g=r;"function"!=typeof r&&(d=!!r,g=void 0,h=void 0);var b=this._events&&this._events[i];if(b&&b.length&&!1!==this._listens(i,g,h))return!0;if(d)for(var P in this._eventParents)if(this._eventParents[P].listens(i,r,h,d))return!0;return!1},_listens:function(i,r,h){if(!this._events)return!1;var d=this._events[i]||[];if(!r)return!!d.length;h===this&&(h=void 0);for(var g=0,b=d.length;g<b;g++)if(d[g].fn===r&&d[g].ctx===h)return g;return!1},once:function(i,r,h){if("object"==typeof i)for(var d in i)this._on(d,i[d],r,!0);else for(var g=0,b=(i=je(i)).length;g<b;g++)this._on(i[g],r,h,!0);return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[et(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[et(i)],this},_propagateEvent:function(i){for(var r in this._eventParents)this._eventParents[r].fire(i.type,ut({layer:i.target,propagatedFrom:i.target},i),!0)}};Lt.addEventListener=Lt.on,Lt.removeEventListener=Lt.clearAllEventListeners=Lt.off,Lt.addOneTimeEventListener=Lt.once,Lt.fireEvent=Lt.fire,Lt.hasEventListeners=Lt.listens;var $t=Yt.extend(Lt);function j(i,r,h){this.x=h?Math.round(i):i,this.y=h?Math.round(r):r}var Gt=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};function V(i,r,h){return i instanceof j?i:se(i)?new j(i[0],i[1]):null==i?i:"object"==typeof i&&"x"in i&&"y"in i?new j(i.x,i.y):new j(i,r,h)}function xt(i,r){if(i)for(var h=r?[i,r]:i,d=0,g=h.length;d<g;d++)this.extend(h[d])}function Vt(i,r){return!i||i instanceof xt?i:new xt(i,r)}function It(i,r){if(i)for(var h=r?[i,r]:i,d=0,g=h.length;d<g;d++)this.extend(h[d])}function St(i,r){return i instanceof It?i:new It(i,r)}function at(i,r,h){if(isNaN(i)||isNaN(r))throw new Error("Invalid LatLng object: ("+i+", "+r+")");this.lat=+i,this.lng=+r,void 0!==h&&(this.alt=+h)}function tt(i,r,h){return i instanceof at?i:se(i)&&"object"!=typeof i[0]?3===i.length?new at(i[0],i[1],i[2]):2===i.length?new at(i[0],i[1]):null:null==i?i:"object"==typeof i&&"lat"in i?new at(i.lat,"lng"in i?i.lng:i.lon,i.alt):void 0===r?null:new at(i,r,h)}j.prototype={clone:function(){return new j(this.x,this.y)},add:function(i){return this.clone()._add(V(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(V(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new j(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new j(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Gt(this.x),this.y=Gt(this.y),this},distanceTo:function(i){var r=(i=V(i)).x-this.x,h=i.y-this.y;return Math.sqrt(r*r+h*h)},equals:function(i){return(i=V(i)).x===this.x&&i.y===this.y},contains:function(i){return i=V(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+de(this.x)+", "+de(this.y)+")"}},xt.prototype={extend:function(i){var r,h;if(!i)return this;if(i instanceof j||"number"==typeof i[0]||"x"in i)r=h=V(i);else if(h=(i=Vt(i)).max,!(r=i.min)||!h)return this;return this.min||this.max?(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)):(this.min=r.clone(),this.max=h.clone()),this},getCenter:function(i){return V((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return V(this.min.x,this.max.y)},getTopRight:function(){return V(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var r,h;return(i="number"==typeof i[0]||i instanceof j?V(i):Vt(i))instanceof xt?(r=i.min,h=i.max):r=h=i,r.x>=this.min.x&&h.x<=this.max.x&&r.y>=this.min.y&&h.y<=this.max.y},intersects:function(i){i=Vt(i);var r=this.min,h=this.max,d=i.min,g=i.max;return g.x>=r.x&&d.x<=h.x&&g.y>=r.y&&d.y<=h.y},overlaps:function(i){i=Vt(i);var r=this.min,h=this.max,d=i.min,g=i.max;return g.x>r.x&&d.x<h.x&&g.y>r.y&&d.y<h.y},isValid:function(){return!(!this.min||!this.max)},pad:function(i){var r=this.min,h=this.max,d=Math.abs(r.x-h.x)*i,g=Math.abs(r.y-h.y)*i;return Vt(V(r.x-d,r.y-g),V(h.x+d,h.y+g))},equals:function(i){return!!i&&(i=Vt(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight()))}},It.prototype={extend:function(i){var d,g,r=this._southWest,h=this._northEast;if(i instanceof at)d=i,g=i;else{if(!(i instanceof It))return i?this.extend(tt(i)||St(i)):this;if(g=i._northEast,!(d=i._southWest)||!g)return this}return r||h?(r.lat=Math.min(d.lat,r.lat),r.lng=Math.min(d.lng,r.lng),h.lat=Math.max(g.lat,h.lat),h.lng=Math.max(g.lng,h.lng)):(this._southWest=new at(d.lat,d.lng),this._northEast=new at(g.lat,g.lng)),this},pad:function(i){var r=this._southWest,h=this._northEast,d=Math.abs(r.lat-h.lat)*i,g=Math.abs(r.lng-h.lng)*i;return new It(new at(r.lat-d,r.lng-g),new at(h.lat+d,h.lng+g))},getCenter:function(){return new at((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new at(this.getNorth(),this.getWest())},getSouthEast:function(){return new at(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){i="number"==typeof i[0]||i instanceof at||"lat"in i?tt(i):St(i);var d,g,r=this._southWest,h=this._northEast;return i instanceof It?(d=i.getSouthWest(),g=i.getNorthEast()):d=g=i,d.lat>=r.lat&&g.lat<=h.lat&&d.lng>=r.lng&&g.lng<=h.lng},intersects:function(i){i=St(i);var r=this._southWest,h=this._northEast,d=i.getSouthWest(),g=i.getNorthEast();return g.lat>=r.lat&&d.lat<=h.lat&&g.lng>=r.lng&&d.lng<=h.lng},overlaps:function(i){i=St(i);var r=this._southWest,h=this._northEast,d=i.getSouthWest(),g=i.getNorthEast();return g.lat>r.lat&&d.lat<h.lat&&g.lng>r.lng&&d.lng<h.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,r){return!!i&&(i=St(i),this._southWest.equals(i.getSouthWest(),r)&&this._northEast.equals(i.getNorthEast(),r))},isValid:function(){return!(!this._southWest||!this._northEast)}},at.prototype={equals:function(i,r){return!!i&&(i=tt(i),Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng))<=(void 0===r?1e-9:r))},toString:function(i){return"LatLng("+de(this.lat,i)+", "+de(this.lng,i)+")"},distanceTo:function(i){return Ie.distance(this,tt(i))},wrap:function(){return Ie.wrapLatLng(this)},toBounds:function(i){var r=180*i/40075017,h=r/Math.cos(Math.PI/180*this.lat);return St([this.lat-r,this.lng-h],[this.lat+r,this.lng+h])},clone:function(){return new at(this.lat,this.lng,this.alt)}};var i,ke={latLngToPoint:function(i,r){var h=this.projection.project(i),d=this.scale(r);return this.transformation._transform(h,d)},pointToLatLng:function(i,r){var h=this.scale(r),d=this.transformation.untransform(i,h);return this.projection.unproject(d)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var r=this.projection.bounds,h=this.scale(i);return new xt(this.transformation.transform(r.min,h),this.transformation.transform(r.max,h))},infinite:!1,wrapLatLng:function(i){var r=this.wrapLng?ne(i.lng,this.wrapLng,!0):i.lng;return new at(this.wrapLat?ne(i.lat,this.wrapLat,!0):i.lat,r,i.alt)},wrapLatLngBounds:function(i){var r=i.getCenter(),h=this.wrapLatLng(r),d=r.lat-h.lat,g=r.lng-h.lng;if(0===d&&0===g)return i;var b=i.getSouthWest(),P=i.getNorthEast();return new It(new at(b.lat-d,b.lng-g),new at(P.lat-d,P.lng-g))}},Ie=ut({},ke,{wrapLng:[-180,180],R:6371e3,distance:function(i,r){var h=Math.PI/180,d=i.lat*h,g=r.lat*h,b=Math.sin((r.lat-i.lat)*h/2),P=Math.sin((r.lng-i.lng)*h/2),k=b*b+Math.cos(d)*Math.cos(g)*P*P,S=2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k));return this.R*S}}),In={R:6378137,MAX_LATITUDE:85.0511287798,project:function(i){var r=Math.PI/180,h=this.MAX_LATITUDE,d=Math.max(Math.min(h,i.lat),-h),g=Math.sin(d*r);return new j(this.R*i.lng*r,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(i){var r=180/Math.PI;return new at((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*r,i.x*r/this.R)},bounds:(i=6378137*Math.PI,new xt([-i,-i],[i,i]))};function Rn(i,r,h,d){if(se(i))return this._a=i[0],this._b=i[1],this._c=i[2],void(this._d=i[3]);this._a=i,this._b=r,this._c=h,this._d=d}function ki(i,r,h,d){return new Rn(i,r,h,d)}Rn.prototype={transform:function(i,r){return this._transform(i.clone(),r)},_transform:function(i,r){return i.x=(r=r||1)*(this._a*i.x+this._b),i.y=r*(this._c*i.y+this._d),i},untransform:function(i,r){return new j((i.x/(r=r||1)-this._b)/this._a,(i.y/r-this._d)/this._c)}};var Ti=ut({},Ie,{code:"EPSG:3857",projection:In,transformation:function(){var i=.5/(Math.PI*In.R);return ki(i,.5,-i,.5)}()}),Bn=ut({},Ti,{code:"EPSG:900913"});function tn(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Ds(i,r){var d,g,b,P,k,S,h="";for(d=0,b=i.length;d<b;d++){for(g=0,P=(k=i[d]).length;g<P;g++)h+=(g?"L":"M")+(S=k[g]).x+" "+S.y;h+=r?N.svg?"z":"x":""}return h||"M0 0"}var Fn=document.documentElement.style,Li="ActiveXObject"in window,Jo=Li&&!document.addEventListener,zs="msLaunchUri"in navigator&&!("documentMode"in document),Zn=pe("webkit"),Nn=pe("android"),Wn=pe("android 2")||pe("android 3"),Qo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),en=Nn&&pe("Google")&&Qo<537&&!("AudioNode"in window),Hn=!!window.opera,Es=!zs&&pe("chrome"),Is=pe("gecko")&&!Zn&&!Hn&&!Li,tr=!Es&&pe("safari"),nn=pe("phantom"),qe="OTransition"in Fn,er=0===navigator.platform.indexOf("Win"),Si=Li&&"transition"in Fn,sn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Wn,Vn="MozPerspective"in Fn,ir=!window.L_DISABLE_3D&&(Si||sn||Vn)&&!qe&&!nn,fe=typeof orientation<"u"||pe("mobile"),$r=fe&&Zn,Te=fe&&sn,Rs=!window.PointerEvent&&window.MSPointerEvent,G=!(!window.PointerEvent&&!Rs),pt="ontouchstart"in window||!!window.TouchEvent,Q=!window.L_NO_TOUCH&&(pt||G),yt=fe&&Hn,Xt=fe&&Is,U=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,nr=function(){var i=!1;try{var r=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",Mt,r),window.removeEventListener("testPassiveEventSupport",Mt,r)}catch{}return i}(),Bs=!!document.createElement("canvas").getContext,lt=!(!document.createElementNS||!tn("svg").createSVGRect),rt=!!lt&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(i.firstChild&&i.firstChild.namespaceURI)}(),on=!lt&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var r=i.firstChild;return r.style.behavior="url(#default#VML)",r&&"object"==typeof r.adj}catch{return!1}}();function pe(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var N={ie:Li,ielt9:Jo,edge:zs,webkit:Zn,android:Nn,android23:Wn,androidStock:en,opera:Hn,chrome:Es,gecko:Is,safari:tr,phantom:nn,opera12:qe,win:er,ie3d:Si,webkit3d:sn,gecko3d:Vn,any3d:ir,mobile:fe,mobileWebkit:$r,mobileWebkit3d:Te,msPointer:Rs,pointer:G,touch:Q,touchNative:pt,mobileOpera:yt,mobileGecko:Xt,retina:U,passiveEvents:nr,canvas:Bs,svg:lt,vml:on,inlineSvg:rt,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},ci=N.msPointer?"MSPointerDown":"pointerdown",Zs=N.msPointer?"MSPointerMove":"pointermove",sr=N.msPointer?"MSPointerUp":"pointerup",Un=N.msPointer?"MSPointerCancel":"pointercancel",jn={touchstart:ci,touchmove:Zs,touchend:sr,touchcancel:Un},Ns={touchstart:function hn(i,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&Rt(r),ln(i,r)},touchmove:ln,touchend:ln,touchcancel:ln},Kt={},an=!1;function Ci(i,r,h){return"touchstart"===r&&function mt(){an||(document.addEventListener(ci,Ws,!0),document.addEventListener(Zs,or,!0),document.addEventListener(sr,it,!0),document.addEventListener(Un,it,!0),an=!0)}(),Ns[r]?(h=Ns[r].bind(this,h),i.addEventListener(jn[r],h,!1),h):(console.warn("wrong event specified:",r),Mt)}function Ws(i){Kt[i.pointerId]=i}function or(i){Kt[i.pointerId]&&(Kt[i.pointerId]=i)}function it(i){delete Kt[i.pointerId]}function ln(i,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){for(var h in r.touches=[],Kt)r.touches.push(Kt[h]);r.changedTouches=[r],i(r)}}var Jt,Ei,Yn,Ii,Vs,ge=Tt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ut=Tt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ui="webkitTransition"===Ut||"OTransition"===Ut?Ut+"End":"transitionend";function qn(i){return"string"==typeof i?document.getElementById(i):i}function Oi(i,r){var h=i.style[r]||i.currentStyle&&i.currentStyle[r];if((!h||"auto"===h)&&document.defaultView){var d=document.defaultView.getComputedStyle(i,null);h=d?d[r]:null}return"auto"===h?null:h}function nt(i,r,h){var d=document.createElement(i);return d.className=r||"",h&&h.appendChild(d),d}function ht(i){var r=i.parentNode;r&&r.removeChild(i)}function cn(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function $e(i){var r=i.parentNode;r&&r.lastChild!==i&&r.appendChild(i)}function Zt(i){var r=i.parentNode;r&&r.firstChild!==i&&r.insertBefore(i,r.firstChild)}function Ai(i,r){if(void 0!==i.classList)return i.classList.contains(r);var h=un(i);return h.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(h)}function Y(i,r){if(void 0!==i.classList)for(var h=je(r),d=0,g=h.length;d<g;d++)i.classList.add(h[d]);else if(!Ai(i,r)){var b=un(i);Di(i,(b?b+" ":"")+r)}}function wt(i,r){void 0!==i.classList?i.classList.remove(r):Di(i,Cn((" "+un(i)+" ").replace(" "+r+" "," ")))}function Di(i,r){void 0===i.className.baseVal?i.className=r:i.className.baseVal=r}function un(i){return i.correspondingElement&&(i=i.correspondingElement),void 0===i.className.baseVal?i.className:i.className.baseVal}function dt(i,r){"opacity"in i.style?i.style.opacity=r:"filter"in i.style&&function zi(i,r){var h=!1,d="DXImageTransform.Microsoft.Alpha";try{h=i.filters.item(d)}catch{if(1===r)return}r=Math.round(100*r),h?(h.Enabled=100!==r,h.Opacity=r):i.style.filter+=" progid:"+d+"(opacity="+r+")"}(i,r)}function Tt(i){for(var r=document.documentElement.style,h=0;h<i.length;h++)if(i[h]in r)return i[h];return!1}function Ge(i,r,h){var d=r||new j(0,0);i.style[ge]=(N.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(h?" scale("+h+")":"")}function ct(i,r){i._leaflet_pos=r,N.any3d?Ge(i,r):(i.style.left=r.x+"px",i.style.top=r.y+"px")}function Le(i){return i._leaflet_pos||new j(0,0)}if("onselectstart"in document)Jt=function(){q(window,"selectstart",Rt)},Ei=function(){ft(window,"selectstart",Rt)};else{var di=Tt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Jt=function(){if(di){var i=document.documentElement.style;Yn=i[di],i[di]="none"}},Ei=function(){di&&(document.documentElement.style[di]=Yn,Yn=void 0)}}function $n(){q(window,"dragstart",Rt)}function dn(){ft(window,"dragstart",Rt)}function fn(i){for(;-1===i.tabIndex;)i=i.parentNode;!i.style||(Ri(),Ii=i,Vs=i.style.outlineStyle,i.style.outlineStyle="none",q(window,"keydown",Ri))}function Ri(){!Ii||(Ii.style.outlineStyle=Vs,Ii=void 0,Vs=void 0,ft(window,"keydown",Ri))}function Us(i){do{i=i.parentNode}while(!(i.offsetWidth&&i.offsetHeight||i===document.body));return i}function Bi(i){var r=i.getBoundingClientRect();return{x:r.width/i.offsetWidth||1,y:r.height/i.offsetHeight||1,boundingClientRect:r}}var Nt={__proto__:null,TRANSFORM:ge,TRANSITION:Ut,TRANSITION_END:ui,get:qn,getStyle:Oi,create:nt,remove:ht,empty:cn,toFront:$e,toBack:Zt,hasClass:Ai,addClass:Y,removeClass:wt,setClass:Di,getClass:un,setOpacity:dt,testProp:Tt,setTransform:Ge,setPosition:ct,getPosition:Le,get disableTextSelection(){return Jt},get enableTextSelection(){return Ei},disableImageDrag:$n,enableImageDrag:dn,preventOutline:fn,restoreOutline:Ri,getSizedParentNode:Us,getScale:Bi};function q(i,r,h,d){if(r&&"object"==typeof r)for(var g in r)gn(i,g,r[g],h);else for(var b=0,P=(r=je(r)).length;b<P;b++)gn(i,r[b],h,d);return this}var oe="_leaflet_events";function ft(i,r,h,d){if(1===arguments.length)Fi(i),delete i[oe];else if(r&&"object"==typeof r)for(var g in r)Xe(i,g,r[g],h);else if(r=je(r),2===arguments.length)Fi(i,function(k){return-1!==An(r,k)});else for(var b=0,P=r.length;b<P;b++)Xe(i,r[b],h,d);return this}function Fi(i,r){for(var h in i[oe]){var d=h.split(/\d/)[0];(!r||r(d))&&Xe(i,d,null,null,h)}}var pn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function gn(i,r,h,d){var g=r+et(h)+(d?"_"+et(d):"");if(i[oe]&&i[oe][g])return this;var b=function(k){return h.call(d||i,k||window.event)},P=b;!N.touchNative&&N.pointer&&0===r.indexOf("touch")?b=Ci(i,r,b):N.touch&&"dblclick"===r?b=function Ye(i,r){i.addEventListener("dblclick",r);var d,h=0;function g(b){if(1===b.detail){if("mouse"!==b.pointerType&&(!b.sourceCapabilities||b.sourceCapabilities.firesTouchEvents)){var P=js(b);if(!P.some(function(S){return S instanceof HTMLLabelElement&&S.attributes.for})||P.some(function(S){return S instanceof HTMLInputElement||S instanceof HTMLSelectElement})){var k=Date.now();k-h<=200?2==++d&&r(function rr(i){var h,d,r={};for(d in i)r[d]=(h=i[d])&&h.bind?h.bind(i):h;return i=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}(b)):d=1,h=k}}}else d=b.detail}return i.addEventListener("click",g),{dblclick:r,simDblclick:g}}(i,b):"addEventListener"in i?"touchstart"===r||"touchmove"===r||"wheel"===r||"mousewheel"===r?i.addEventListener(pn[r]||r,b,!!N.passiveEvents&&{passive:!1}):"mouseenter"===r||"mouseleave"===r?i.addEventListener(pn[r],b=function(k){k=k||window.event,Qe(i,k)&&P(k)},!1):i.addEventListener(r,P,!1):i.attachEvent("on"+r,b),i[oe]=i[oe]||{},i[oe][g]=b}function Xe(i,r,h,d,g){g=g||r+et(h)+(d?"_"+et(d):"");var b=i[oe]&&i[oe][g];if(!b)return this;!N.touchNative&&N.pointer&&0===r.indexOf("touch")?function Re(i,r,h){jn[r]?i.removeEventListener(jn[r],h,!1):console.warn("wrong event specified:",r)}(i,r,b):N.touch&&"dblclick"===r?function Hs(i,r){i.removeEventListener("dblclick",r.dblclick),i.removeEventListener("click",r.simDblclick)}(i,b):"removeEventListener"in i?i.removeEventListener(pn[r]||r,b,!1):i.detachEvent("on"+r,b),i[oe][g]=null}function Se(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function mn(i){return gn(i,"wheel",Se),this}function Ke(i){return q(i,"mousedown touchstart dblclick contextmenu",Se),i._leaflet_disable_click=!0,this}function Rt(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Je(i){return Rt(i),Se(i),this}function js(i){if(i.composedPath)return i.composedPath();for(var r=[],h=i.target;h;)r.push(h),h=h.parentNode;return r}function qs(i,r){if(!r)return new j(i.clientX,i.clientY);var h=Bi(r),d=h.boundingClientRect;return new j((i.clientX-d.left)/h.x-r.clientLeft,(i.clientY-d.top)/h.y-r.clientTop)}var Ys=N.linux&&N.chrome?window.devicePixelRatio:N.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function $s(i){return N.edge?i.wheelDeltaY/2:i.deltaY&&0===i.deltaMode?-i.deltaY/Ys:i.deltaY&&1===i.deltaMode?20*-i.deltaY:i.deltaY&&2===i.deltaMode?60*-i.deltaY:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?20*-i.detail:i.detail?i.detail/-32765*60:0}function Qe(i,r){var h=r.relatedTarget;if(!h)return!0;try{for(;h&&h!==i;)h=h.parentNode}catch{return!1}return h!==i}var Gs={__proto__:null,on:q,off:ft,stopPropagation:Se,disableScrollPropagation:mn,disableClickPropagation:Ke,preventDefault:Rt,stop:Je,getPropagationPath:js,getMousePosition:qs,getWheelDelta:$s,isExternalTarget:Qe,addListener:q,removeListener:ft},Xs=$t.extend({run:function(i,r,h,d){this.stop(),this._el=i,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=Le(i),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=Ht(this._animate,this),this._step()},_step:function(i){var r=+new Date-this._startTime,h=1e3*this._duration;r<h?this._runFrame(this._easeOut(r/h),i):(this._runFrame(1),this._complete())},_runFrame:function(i,r){var h=this._startPos.add(this._offset.multiplyBy(i));r&&h._round(),ct(this._el,h),this.fire("step")},_complete:function(){Et(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),X=$t.extend({options:{crs:Ti,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,r){r=vt(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=_t(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),void 0!==r.zoom&&(this._zoom=this._limitZoom(r.zoom)),r.center&&void 0!==r.zoom&&this.setView(tt(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ut&&N.any3d&&!N.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),q(this._proxy,ui,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,r,h){return r=void 0===r?this._zoom:this._limitZoom(r),i=this._limitCenter(tt(i),r,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&!0!==h&&(void 0!==h.animate&&(h.zoom=ut({animate:h.animate},h.zoom),h.pan=ut({animate:h.animate,duration:h.duration},h.pan)),this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,r,h.zoom):this._tryAnimatedPan(i,h.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(i,r,h.pan&&h.pan.noMoveStart),this)},setZoom:function(i,r){return this._loaded?this.setView(this.getCenter(),i,{zoom:r}):(this._zoom=i,this)},zoomIn:function(i,r){return this.setZoom(this._zoom+(i=i||(N.any3d?this.options.zoomDelta:1)),r)},zoomOut:function(i,r){return this.setZoom(this._zoom-(i=i||(N.any3d?this.options.zoomDelta:1)),r)},setZoomAround:function(i,r,h){var d=this.getZoomScale(r),g=this.getSize().divideBy(2),P=(i instanceof j?i:this.latLngToContainerPoint(i)).subtract(g).multiplyBy(1-1/d),k=this.containerPointToLatLng(g.add(P));return this.setView(k,r,{zoom:h})},_getBoundsCenterZoom:function(i,r){r=r||{},i=i.getBounds?i.getBounds():St(i);var h=V(r.paddingTopLeft||r.padding||[0,0]),d=V(r.paddingBottomRight||r.padding||[0,0]),g=this.getBoundsZoom(i,!1,h.add(d));if((g="number"==typeof r.maxZoom?Math.min(r.maxZoom,g):g)===1/0)return{center:i.getCenter(),zoom:g};var b=d.subtract(h).divideBy(2),P=this.project(i.getSouthWest(),g),k=this.project(i.getNorthEast(),g);return{center:this.unproject(P.add(k).divideBy(2).add(b),g),zoom:g}},fitBounds:function(i,r){if(!(i=St(i)).isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(i,r);return this.setView(h.center,h.zoom,r)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,r){return this.setView(i,this._zoom,{pan:r})},panBy:function(i,r){if(r=r||{},!(i=V(i).round()).x&&!i.y)return this.fire("moveend");if(!0!==r.animate&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Xs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),!1!==r.animate){Y(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,h,r.duration||.25,r.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,r,h){if(!1===(h=h||{}).animate||!N.any3d)return this.setView(i,r,h);this._stop();var d=this.project(this.getCenter()),g=this.project(i),b=this.getSize(),P=this._zoom;i=tt(i),r=void 0===r?P:r;var k=Math.max(b.x,b.y),S=k*this.getZoomScale(P,r),A=g.distanceTo(d)||1,Z=1.42,W=Z*Z;function $(Ot){var us=(S*S-k*k+(Ot?-1:1)*W*W*A*A)/(2*(Ot?S:k)*W*A),So=Math.sqrt(us*us+1)-us;return So<1e-9?-18:Math.log(So)}function Ft(Ot){return(Math.exp(Ot)-Math.exp(-Ot))/2}function Dt(Ot){return(Math.exp(Ot)+Math.exp(-Ot))/2}var zt=$(0);function Po(Ot){return k*(Dt(zt)*function te(Ot){return Ft(Ot)/Dt(Ot)}(zt+Z*Ot)-Ft(zt))/W}var le=Date.now(),Mo=($(1)-zt)/Z,Mr=h.duration?1e3*h.duration:1e3*Mo*.8;return this._moveStart(!0,h.noMoveStart),function ko(){var Ot=(Date.now()-le)/Mr,kn=function Pr(Ot){return 1-Math.pow(1-Ot,1.5)}(Ot)*Mo;Ot<=1?(this._flyToFrame=Ht(ko,this),this._move(this.unproject(d.add(g.subtract(d).multiplyBy(Po(kn)/A)),P),this.getScaleZoom(k/function He(Ot){return k*(Dt(zt)/Dt(zt+Z*Ot))}(kn),P),{flyTo:!0})):this._move(i,r)._moveEnd(!0)}.call(this),this},flyToBounds:function(i,r){var h=this._getBoundsCenterZoom(i,r);return this.flyTo(h.center,h.zoom,r)},setMaxBounds:function(i){return i=St(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var r=this.options.minZoom;return this.options.minZoom=i,this._loaded&&r!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var r=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&r!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,r){this._enforcingBounds=!0;var h=this.getCenter(),d=this._limitCenter(h,this._zoom,St(i));return h.equals(d)||this.panTo(d,r),this._enforcingBounds=!1,this},panInside:function(i,r){var h=V((r=r||{}).paddingTopLeft||r.padding||[0,0]),d=V(r.paddingBottomRight||r.padding||[0,0]),g=this.project(this.getCenter()),b=this.project(i),P=this.getPixelBounds(),k=Vt([P.min.add(h),P.max.subtract(d)]),S=k.getSize();if(!k.contains(b)){this._enforcingBounds=!0;var A=b.subtract(k.getCenter()),Z=k.extend(b).getSize().subtract(S);g.x+=A.x<0?-Z.x:Z.x,g.y+=A.y<0?-Z.y:Z.y,this.panTo(this.unproject(g),r),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=ut({animate:!1,pan:!0},!0===i?{animate:!0}:i);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),d=r.divideBy(2).round(),g=h.divideBy(2).round(),b=d.subtract(g);return b.x||b.y?(i.animate&&i.pan?this.panBy(b):(i.pan&&this._rawPanBy(b),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(_t(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:h})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=ut({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=_t(this._handleGeolocationResponse,this),h=_t(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,h,i):navigator.geolocation.getCurrentPosition(r,h,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var r=i.code,h=i.message||(1===r?"permission denied":2===r?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var d=new at(i.coords.latitude,i.coords.longitude),g=d.toBounds(2*i.coords.accuracy),b=this._locateOptions;if(b.setView){var P=this.getBoundsZoom(g);this.setView(d,b.maxZoom?Math.min(P,b.maxZoom):P)}var k={latlng:d,bounds:g,timestamp:i.timestamp};for(var S in i.coords)"number"==typeof i.coords[S]&&(k[S]=i.coords[S]);this.fire("locationfound",k)}},addHandler:function(i,r){if(!r)return this;var h=this[i]=new r(this);return this._handlers.push(h),this.options[i]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var i;for(i in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ht(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Et(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[i].remove();for(i in this._panes)ht(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,r){var d=nt("div","leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),r||this._mapPane);return i&&(this._panes[i]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds();return new It(this.unproject(i.getBottomLeft()),this.unproject(i.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,r,h){i=St(i),h=V(h||[0,0]);var d=this.getZoom()||0,g=this.getMinZoom(),b=this.getMaxZoom(),P=i.getNorthWest(),k=i.getSouthEast(),S=this.getSize().subtract(h),A=Vt(this.project(k,d),this.project(P,d)).getSize(),Z=N.any3d?this.options.zoomSnap:1,W=S.x/A.x,$=S.y/A.y,Ft=r?Math.max(W,$):Math.min(W,$);return d=this.getScaleZoom(Ft,d),Z&&(d=Math.round(d/(Z/100))*(Z/100),d=r?Math.ceil(d/Z)*Z:Math.floor(d/Z)*Z),Math.max(g,Math.min(b,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new j(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,r){var h=this._getTopLeftPoint(i,r);return new xt(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(void 0===i?this.getZoom():i)},getPane:function(i){return"string"==typeof i?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,r){var h=this.options.crs;return r=void 0===r?this._zoom:r,h.scale(i)/h.scale(r)},getScaleZoom:function(i,r){var h=this.options.crs,d=h.zoom(i*h.scale(r=void 0===r?this._zoom:r));return isNaN(d)?1/0:d},project:function(i,r){return r=void 0===r?this._zoom:r,this.options.crs.latLngToPoint(tt(i),r)},unproject:function(i,r){return r=void 0===r?this._zoom:r,this.options.crs.pointToLatLng(V(i),r)},layerPointToLatLng:function(i){var r=V(i).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(i){return this.project(tt(i))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(tt(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(St(i))},distance:function(i,r){return this.options.crs.distance(tt(i),tt(r))},containerPointToLayerPoint:function(i){return V(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return V(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var r=this.containerPointToLayerPoint(V(i));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(tt(i)))},mouseEventToContainerPoint:function(i){return qs(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var r=this._container=qn(i);if(!r)throw new Error("Map container not found.");if(r._leaflet_id)throw new Error("Map container is already initialized.");q(r,"scroll",this._onScroll,this),this._containerId=et(r)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&N.any3d,Y(i,"leaflet-container"+(N.touch?" leaflet-touch":"")+(N.retina?" leaflet-retina":"")+(N.ielt9?" leaflet-oldie":"")+(N.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=Oi(i,"position");"absolute"!==r&&"relative"!==r&&"fixed"!==r&&"sticky"!==r&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ct(this._mapPane,new j(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Y(i.markerPane,"leaflet-zoom-hide"),Y(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,r,h){ct(this._mapPane,new j(0,0));var d=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var g=this._zoom!==r;this._moveStart(g,h)._move(i,r)._moveEnd(g),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(i,r){return i&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(i,r,h,d){void 0===r&&(r=this._zoom);var g=this._zoom!==r;return this._zoom=r,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),d?h&&h.pinch&&this.fire("zoom",h):((g||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Et(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){ct(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[et(this._container)]=this;var r=i?ft:q;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),N.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Et(this._resizeRequest),this._resizeRequest=Ht(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,r){for(var d,h=[],g="mouseout"===r||"mouseover"===r,b=i.target||i.srcElement,P=!1;b;){if((d=this._targets[et(b)])&&("click"===r||"preclick"===r)&&this._draggableMoved(d)){P=!0;break}if(d&&d.listens(r,!0)&&(g&&!Qe(b,i)||(h.push(d),g))||b===this._container)break;b=b.parentNode}return!h.length&&!P&&!g&&this.listens(r,!0)&&(h=[this]),h},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var r=i.target||i.srcElement;if(!(!this._loaded||r._leaflet_disable_events||"click"===i.type&&this._isClickDisabled(r))){var h=i.type;"mousedown"===h&&fn(r),this._fireDOMEvent(i,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,r,h){if("click"===i.type){var d=ut({},i);d.type="preclick",this._fireDOMEvent(d,d.type,h)}var g=this._findEventTargets(i,r);if(h){for(var b=[],P=0;P<h.length;P++)h[P].listens(r,!0)&&b.push(h[P]);g=b.concat(g)}if(g.length){"contextmenu"===r&&Rt(i);var k=g[0],S={originalEvent:i};if("keypress"!==i.type&&"keydown"!==i.type&&"keyup"!==i.type){var A=k.getLatLng&&(!k._radius||k._radius<=10);S.containerPoint=A?this.latLngToContainerPoint(k.getLatLng()):this.mouseEventToContainerPoint(i),S.layerPoint=this.containerPointToLayerPoint(S.containerPoint),S.latlng=A?k.getLatLng():this.layerPointToLatLng(S.layerPoint)}for(P=0;P<g.length;P++)if(g[P].fire(r,S,!0),S.originalEvent._stopped||!1===g[P].options.bubblingMouseEvents&&-1!==An(this._mouseEvents,r))return}},_draggableMoved:function(i){return(i=i.dragging&&i.dragging.enabled()?i:this).dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,r=this._handlers.length;i<r;i++)this._handlers[i].disable()},whenReady:function(i,r){return this._loaded?i.call(r||this,{target:this}):this.on("load",i,r),this},_getMapPanePos:function(){return Le(this._mapPane)||new j(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,r){return(i&&void 0!==r?this._getNewPixelOrigin(i,r):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,r){var h=this.getSize()._divideBy(2);return this.project(i,r)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,r,h){var d=this._getNewPixelOrigin(h,r);return this.project(i,r)._subtract(d)},_latLngBoundsToNewLayerBounds:function(i,r,h){var d=this._getNewPixelOrigin(h,r);return Vt([this.project(i.getSouthWest(),r)._subtract(d),this.project(i.getNorthWest(),r)._subtract(d),this.project(i.getSouthEast(),r)._subtract(d),this.project(i.getNorthEast(),r)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,r,h){if(!h)return i;var d=this.project(i,r),g=this.getSize().divideBy(2),b=new xt(d.subtract(g),d.add(g)),P=this._getBoundsOffset(b,h,r);return Math.abs(P.x)<=1&&Math.abs(P.y)<=1?i:this.unproject(d.add(P),r)},_limitOffset:function(i,r){if(!r)return i;var h=this.getPixelBounds(),d=new xt(h.min.add(i),h.max.add(i));return i.add(this._getBoundsOffset(d,r))},_getBoundsOffset:function(i,r,h){var d=Vt(this.project(r.getNorthEast(),h),this.project(r.getSouthWest(),h)),g=d.min.subtract(i.min),b=d.max.subtract(i.max);return new j(this._rebound(g.x,-b.x),this._rebound(g.y,-b.y))},_rebound:function(i,r){return i+r>0?Math.round(i-r)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(r))},_limitZoom:function(i){var r=this.getMinZoom(),h=this.getMaxZoom(),d=N.any3d?this.options.zoomSnap:1;return d&&(i=Math.round(i/d)*d),Math.max(r,Math.min(h,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){wt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,r){var h=this._getCenterOffset(i)._trunc();return!(!0!==(r&&r.animate)&&!this.getSize().contains(h)||(this.panBy(h,r),0))},_createAnimProxy:function(){var i=this._proxy=nt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(r){var h=ge,d=this._proxy.style[h];Ge(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),d===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ht(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),r=this.getZoom();Ge(this._proxy,this.project(i,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,r,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||!1===h.animate||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(r),g=this._getCenterOffset(i)._divideBy(1-1/d);return!(!0!==h.animate&&!this.getSize().contains(g)||(Ht(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(i,r,!0)},this),0))},_animateZoom:function(i,r,h,d){!this._mapPane||(h&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=r,Y(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:r,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(_t(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&wt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Bt=Yt.extend({options:{position:"topright"},initialize:function(i){vt(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var r=this._map;return r&&r.removeControl(this),this.options.position=i,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var r=this._container=this.onAdd(i),h=this.getPosition(),d=i._controlCorners[h];return Y(r,"leaflet-control"),-1!==h.indexOf("bottom")?d.insertBefore(r,d.firstChild):d.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ht(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),ti=function(i){return new Bt(i)};X.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},r="leaflet-",h=this._controlContainer=nt("div",r+"control-container",this._container);function d(g,b){i[g+b]=nt("div",r+g+" "+r+b,h)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)ht(this._controlCorners[i]);ht(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var fi=Bt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,r,h,d){return h<d?-1:d<h?1:0}},initialize:function(i,r,h){for(var d in vt(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,i)this._addLayer(i[d],d);for(d in r)this._addLayer(r[d],d,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Bt.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,r){return this._addLayer(i,r),this._map?this._update():this},addOverlay:function(i,r){return this._addLayer(i,r,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var r=this._getLayer(et(i));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){Y(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Y(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):wt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return wt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",r=this._container=nt("div",i),h=this.options.collapsed;r.setAttribute("aria-haspopup",!0),Ke(r),mn(r);var d=this._section=nt("section",i+"-list");h&&(this._map.on("click",this.collapse,this),q(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=nt("a",i+"-toggle",r);g.href="#",g.title="Layers",g.setAttribute("role","button"),q(g,{keydown:function(b){13===b.keyCode&&this._expandSafely()},click:function(b){Rt(b),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=nt("div",i+"-base",d),this._separator=nt("div",i+"-separator",d),this._overlaysList=nt("div",i+"-overlays",d),r.appendChild(d)},_getLayer:function(i){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&et(this._layers[r].layer)===i)return this._layers[r]},_addLayer:function(i,r,h){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:r,overlay:h}),this.options.sortLayers&&this._layers.sort(_t(function(d,g){return this.options.sortFunction(d.layer,g.layer,d.name,g.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;cn(this._baseLayersList),cn(this._overlaysList),this._layerControlInputs=[];var i,r,h,d,g=0;for(h=0;h<this._layers.length;h++)this._addItem(d=this._layers[h]),r=r||d.overlay,i=i||!d.overlay,g+=d.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(i=i&&g>1)?"":"none"),this._separator.style.display=r&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var r=this._getLayer(et(i.target)),h=r.overlay?"add"===i.type?"overlayadd":"overlayremove":"add"===i.type?"baselayerchange":null;h&&this._map.fire(h,r)},_createRadioElement:function(i,r){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(r?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=h,d.firstChild},_addItem:function(i){var d,r=document.createElement("label"),h=this._map.hasLayer(i.layer);i.overlay?((d=document.createElement("input")).type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=h):d=this._createRadioElement("leaflet-base-layers_"+et(this),h),this._layerControlInputs.push(d),d.layerId=et(i.layer),q(d,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+i.name;var b=document.createElement("span");return r.appendChild(b),b.appendChild(d),b.appendChild(g),(i.overlay?this._overlaysList:this._baseLayersList).appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var r,h,i=this._layerControlInputs,d=[],g=[];this._handlingClick=!0;for(var b=i.length-1;b>=0;b--)h=this._getLayer((r=i[b]).layerId).layer,r.checked?d.push(h):r.checked||g.push(h);for(b=0;b<g.length;b++)this._map.hasLayer(g[b])&&this._map.removeLayer(g[b]);for(b=0;b<d.length;b++)this._map.hasLayer(d[b])||this._map.addLayer(d[b]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r,h,i=this._layerControlInputs,d=this._map.getZoom(),g=i.length-1;g>=0;g--)h=this._getLayer((r=i[g]).layerId).layer,r.disabled=void 0!==h.options.minZoom&&d<h.options.minZoom||void 0!==h.options.maxZoom&&d>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,q(i,"click",Rt),this.expand();var r=this;setTimeout(function(){ft(i,"click",Rt),r._preventClick=!1})}}),Xn=Bt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var r="leaflet-control-zoom",h=nt("div",r+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,r+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,r+"-out",h,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,r,h,d,g){var b=nt("a",h,d);return b.innerHTML=i,b.href="#",b.title=r,b.setAttribute("role","button"),b.setAttribute("aria-label",r),Ke(b),q(b,"click",Je),q(b,"click",g,this),q(b,"click",this._refocusOnMap,this),b},_updateDisabled:function(){var i=this._map,r="leaflet-disabled";wt(this._zoomInButton,r),wt(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Y(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Y(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});X.mergeOptions({zoomControl:!0}),X.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Xn,this.addControl(this.zoomControl))});var Ks=Bt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var r="leaflet-control-scale",h=nt("div",r),d=this.options;return this._addScales(d,r+"-line",h),i.on(d.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),h},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,r,h){i.metric&&(this._mScale=nt("div",r,h)),i.imperial&&(this._iScale=nt("div",r,h))},_update:function(){var i=this._map,r=i.getSize().y/2,h=i.distance(i.containerPointToLatLng([0,r]),i.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(h)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var r=this._getRoundNum(i);this._updateScale(this._mScale,r<1e3?r+" m":r/1e3+" km",r/i)},_updateImperial:function(i){var h,d,g,r=3.2808399*i;r>5280?(d=this._getRoundNum(h=r/5280),this._updateScale(this._iScale,d+" mi",d/h)):(g=this._getRoundNum(r),this._updateScale(this._iScale,g+" ft",g/r))},_updateScale:function(i,r,h){i.style.width=Math.round(this.options.maxWidth*h)+"px",i.innerHTML=r},_getRoundNum:function(i){var r=Math.pow(10,(Math.floor(i)+"").length-1),h=i/r;return r*(h>=10?10:h>=5?5:h>=3?3:h>=2?2:1)}}),Ce=Bt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(N.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(i){vt(this,i),this._attributions={}},onAdd:function(i){for(var r in i.attributionControl=this,this._container=nt("div","leaflet-control-attribution"),Ke(this._container),i._layers)i._layers[r].getAttribution&&this.addAttribution(i._layers[r].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var r in this._attributions)this._attributions[r]&&i.push(r);var h=[];this.options.prefix&&h.push(this.options.prefix),i.length&&h.push(i.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});X.mergeOptions({attributionControl:!0}),X.addInitHook(function(){this.options.attributionControl&&(new Ce).addTo(this)});Bt.Layers=fi,Bt.Zoom=Xn,Bt.Scale=Ks,Bt.Attribution=Ce,ti.layers=function(i,r,h){return new fi(i,r,h)},ti.zoom=function(i){return new Xn(i)},ti.scale=function(i){return new Ks(i)},ti.attribution=function(i){return new Ce(i)};var Qt=Yt.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qt.addTo=function(i,r){return i.addHandler(r,this),this};var Qs={Events:Lt},me=N.touch?"touchstart mousedown":"mousedown",re=$t.extend({options:{clickTolerance:3},initialize:function(i,r,h,d){vt(this,d),this._element=i,this._dragStartTarget=r||i,this._preventOutline=h},enable:function(){this._enabled||(q(this._dragStartTarget,me,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(re._dragging===this&&this.finishDrag(!0),ft(this._dragStartTarget,me,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Ai(this._element,"leaflet-zoom-anim"))){if(i.touches&&1!==i.touches.length)return void(re._dragging===this&&this.finishDrag());if(!(re._dragging||i.shiftKey||1!==i.which&&1!==i.button&&!i.touches||(re._dragging=this,this._preventOutline&&fn(this._element),$n(),Jt(),this._moving))){this.fire("down");var r=i.touches?i.touches[0]:i,h=Us(this._element);this._startPoint=new j(r.clientX,r.clientY),this._startPos=Le(this._element),this._parentScale=Bi(h);var d="mousedown"===i.type;q(document,d?"mousemove":"touchmove",this._onMove,this),q(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1)return void(this._moved=!0);var r=i.touches&&1===i.touches.length?i.touches[0]:i,h=new j(r.clientX,r.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Rt(i),this._moved||(this.fire("dragstart"),this._moved=!0,Y(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Y(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),ct(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(i){wt(document.body,"leaflet-dragging"),this._lastTarget&&(wt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ft(document,"mousemove touchmove",this._onMove,this),ft(document,"mouseup touchend touchcancel",this._onUp,this),dn(),Ei();var r=this._moved&&this._moving;this._moving=!1,re._dragging=!1,r&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function Zi(i,r,h){var d,b,P,k,S,A,Z,W,$,g=[1,4,2,8];for(b=0,Z=i.length;b<Z;b++)i[b]._code=Be(i[b],r);for(k=0;k<4;k++){for(W=g[k],d=[],b=0,P=(Z=i.length)-1;b<Z;P=b++)A=i[P],(S=i[b])._code&W?A._code&W||(($=pi(A,S,W,r,h))._code=Be($,r),d.push($)):(A._code&W&&(($=pi(A,S,W,r,h))._code=Be($,r),d.push($)),d.push(S));i=d}return i}function to(i,r){var h,d,g,b,P,k,S,A;if(!i||0===i.length)throw new Error("latlngs not passed");ot(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var W=tt([0,0]),$=St(i);$.getNorthWest().distanceTo($.getSouthWest())*$.getNorthEast().distanceTo($.getNorthWest())<1700&&(W=Kn(i));var Dt=i.length,te=[];for(h=0;h<Dt;h++){var zt=tt(i[h]);te.push(r.project(tt([zt.lat-W.lat,zt.lng-W.lng])))}for(k=S=A=0,h=0,d=Dt-1;h<Dt;d=h++)S+=((g=te[h]).x+(b=te[d]).x)*(P=g.y*b.x-b.y*g.x),A+=(g.y+b.y)*P,k+=3*P;var He=r.unproject(V(0===k?te[0]:[S/k,A/k]));return tt([He.lat+W.lat,He.lng+W.lng])}function Kn(i){for(var r=0,h=0,d=0,g=0;g<i.length;g++){var b=tt(i[g]);r+=b.lat,h+=b.lng,d++}return tt([r/d,h/d])}var no,hr={__proto__:null,clipPolygon:Zi,polygonCenter:to,centroid:Kn};function eo(i,r){if(!r||!i.length)return i.slice();var h=r*r;return function Ni(i,r){var h=i.length,g=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(h);g[0]=g[h-1]=1,Jn(i,g,r,0,h-1);var b,P=[];for(b=0;b<h;b++)g[b]&&P.push(i[b]);return P}(i=function cr(i,r){for(var h=[i[0]],d=1,g=0,b=i.length;d<b;d++)ii(i[d],i[g])>r&&(h.push(i[d]),g=d);return g<b-1&&h.push(i[b-1]),h}(i,h),h)}function io(i,r,h){return Math.sqrt(Ct(i,r,h,!0))}function Jn(i,r,h,d,g){var P,k,S,b=0;for(k=d+1;k<=g-1;k++)(S=Ct(i[k],i[d],i[g],!0))>b&&(P=k,b=S);b>h&&(r[P]=1,Jn(i,r,h,d,P),Jn(i,r,h,P,g))}function so(i,r,h,d,g){var k,S,A,b=d?no:Be(i,h),P=Be(r,h);for(no=P;;){if(!(b|P))return[i,r];if(b&P)return!1;A=Be(S=pi(i,r,k=b||P,h,g),h),k===b?(i=S,b=A):(r=S,P=A)}}function pi(i,r,h,d,g){var A,Z,b=r.x-i.x,P=r.y-i.y,k=d.min,S=d.max;return 8&h?(A=i.x+b*(S.y-i.y)/P,Z=S.y):4&h?(A=i.x+b*(k.y-i.y)/P,Z=k.y):2&h?(A=S.x,Z=i.y+P*(S.x-i.x)/b):1&h&&(A=k.x,Z=i.y+P*(k.x-i.x)/b),new j(A,Z,g)}function Be(i,r){var h=0;return i.x<r.min.x?h|=1:i.x>r.max.x&&(h|=2),i.y<r.min.y?h|=4:i.y>r.max.y&&(h|=8),h}function ii(i,r){var h=r.x-i.x,d=r.y-i.y;return h*h+d*d}function Ct(i,r,h,d){var A,g=r.x,b=r.y,P=h.x-g,k=h.y-b,S=P*P+k*k;return S>0&&((A=((i.x-g)*P+(i.y-b)*k)/S)>1?(g=h.x,b=h.y):A>0&&(g+=P*A,b+=k*A)),P=i.x-g,k=i.y-b,d?P*P+k*k:new j(g,b)}function ot(i){return!se(i[0])||"object"!=typeof i[0][0]&&typeof i[0][0]<"u"}function gi(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ot(i)}function oo(i,r){var h,d,g,b,P,k,S,A;if(!i||0===i.length)throw new Error("latlngs not passed");ot(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Z=tt([0,0]),W=St(i);W.getNorthWest().distanceTo(W.getSouthWest())*W.getNorthEast().distanceTo(W.getNorthWest())<1700&&(Z=Kn(i));var Ft=i.length,Dt=[];for(h=0;h<Ft;h++){var te=tt(i[h]);Dt.push(r.project(tt([te.lat-Z.lat,te.lng-Z.lng])))}for(h=0,d=0;h<Ft-1;h++)d+=Dt[h].distanceTo(Dt[h+1])/2;if(0===d)A=Dt[0];else for(h=0,b=0;h<Ft-1;h++)if((b+=g=(P=Dt[h]).distanceTo(k=Dt[h+1]))>d){A=[k.x-(S=(b-d)/g)*(k.x-P.x),k.y-S*(k.y-P.y)];break}var zt=r.unproject(V(A));return tt([zt.lat+Z.lat,zt.lng+Z.lng])}var Fe={__proto__:null,simplify:eo,pointToSegmentDistance:io,closestPointOnSegment:function ei(i,r,h){return Ct(i,r,h)},clipSegment:so,_getEdgeIntersection:pi,_getBitCode:Be,_sqClosestPointOnSegment:Ct,isFlat:ot,_flat:gi,polylineCenter:oo},Wi={project:function(i){return new j(i.lng,i.lat)},unproject:function(i){return new at(i.y,i.x)},bounds:new xt([-180,-90],[180,90])},Ze={R:6378137,R_MINOR:6356752.314245179,bounds:new xt([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(i){var r=Math.PI/180,h=this.R,d=i.lat*r,g=this.R_MINOR/h,b=Math.sqrt(1-g*g),P=b*Math.sin(d),k=Math.tan(Math.PI/4-d/2)/Math.pow((1-P)/(1+P),b/2);return d=-h*Math.log(Math.max(k,1e-10)),new j(i.lng*r*h,d)},unproject:function(i){for(var A,r=180/Math.PI,h=this.R,d=this.R_MINOR/h,g=Math.sqrt(1-d*d),b=Math.exp(-i.y/h),P=Math.PI/2-2*Math.atan(b),k=0,S=.1;k<15&&Math.abs(S)>1e-7;k++)A=g*Math.sin(P),A=Math.pow((1-A)/(1+A),g/2),P+=S=Math.PI/2-2*Math.atan(b*A)-P;return new at(P*r,i.x*r/h)}},ro={__proto__:null,LonLat:Wi,Mercator:Ze,SphericalMercator:In},ur=ut({},Ie,{code:"EPSG:3395",projection:Ze,transformation:function(){var i=.5/(Math.PI*Ze.R);return ki(i,.5,-i,.5)}()}),vn=ut({},Ie,{code:"EPSG:4326",projection:Wi,transformation:ki(1/180,1,-1/180,.5)}),ao=ut({},ke,{projection:Wi,transformation:ki(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,r){var h=r.lng-i.lng,d=r.lat-i.lat;return Math.sqrt(h*h+d*d)},infinite:!0});ke.Earth=Ie,ke.EPSG3395=ur,ke.EPSG3857=Ti,ke.EPSG900913=Bn,ke.EPSG4326=vn,ke.Simple=ao;var ae=$t.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[et(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[et(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var r=i.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var h=this.getEvents();r.on(h,this),this.once("remove",function(){r.off(h,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});X.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var r=et(i);return this._layers[r]||(this._layers[r]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i)),this},removeLayer:function(i){var r=et(i);return this._layers[r]?(this._loaded&&i.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return et(i)in this._layers},eachLayer:function(i,r){for(var h in this._layers)i.call(r,this._layers[h]);return this},_addLayers:function(i){for(var r=0,h=(i=i?se(i)?i:[i]:[]).length;r<h;r++)this.addLayer(i[r])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[et(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var r=et(i);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,r=-1/0,h=this._getZoomSpan();for(var d in this._zoomBoundLayers){var g=this._zoomBoundLayers[d].options;i=void 0===g.minZoom?i:Math.min(i,g.minZoom),r=void 0===g.maxZoom?r:Math.max(r,g.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=i===1/0?void 0:i,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var mi=ae.extend({initialize:function(i,r){var h,d;if(vt(this,r),this._layers={},i)for(h=0,d=i.length;h<d;h++)this.addLayer(i[h])},addLayer:function(i){var r=this.getLayerId(i);return this._layers[r]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var r=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(i){return("number"==typeof i?i:this.getLayerId(i))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var h,d,r=Array.prototype.slice.call(arguments,1);for(h in this._layers)(d=this._layers[h])[i]&&d[i].apply(d,r);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,r){for(var h in this._layers)i.call(r,this._layers[h]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return et(i)}}),_e=mi.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),mi.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),mi.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new It;for(var r in this._layers){var h=this._layers[r];i.extend(h.getBounds?h.getBounds():h.getLatLng())}return i}}),_i=Yt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){vt(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,r){var h=this._getIconUrl(i);if(!h){if("icon"===i)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(h,r&&"IMG"===r.tagName?r:null);return this._setIconStyles(d,i),(this.options.crossOrigin||""===this.options.crossOrigin)&&(d.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),d},_setIconStyles:function(i,r){var h=this.options,d=h[r+"Size"];"number"==typeof d&&(d=[d,d]);var g=V(d),b=V("shadow"===r&&h.shadowAnchor||h.iconAnchor||g&&g.divideBy(2,!0));i.className="leaflet-marker-"+r+" "+(h.className||""),b&&(i.style.marginLeft=-b.x+"px",i.style.marginTop=-b.y+"px"),g&&(i.style.width=g.x+"px",i.style.height=g.y+"px")},_createImg:function(i,r){return(r=r||document.createElement("img")).src=i,r},_getIconUrl:function(i){return N.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});var vi=_i.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return"string"!=typeof vi.imagePath&&(vi.imagePath=this._detectIconPath()),(this.options.imagePath||vi.imagePath)+_i.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var r=function(h,d,g){var b=d.exec(h);return b&&b[g]};return(i=r(i,/^url\((['"])?(.+)\1\)$/,2))&&r(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=nt("div","leaflet-default-icon-path",document.body),r=Oi(i,"background-image")||Oi(i,"backgroundImage");if(document.body.removeChild(i),r=this._stripUrl(r))return r;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),lo=Qt.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new re(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Y(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&wt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var r=this._marker,h=r._map,d=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,b=Le(r._icon),P=h.getPixelBounds(),k=h.getPixelOrigin(),S=Vt(P.min._subtract(k).add(g),P.max._subtract(k).subtract(g));if(!S.contains(b)){var A=V((Math.max(S.max.x,b.x)-S.max.x)/(P.max.x-S.max.x)-(Math.min(S.min.x,b.x)-S.min.x)/(P.min.x-S.min.x),(Math.max(S.max.y,b.y)-S.max.y)/(P.max.y-S.max.y)-(Math.min(S.min.y,b.y)-S.min.y)/(P.min.y-S.min.y)).multiplyBy(d);h.panBy(A,{animate:!1}),this._draggable._newPos._add(A),this._draggable._startPos._add(A),ct(r._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=Ht(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(Et(this._panRequest),this._panRequest=Ht(this._adjustPan.bind(this,i)))},_onDrag:function(i){var r=this._marker,h=r._shadow,d=Le(r._icon),g=r._map.layerPointToLatLng(d);h&&ct(h,d),r._latlng=g,i.latlng=g,i.oldLatLng=this._oldLatLng,r.fire("move",i).fire("drag",i)},_onDragEnd:function(i){Et(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),bn=ae.extend({options:{icon:new vi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,r){vt(this,r),this._latlng=tt(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var r=this._latlng;return this._latlng=tt(i),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=i.icon.createIcon(this._icon),d=!1;h!==this._icon&&(this._icon&&this._removeIcon(),d=!0,i.title&&(h.title=i.title),"IMG"===h.tagName&&(h.alt=i.alt||"")),Y(h,r),i.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&q(h,"focus",this._panOnFocus,this);var g=i.icon.createShadow(this._shadow),b=!1;g!==this._shadow&&(this._removeShadow(),b=!0),g&&(Y(g,r),g.alt=""),this._shadow=g,i.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&b&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ft(this._icon,"focus",this._panOnFocus,this),ht(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ht(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&ct(this._icon,i),this._shadow&&ct(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var r=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(Y(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),lo)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new lo(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&dt(this._icon,i),this._shadow&&dt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var r=this.options.icon.options,h=r.iconSize?V(r.iconSize):V(0,0),d=r.iconAnchor?V(r.iconAnchor):V(0,0);i.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:h.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Oe=ae.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return vt(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),xn=Oe.extend({options:{fill:!0,radius:10},initialize:function(i,r){vt(this,r),this._latlng=tt(i),this._radius=this.options.radius},setLatLng:function(i){var r=this._latlng;return this._latlng=tt(i),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var r=i&&i.radius||this._radius;return Oe.prototype.setStyle.call(this,i),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,r=this._radiusY||i,h=this._clickTolerance(),d=[i+h,r+h];this._pxBounds=new xt(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var ts=xn.extend({initialize:function(i,r,h){if("number"==typeof r&&(r=ut({},h,{radius:r})),vt(this,r),this._latlng=tt(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new It(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Oe.prototype.setStyle,_project:function(){var i=this._latlng.lng,r=this._latlng.lat,h=this._map,d=h.options.crs;if(d.distance===Ie.distance){var g=Math.PI/180,b=this._mRadius/Ie.R/g,P=h.project([r+b,i]),k=h.project([r-b,i]),S=P.add(k).divideBy(2),A=h.unproject(S).lat,Z=Math.acos((Math.cos(b*g)-Math.sin(r*g)*Math.sin(A*g))/(Math.cos(r*g)*Math.cos(A*g)))/g;(isNaN(Z)||0===Z)&&(Z=b/Math.cos(Math.PI/180*r)),this._point=S.subtract(h.getPixelOrigin()),this._radius=isNaN(Z)?0:S.x-h.project([A,i-Z]).x,this._radiusY=S.y-P.y}else{var W=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(W).x}this._updateBounds()}});var ve=Oe.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,r){vt(this,r),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var g,b,r=1/0,h=null,d=Ct,P=0,k=this._parts.length;P<k;P++)for(var S=this._parts[P],A=1,Z=S.length;A<Z;A++){var W=d(i,g=S[A-1],b=S[A],!0);W<r&&(r=W,h=d(i,g,b))}return h&&(h.distance=Math.sqrt(r)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return oo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,r){return r=r||this._defaultShape(),i=tt(i),r.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new It,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return ot(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var r=[],h=ot(i),d=0,g=i.length;d<g;d++)h?(r[d]=tt(i[d]),this._bounds.extend(r[d])):r[d]=this._convertLatLngs(i[d]);return r},_project:function(){var i=new xt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),r=new j(i,i);!this._rawPxBounds||(this._pxBounds=new xt([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(i,r,h){var b,P,g=i.length;if(i[0]instanceof at){for(P=[],b=0;b<g;b++)P[b]=this._map.latLngToLayerPoint(i[b]),h.extend(P[b]);r.push(P)}else for(b=0;b<g;b++)this._projectLatlngs(i[b],r,h)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(i)){if(this.options.noClip)return void(this._parts=this._rings);var h,d,g,b,P,k,S,r=this._parts;for(h=0,g=0,b=this._rings.length;h<b;h++)for(d=0,P=(S=this._rings[h]).length;d<P-1;d++)(k=so(S[d],S[d+1],i,d,!0))&&(r[g]=r[g]||[],r[g].push(k[0]),(k[1]!==S[d+1]||d===P-2)&&(r[g].push(k[1]),g++))}},_simplifyPoints:function(){for(var i=this._parts,r=this.options.smoothFactor,h=0,d=i.length;h<d;h++)i[h]=eo(i[h],r)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,r){var h,d,g,b,P,k,S=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(h=0,b=this._parts.length;h<b;h++)for(d=0,g=(P=(k=this._parts[h]).length)-1;d<P;g=d++)if((r||0!==d)&&io(i,k[g],k[d])<=S)return!0;return!1}});ve._flat=gi;var xi=ve.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return to(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var r=ve.prototype._convertLatLngs.call(this,i),h=r.length;return h>=2&&r[0]instanceof at&&r[0].equals(r[h-1])&&r.pop(),r},_setLatLngs:function(i){ve.prototype._setLatLngs.call(this,i),ot(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ot(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,r=this.options.weight,h=new j(r,r);if(i=new xt(i.min.subtract(h),i.max.add(h)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(i)){if(this.options.noClip)return void(this._parts=this._rings);for(var b,d=0,g=this._rings.length;d<g;d++)(b=Zi(this._rings[d],i,!0)).length&&this._parts.push(b)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var h,d,g,b,P,k,S,A,r=!1;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(b=0,S=this._parts.length;b<S;b++)for(P=0,k=(A=(h=this._parts[b]).length)-1;P<A;k=P++)(d=h[P]).y>i.y!=(g=h[k]).y>i.y&&i.x<(g.x-d.x)*(i.y-d.y)/(g.y-d.y)+d.x&&(r=!r);return r||ve.prototype._containsPoint.call(this,i,!0)}});var Ae=_e.extend({initialize:function(i,r){vt(this,r),this._layers={},i&&this.addData(i)},addData:function(i){var h,d,g,r=se(i)?i:i.features;if(r){for(h=0,d=r.length;h<d;h++)((g=r[h]).geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var b=this.options;if(b.filter&&!b.filter(i))return this;var P=ni(i,b);return P?(P.feature=yn(i),P.defaultOptions=P.options,this.resetStyle(P),b.onEachFeature&&b.onEachFeature(i,P),this.addLayer(P)):this},resetStyle:function(i){return void 0===i?this.eachLayer(this.resetStyle,this):(i.options=ut({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(r){this._setLayerStyle(r,i)},this)},_setLayerStyle:function(i,r){i.setStyle&&("function"==typeof r&&(r=r(i.feature)),i.setStyle(r))}});function ni(i,r){var k,S,A,Z,h="Feature"===i.type?i.geometry:i,d=h?h.coordinates:null,g=[],b=r&&r.pointToLayer,P=r&&r.coordsToLatLng||es;if(!d&&!h)return null;switch(h.type){case"Point":return uo(b,i,k=P(d),r);case"MultiPoint":for(A=0,Z=d.length;A<Z;A++)k=P(d[A]),g.push(uo(b,i,k,r));return new _e(g);case"LineString":case"MultiLineString":return S=yi(d,"LineString"===h.type?0:1,P),new ve(S,r);case"Polygon":case"MultiPolygon":return S=yi(d,"Polygon"===h.type?1:2,P),new xi(S,r);case"GeometryCollection":for(A=0,Z=h.geometries.length;A<Z;A++){var W=ni({geometry:h.geometries[A],type:"Feature",properties:i.properties},r);W&&g.push(W)}return new _e(g);case"FeatureCollection":for(A=0,Z=h.features.length;A<Z;A++){var $=ni(h.features[A],r);$&&g.push($)}return new _e(g);default:throw new Error("Invalid GeoJSON object.")}}function uo(i,r,h,d){return i?i(r,h):new bn(h,d&&d.markersInheritOptions&&d)}function es(i){return new at(i[1],i[0],i[2])}function yi(i,r,h){for(var P,d=[],g=0,b=i.length;g<b;g++)P=r?yi(i[g],r-1,h):(h||es)(i[g]),d.push(P);return d}function Hi(i,r){return void 0!==(i=tt(i)).alt?[de(i.lng,r),de(i.lat,r),de(i.alt,r)]:[de(i.lng,r),de(i.lat,r)]}function si(i,r,h,d){for(var g=[],b=0,P=i.length;b<P;b++)g.push(r?si(i[b],ot(i[b])?0:r-1,h,d):Hi(i[b],d));return!r&&h&&g.length>0&&g.push(g[0].slice()),g}function De(i,r){return i.feature?ut({},i.feature,{geometry:r}):yn(r)}function yn(i){return"Feature"===i.type||"FeatureCollection"===i.type?i:{type:"Feature",properties:{},geometry:i}}var is={toGeoJSON:function(i){return De(this,{type:"Point",coordinates:Hi(this.getLatLng(),i)})}};function Ne(i,r){return new Ae(i,r)}bn.include(is),ts.include(is),xn.include(is),ve.include({toGeoJSON:function(i){var r=!ot(this._latlngs);return De(this,{type:(r?"Multi":"")+"LineString",coordinates:si(this._latlngs,r?1:0,!1,i)})}}),xi.include({toGeoJSON:function(i){var r=!ot(this._latlngs),h=r&&!ot(this._latlngs[0]),d=si(this._latlngs,h?2:r?1:0,!0,i);return r||(d=[d]),De(this,{type:(h?"Multi":"")+"Polygon",coordinates:d})}}),mi.include({toMultiPoint:function(i){var r=[];return this.eachLayer(function(h){r.push(h.toGeoJSON(i).geometry.coordinates)}),De(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(i){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===r)return this.toMultiPoint(i);var h="GeometryCollection"===r,d=[];return this.eachLayer(function(g){if(g.toGeoJSON){var b=g.toGeoJSON(i);if(h)d.push(b.geometry);else{var P=yn(b);"FeatureCollection"===P.type?d.push.apply(d,P.features):d.push(P)}}}),h?De(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});var mr=Ne,wn=ae.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,r,h){this._url=i,this._bounds=St(r),vt(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Y(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ht(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&$e(this._image),this},bringToBack:function(){return this._map&&Zt(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=St(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i="IMG"===this._url.tagName,r=this._image=i?this._url:nt("img");Y(r,"leaflet-image-layer"),this._zoomAnimated&&Y(r,"leaflet-zoom-animated"),this.options.className&&Y(r,this.options.className),r.onselectstart=Mt,r.onmousemove=Mt,r.onload=_t(this.fire,this,"load"),r.onerror=_t(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i?this._url=r.src:(r.src=this._url,r.alt=this.options.alt)},_animateZoom:function(i){var r=this._map.getZoomScale(i.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Ge(this._image,h,r)},_reset:function(){var i=this._image,r=new xt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=r.getSize();ct(i,r.min),i.style.width=h.x+"px",i.style.height=h.y+"px"},_updateOpacity:function(){dt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),fo=wn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i="VIDEO"===this._url.tagName,r=this._image=i?this._url:nt("video");if(Y(r,"leaflet-image-layer"),this._zoomAnimated&&Y(r,"leaflet-zoom-animated"),this.options.className&&Y(r,this.options.className),r.onselectstart=Mt,r.onmousemove=Mt,r.onloadeddata=_t(this.fire,this,"load"),i){for(var h=r.getElementsByTagName("source"),d=[],g=0;g<h.length;g++)d.push(h[g].src);this._url=h.length>0?d:[r.src]}else{se(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var b=0;b<this._url.length;b++){var P=nt("source");P.src=this._url[b],r.appendChild(P)}}}});var po=wn.extend({_initImage:function(){var i=this._image=this._url;Y(i,"leaflet-image-layer"),this._zoomAnimated&&Y(i,"leaflet-zoom-animated"),this.options.className&&Y(i,this.options.className),i.onselectstart=Mt,i.onmousemove=Mt}});var be=ae.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,r){i&&(i instanceof at||se(i))?(this._latlng=tt(i),vt(this,r)):(vt(this,i),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(i){return(i=arguments.length?i:this._source._map).hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&dt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&dt(this._container,1),this.bringToFront(),this.options.interactive&&(Y(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(dt(this._container,0),this._removeTimeout=setTimeout(_t(ht,void 0,this._container),200)):ht(this._container),this.options.interactive&&(wt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=tt(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$e(this._container),this},bringToBack:function(){return this._map&&Zt(this._container),this},_prepareOpen:function(i){var r=this._source;if(!r._map)return!1;if(r instanceof _e){r=null;var h=this._source._layers;for(var d in h)if(h[d]._map){r=h[d];break}if(!r)return!1;this._source=r}if(!i)if(r.getCenter)i=r.getCenter();else if(r.getLatLng)i=r.getLatLng();else{if(!r.getBounds)throw new Error("Unable to get source layer LatLng.");i=r.getBounds().getCenter()}return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,r="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof r)i.innerHTML=r;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),r=V(this.options.offset),h=this._getAnchor();this._zoomAnimated?ct(this._container,i.add(h)):r=r.add(i).add(h);var d=this._containerBottom=-r.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=d+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});X.include({_initOverlay:function(i,r,h,d){var g=r;return g instanceof i||(g=new i(d).setContent(r)),h&&g.setLatLng(h),g}}),ae.include({_initOverlay:function(i,r,h,d){var g=h;return g instanceof i?(vt(g,d),g._source=this):(g=r&&!d?r:new i(d,this)).setContent(h),g}});var Vi=be.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return!(i=arguments.length?i:this._source._map).hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,be.prototype.openOn.call(this,i)},onAdd:function(i){be.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Oe||this._source.on("preclick",Se))},onRemove:function(i){be.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Oe||this._source.off("preclick",Se))},getEvents:function(){var i=be.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",r=this._container=nt("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=nt("div",i+"-content-wrapper",r);if(this._contentNode=nt("div",i+"-content",h),Ke(r),mn(this._contentNode),q(r,"contextmenu",Se),this._tipContainer=nt("div",i+"-tip-container",r),this._tip=nt("div",i+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=nt("a",i+"-close-button",r);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',q(d,"click",function(g){Rt(g),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,r=i.style;r.width="",r.whiteSpace="nowrap";var h=i.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),r.width=h+1+"px",r.whiteSpace="",r.height="";var g=this.options.maxHeight,b="leaflet-popup-scrolled";g&&i.offsetHeight>g?(r.height=g+"px",Y(i,b)):wt(i,b),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var r=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),h=this._getAnchor();ct(this._container,r.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var i=this._map,r=parseInt(Oi(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+r,d=this._containerWidth,g=new j(this._containerLeft,-h-this._containerBottom);g._add(Le(this._container));var b=i.layerPointToContainerPoint(g),P=V(this.options.autoPanPadding),k=V(this.options.autoPanPaddingTopLeft||P),S=V(this.options.autoPanPaddingBottomRight||P),A=i.getSize(),Z=0,W=0;b.x+d+S.x>A.x&&(Z=b.x+d-A.x+S.x),b.x-Z-k.x<0&&(Z=b.x-k.x),b.y+h+S.y>A.y&&(W=b.y+h-A.y+S.y),b.y-W-k.y<0&&(W=b.y-k.y),(Z||W)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([Z,W]))}},_getAnchor:function(){return V(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});X.mergeOptions({closePopupOnClick:!0}),X.include({openPopup:function(i,r,h){return this._initOverlay(Vi,i,r,h).openOn(this),this},closePopup:function(i){return(i=arguments.length?i:this._popup)&&i.close(),this}}),ae.include({bindPopup:function(i,r){return this._popup=this._initOverlay(Vi,this._popup,i,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof _e||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(this._popup&&this._map){Je(i);var r=i.layer||i.target;if(this._popup._source===r&&!(r instanceof Oe))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng));this._popup._source=r,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){13===i.originalEvent.keyCode&&this._openPopup(i)}});var Pn=be.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){be.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){be.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=be.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){this._contentNode=this._container=nt("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+et(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var r,h,d=this._map,g=this._container,b=d.latLngToContainerPoint(d.getCenter()),P=d.layerPointToContainerPoint(i),k=this.options.direction,S=g.offsetWidth,A=g.offsetHeight,Z=V(this.options.offset),W=this._getAnchor();"top"===k?(r=S/2,h=A):"bottom"===k?(r=S/2,h=0):"center"===k?(r=S/2,h=A/2):"right"===k?(r=0,h=A/2):"left"===k?(r=S,h=A/2):P.x<b.x?(k="right",r=0,h=A/2):(k="left",r=S+2*(Z.x+W.x),h=A/2),i=i.subtract(V(r,h,!0)).add(Z).add(W),wt(g,"leaflet-tooltip-right"),wt(g,"leaflet-tooltip-left"),wt(g,"leaflet-tooltip-top"),wt(g,"leaflet-tooltip-bottom"),Y(g,"leaflet-tooltip-"+k),ct(g,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&dt(this._container,i)},_animateZoom:function(i){var r=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(r)},_getAnchor:function(){return V(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});X.include({openTooltip:function(i,r,h){return this._initOverlay(Pn,i,r,h).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),ae.include({bindTooltip:function(i,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Pn,this._tooltip,i,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(i||!this._tooltipHandlersAdded){var r=i?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[r](h),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof _e||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var r="function"==typeof i.getElement&&i.getElement();r&&(q(r,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),q(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var r="function"==typeof i.getElement&&i.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;return void this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(i)})}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var h,d,r=i.latlng;this._tooltip.options.sticky&&i.originalEvent&&(h=this._map.mouseEventToContainerPoint(i.originalEvent),d=this._map.containerPointToLayerPoint(h),r=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(r)}});var mo=_i.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var r=i&&"DIV"===i.tagName?i:document.createElement("div"),h=this.options;if(h.html instanceof Element?(cn(r),r.appendChild(h.html)):r.innerHTML=!1!==h.html?h.html:"",h.bgPos){var d=V(h.bgPos);r.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});_i.Default=vi;var xe=ae.extend({options:{tileSize:256,opacity:1,updateWhenIdle:N.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){vt(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),ht(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&($e(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Zt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Ls(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof j?i:new j(i,i)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var b,r=this.getPane().children,h=-i(-1/0,1/0),d=0,g=r.length;d<g;d++)b=r[d].style.zIndex,r[d]!==this._container&&b&&(h=i(h,+b));isFinite(h)&&(this.options.zIndex=h+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!N.ielt9){dt(this._container,this.options.opacity);var i=+new Date,r=!1,h=!1;for(var d in this._tiles){var g=this._tiles[d];if(g.current&&g.loaded){var b=Math.min(1,(i-g.loaded)/200);dt(g.el,b),b<1?r=!0:(g.active?h=!0:this._onOpaqueTile(g),g.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),r&&(Et(this._fadeFrame),this._fadeFrame=Ht(this._updateOpacity,this))}},_onOpaqueTile:Mt,_initContainer:function(){this._container||(this._container=nt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,r=this.options.maxZoom;if(void 0!==i){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===i?(this._levels[h].el.style.zIndex=r-Math.abs(i-h),this._onUpdateLevel(h)):(ht(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var d=this._levels[i],g=this._map;return d||((d=this._levels[i]={}).el=nt("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=r,d.origin=g.project(g.unproject(g.getPixelOrigin()),i).round(),d.zoom=i,this._setZoomTransform(d,g.getCenter(),g.getZoom()),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:Mt,_onRemoveLevel:Mt,_onCreateLevel:Mt,_pruneTiles:function(){if(this._map){var i,r,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom)return void this._removeAllTiles();for(i in this._tiles)(r=this._tiles[i]).retain=r.current;for(i in this._tiles)if((r=this._tiles[i]).current&&!r.active){var d=r.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var r in this._tiles)this._tiles[r].coords.z===i&&this._removeTile(r)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)ht(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,r,h,d){var g=Math.floor(i/2),b=Math.floor(r/2),P=h-1,k=new j(+g,+b);k.z=+P;var S=this._tileCoordsToKey(k),A=this._tiles[S];return A&&A.active?(A.retain=!0,!0):(A&&A.loaded&&(A.retain=!0),P>d&&this._retainParent(g,b,P,d))},_retainChildren:function(i,r,h,d){for(var g=2*i;g<2*i+2;g++)for(var b=2*r;b<2*r+2;b++){var P=new j(g,b);P.z=h+1;var k=this._tileCoordsToKey(P),S=this._tiles[k];S&&S.active?S.retain=!0:(S&&S.loaded&&(S.retain=!0),h+1<d&&this._retainChildren(g,b,h+1,d))}},_resetView:function(i){var r=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var r=this.options;return void 0!==r.minNativeZoom&&i<r.minNativeZoom?r.minNativeZoom:void 0!==r.maxNativeZoom&&r.maxNativeZoom<i?r.maxNativeZoom:i},_setView:function(i,r,h,d){var g=Math.round(r);g=void 0!==this.options.maxZoom&&g>this.options.maxZoom||void 0!==this.options.minZoom&&g<this.options.minZoom?void 0:this._clampZoom(g),(!d||this.options.updateWhenZooming&&g!==this._tileZoom)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==g&&this._update(i),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(i,r)},_setZoomTransforms:function(i,r){for(var h in this._levels)this._setZoomTransform(this._levels[h],i,r)},_setZoomTransform:function(i,r,h){var d=this._map.getZoomScale(h,i.zoom),g=i.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(r,h)).round();N.any3d?Ge(i.el,g,d):ct(i.el,g)},_resetGrid:function(){var i=this._map,r=i.options.crs,h=this._tileSize=this.getTileSize(),d=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,r.wrapLng[0]],d).x/h.x),Math.ceil(i.project([0,r.wrapLng[1]],d).x/h.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([r.wrapLat[0],0],d).y/h.x),Math.ceil(i.project([r.wrapLat[1],0],d).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var r=this._map,h=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),d=r.getZoomScale(h,this._tileZoom),g=r.project(i,this._tileZoom).floor(),b=r.getSize().divideBy(2*d);return new xt(g.subtract(b),g.add(b))},_update:function(i){var r=this._map;if(r){var h=this._clampZoom(r.getZoom());if(void 0===i&&(i=r.getCenter()),void 0!==this._tileZoom){var d=this._getTiledPixelBounds(i),g=this._pxBoundsToTileRange(d),b=g.getCenter(),P=[],k=this.options.keepBuffer,S=new xt(g.getBottomLeft().subtract([k,-k]),g.getTopRight().add([k,-k]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var A in this._tiles){var Z=this._tiles[A].coords;(Z.z!==this._tileZoom||!S.contains(new j(Z.x,Z.y)))&&(this._tiles[A].current=!1)}if(Math.abs(h-this._tileZoom)>1)return void this._setView(i,h);for(var W=g.min.y;W<=g.max.y;W++)for(var $=g.min.x;$<=g.max.x;$++){var Ft=new j($,W);if(Ft.z=this._tileZoom,this._isValidTile(Ft)){var Dt=this._tiles[this._tileCoordsToKey(Ft)];Dt?Dt.current=!0:P.push(Ft)}}if(P.sort(function(zt,He){return zt.distanceTo(b)-He.distanceTo(b)}),0!==P.length){this._loading||(this._loading=!0,this.fire("loading"));var te=document.createDocumentFragment();for($=0;$<P.length;$++)this._addTile(P[$],te);this._level.el.appendChild(te)}}}},_isValidTile:function(i){var r=this._map.options.crs;if(!r.infinite){var h=this._globalTileRange;if(!r.wrapLng&&(i.x<h.min.x||i.x>h.max.x)||!r.wrapLat&&(i.y<h.min.y||i.y>h.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(i);return St(this.options.bounds).overlaps(d)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var r=this._map,h=this.getTileSize(),d=i.scaleBy(h),g=d.add(h);return[r.unproject(d,i.z),r.unproject(g,i.z)]},_tileCoordsToBounds:function(i){var r=this._tileCoordsToNwSe(i),h=new It(r[0],r[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var r=i.split(":"),h=new j(+r[0],+r[1]);return h.z=+r[2],h},_removeTile:function(i){var r=this._tiles[i];!r||(ht(r.el),delete this._tiles[i],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Y(i,"leaflet-tile");var r=this.getTileSize();i.style.width=r.x+"px",i.style.height=r.y+"px",i.onselectstart=Mt,i.onmousemove=Mt,N.ielt9&&this.options.opacity<1&&dt(i,this.options.opacity)},_addTile:function(i,r){var h=this._getTilePos(i),d=this._tileCoordsToKey(i),g=this.createTile(this._wrapCoords(i),_t(this._tileReady,this,i));this._initTile(g),this.createTile.length<2&&Ht(_t(this._tileReady,this,i,null,g)),ct(g,h),this._tiles[d]={el:g,coords:i,current:!0},r.appendChild(g),this.fire("tileloadstart",{tile:g,coords:i})},_tileReady:function(i,r,h){r&&this.fire("tileerror",{error:r,tile:h,coords:i});var d=this._tileCoordsToKey(i);(h=this._tiles[d])&&(h.loaded=+new Date,this._map._fadeAnimated?(dt(h.el,0),Et(this._fadeFrame),this._fadeFrame=Ht(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),r||(Y(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),N.ielt9||!this._map._fadeAnimated?Ht(this._pruneTiles,this):setTimeout(_t(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var r=new j(this._wrapX?ne(i.x,this._wrapX):i.x,this._wrapY?ne(i.y,this._wrapY):i.y);return r.z=i.z,r},_pxBoundsToTileRange:function(i){var r=this.getTileSize();return new xt(i.min.unscaleBy(r).floor(),i.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});var ai=xe.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,r){this._url=i,(r=vt(this,r)).detectRetina&&N.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),"string"==typeof r.subdomains&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,r){return this._url===i&&void 0===r&&(r=!0),this._url=i,r||this.redraw(),this},createTile:function(i,r){var h=document.createElement("img");return q(h,"load",_t(this._tileOnLoad,this,r,h)),q(h,"error",_t(this._tileOnError,this,r,h)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(h.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(i),h},getTileUrl:function(i){var r={r:N.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-i.y;this.options.tms&&(r.y=h),r["-y"]=h}return Ss(this._url,ut(r,this.options))},_tileOnLoad:function(i,r){N.ielt9?setTimeout(_t(i,this,null,r),0):i(null,r)},_tileOnError:function(i,r,h){var d=this.options.errorTileUrl;d&&r.getAttribute("src")!==d&&(r.src=d),i(h,r)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom;return this.options.zoomReverse&&(i=this.options.maxZoom-i),i+this.options.zoomOffset},_getSubdomain:function(i){var r=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var i,r;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&((r=this._tiles[i].el).onload=Mt,r.onerror=Mt,!r.complete)){r.src=Qi;var h=this._tiles[i].coords;ht(r),delete this._tiles[i],this.fire("tileabort",{tile:r,coords:h})}},_removeTile:function(i){var r=this._tiles[i];if(r)return r.el.setAttribute("src",Qi),xe.prototype._removeTile.call(this,i)},_tileReady:function(i,r,h){if(this._map&&(!h||h.getAttribute("src")!==Qi))return xe.prototype._tileReady.call(this,i,r,h)}});function ns(i,r){return new ai(i,r)}var ss=ai.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,r){this._url=i;var h=ut({},this.defaultWmsParams);for(var d in r)d in this.options||(h[d]=r[d]);var g=(r=vt(this,r)).detectRetina&&N.retina?2:1,b=this.getTileSize();h.width=b.x*g,h.height=b.y*g,this.wmsParams=h},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,ai.prototype.onAdd.call(this,i)},getTileUrl:function(i){var r=this._tileCoordsToNwSe(i),h=this._crs,d=Vt(h.project(r[0]),h.project(r[1])),g=d.min,b=d.max,P=(this._wmsVersion>=1.3&&this._crs===vn?[g.y,g.x,b.y,b.x]:[g.x,g.y,b.x,b.y]).join(","),k=ai.prototype.getTileUrl.call(this,i);return k+On(this.wmsParams,k,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+P},setParams:function(i,r){return ut(this.wmsParams,i),r||this.redraw(),this}});ai.WMS=ss,ns.wms=function br(i,r){return new ss(i,r)};var ye=ae.extend({options:{padding:.1},initialize:function(i){vt(this,i),et(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Y(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,r){var h=this._map.getZoomScale(r,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,r),b=d.multiplyBy(-h).add(g).subtract(this._map._getNewPixelOrigin(i,r));N.any3d?Ge(this._container,b,h):ct(this._container,b)},_reset:function(){for(var i in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,r=this._map.getSize(),h=this._map.containerPointToLayerPoint(r.multiplyBy(-i)).round();this._bounds=new xt(h,h.add(r.multiplyBy(1+2*i)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),os=ye.extend({options:{tolerance:0},getEvents:function(){var i=ye.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ye.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");q(i,"mousemove",this._onMouseMove,this),q(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),q(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){Et(this._redrawRequest),delete this._ctx,ht(this._container),ft(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var r in this._redrawBounds=null,this._layers)this._layers[r]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ye.prototype._update.call(this);var i=this._bounds,r=this._container,h=i.getSize(),d=N.retina?2:1;ct(r,i.min),r.width=d*h.x,r.height=d*h.y,r.style.width=h.x+"px",r.style.height=h.y+"px",N.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){ye.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[et(i)]=i;var r=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var r=i._order,h=r.next,d=r.prev;h?h.prev=d:this._drawLast=d,d?d.next=h:this._drawFirst=h,delete i._order,delete this._layers[et(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if("string"==typeof i.options.dashArray){var d,g,r=i.options.dashArray.split(/[, ]+/),h=[];for(g=0;g<r.length;g++){if(d=Number(r[g]),isNaN(d))return;h.push(d)}i.options._dashArray=h}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){!this._map||(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||Ht(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var r=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new xt,this._redrawBounds.extend(i._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(i._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var r=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,r=this._redrawBounds;if(this._ctx.save(),r){var h=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)i=d.layer,(!r||i._pxBounds&&i._pxBounds.intersects(r))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,r){if(this._drawing){var h,d,g,b,P=i._parts,k=P.length,S=this._ctx;if(k){for(S.beginPath(),h=0;h<k;h++){for(d=0,g=P[h].length;d<g;d++)S[d?"lineTo":"moveTo"]((b=P[h][d]).x,b.y);r&&S.closePath()}this._fillStroke(S,i)}}},_updateCircle:function(i){if(this._drawing&&!i._empty()){var r=i._point,h=this._ctx,d=Math.max(Math.round(i._radius),1),g=(Math.max(Math.round(i._radiusY),1)||d)/d;1!==g&&(h.save(),h.scale(1,g)),h.beginPath(),h.arc(r.x,r.y/g,d,0,2*Math.PI,!1),1!==g&&h.restore(),this._fillStroke(h,i)}},_fillStroke:function(i,r){var h=r.options;h.fill&&(i.globalAlpha=h.fillOpacity,i.fillStyle=h.fillColor||h.color,i.fill(h.fillRule||"evenodd")),h.stroke&&0!==h.weight&&(i.setLineDash&&i.setLineDash(r.options&&r.options._dashArray||[]),i.globalAlpha=h.opacity,i.lineWidth=h.weight,i.strokeStyle=h.color,i.lineCap=h.lineCap,i.lineJoin=h.lineJoin,i.stroke())},_onClick:function(i){for(var h,d,r=this._map.mouseEventToLayerPoint(i),g=this._drawFirst;g;g=g.next)(h=g.layer).options.interactive&&h._containsPoint(r)&&("click"!==i.type&&"preclick"!==i.type||!this._map._draggableMoved(h))&&(d=h);this._fireEvent(!!d&&[d],i)},_onMouseMove:function(i){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var r=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,r)}},_handleMouseOut:function(i){var r=this._hoveredLayer;r&&(wt(this._container,"leaflet-interactive"),this._fireEvent([r],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,r){if(!this._mouseHoverThrottled){for(var h,d,g=this._drawFirst;g;g=g.next)(h=g.layer).options.interactive&&h._containsPoint(r)&&(d=h);d!==this._hoveredLayer&&(this._handleMouseOut(i),d&&(Y(this._container,"leaflet-interactive"),this._fireEvent([d],i,"mouseover"),this._hoveredLayer=d)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],i),this._mouseHoverThrottled=!0,setTimeout(_t(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,r,h){this._map._fireDOMEvent(r,h||r.type,i)},_bringToFront:function(i){var r=i._order;if(r){var h=r.next,d=r.prev;if(!h)return;h.prev=d,d?d.next=h:h&&(this._drawFirst=h),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(i)}},_bringToBack:function(i){var r=i._order;if(r){var h=r.next,d=r.prev;if(!d)return;d.next=h,h?h.prev=d:d&&(this._drawLast=d),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(i)}}});function vo(i){return N.canvas?new os(i):null}var Ui=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),xr={_initContainer:function(){this._container=nt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ye.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var r=i._container=Ui("shape");Y(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",i._path=Ui("path"),r.appendChild(i._path),this._updateStyle(i),this._layers[et(i)]=i},_addPath:function(i){var r=i._container;this._container.appendChild(r),i.options.interactive&&i.addInteractiveTarget(r)},_removePath:function(i){var r=i._container;ht(r),i.removeInteractiveTarget(r),delete this._layers[et(i)]},_updateStyle:function(i){var r=i._stroke,h=i._fill,d=i.options,g=i._container;g.stroked=!!d.stroke,g.filled=!!d.fill,d.stroke?(r||(r=i._stroke=Ui("stroke")),g.appendChild(r),r.weight=d.weight+"px",r.color=d.color,r.opacity=d.opacity,r.dashStyle=d.dashArray?se(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):"",r.endcap=d.lineCap.replace("butt","flat"),r.joinstyle=d.lineJoin):r&&(g.removeChild(r),i._stroke=null),d.fill?(h||(h=i._fill=Ui("fill")),g.appendChild(h),h.color=d.fillColor||d.color,h.opacity=d.fillOpacity):h&&(g.removeChild(h),i._fill=null)},_updateCircle:function(i){var r=i._point.round(),h=Math.round(i._radius),d=Math.round(i._radiusY||h);this._setPath(i,i._empty()?"M0 0":"AL "+r.x+","+r.y+" "+h+","+d+" 0,23592600")},_setPath:function(i,r){i._path.v=r},_bringToFront:function(i){$e(i._container)},_bringToBack:function(i){Zt(i._container)}},ji=N.vml?Ui:tn,qi=ye.extend({_initContainer:function(){this._container=ji("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ji("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ht(this._container),ft(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){ye.prototype._update.call(this);var i=this._bounds,r=i.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,h.setAttribute("width",r.x),h.setAttribute("height",r.y)),ct(h,i.min),h.setAttribute("viewBox",[i.min.x,i.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(i){var r=i._path=ji("path");i.options.className&&Y(r,i.options.className),i.options.interactive&&Y(r,"leaflet-interactive"),this._updateStyle(i),this._layers[et(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){ht(i._path),i.removeInteractiveTarget(i._path),delete this._layers[et(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var r=i._path,h=i.options;!r||(h.stroke?(r.setAttribute("stroke",h.color),r.setAttribute("stroke-opacity",h.opacity),r.setAttribute("stroke-width",h.weight),r.setAttribute("stroke-linecap",h.lineCap),r.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?r.setAttribute("stroke-dasharray",h.dashArray):r.removeAttribute("stroke-dasharray"),h.dashOffset?r.setAttribute("stroke-dashoffset",h.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),h.fill?(r.setAttribute("fill",h.fillColor||h.color),r.setAttribute("fill-opacity",h.fillOpacity),r.setAttribute("fill-rule",h.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(i,r){this._setPath(i,Ds(i._parts,r))},_updateCircle:function(i){var r=i._point,h=Math.max(Math.round(i._radius),1),g="a"+h+","+(Math.max(Math.round(i._radiusY),1)||h)+" 0 1,0 ",b=i._empty()?"M0 0":"M"+(r.x-h)+","+r.y+g+2*h+",0 "+g+2*-h+",0 ";this._setPath(i,b)},_setPath:function(i,r){i._path.setAttribute("d",r)},_bringToFront:function(i){$e(i._path)},_bringToBack:function(i){Zt(i._path)}});function rs(i){return N.svg||N.vml?new qi(i):null}N.vml&&qi.include(xr),X.include({getRenderer:function(i){var r=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(i){if("overlayPane"===i||void 0===i)return!1;var r=this._paneRenderers[i];return void 0===r&&(r=this._createRenderer({pane:i}),this._paneRenderers[i]=r),r},_createRenderer:function(i){return this.options.preferCanvas&&vo(i)||rs(i)}});var bo=xi.extend({initialize:function(i,r){xi.prototype.initialize.call(this,this._boundsToLatLngs(i),r)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return[(i=St(i)).getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});qi.create=ji,qi.pointsToPath=Ds,Ae.geometryToLayer=ni,Ae.coordsToLatLng=es,Ae.coordsToLatLngs=yi,Ae.latLngToCoords=Hi,Ae.latLngsToCoords=si,Ae.getFeature=De,Ae.asFeature=yn,X.mergeOptions({boxZoom:!0});var xo=Qt.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){q(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ft(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ht(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||1!==i.which&&1!==i.button)return!1;this._clearDeferredResetState(),this._resetState(),Jt(),$n(),this._startPoint=this._map.mouseEventToContainerPoint(i),q(document,{contextmenu:Je,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=nt("div","leaflet-zoom-box",this._container),Y(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var r=new xt(this._point,this._startPoint),h=r.getSize();ct(this._box,r.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(ht(this._box),wt(this._container,"leaflet-crosshair")),Ei(),dn(),ft(document,{contextmenu:Je,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if((1===i.which||1===i.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(_t(this._resetState,this),0);var r=new It(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(i){27===i.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});X.addInitHook("addHandler","boxZoom",xo),X.mergeOptions({doubleClickZoom:!0});var as=Qt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var r=this._map,h=r.getZoom(),d=r.options.zoomDelta,g=i.originalEvent.shiftKey?h-d:h+d;"center"===r.options.doubleClickZoom?r.setZoom(g):r.setZoomAround(i.containerPoint,g)}});X.addInitHook("addHandler","doubleClickZoom",as),X.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var yo=Qt.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new re(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Y(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){wt(this._map._container,"leaflet-grab"),wt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=St(this._map.options.maxBounds);this._offsetLimit=Vt(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var r=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(r),this._prunePositions(r)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,r){return i-(i-r)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var i=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;i.x<r.min.x&&(i.x=this._viscousLimit(i.x,r.min.x)),i.y<r.min.y&&(i.y=this._viscousLimit(i.y,r.min.y)),i.x>r.max.x&&(i.x=this._viscousLimit(i.x,r.max.x)),i.y>r.max.y&&(i.y=this._viscousLimit(i.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,r=Math.round(i/2),h=this._initialWorldOffset,d=this._draggable._newPos.x,g=(d-r+h)%i+r-h,b=(d+r+h)%i-r-h,P=Math.abs(g+h)<Math.abs(b+h)?g:b;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=P},_onDragEnd:function(i){var r=this._map,h=r.options,d=!h.inertia||i.noInertia||this._times.length<2;if(r.fire("dragend",i),d)r.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),P=h.easeLinearity,k=g.multiplyBy(P/((this._lastTime-this._times[0])/1e3)),S=k.distanceTo([0,0]),A=Math.min(h.inertiaMaxSpeed,S),Z=k.multiplyBy(A/S),W=A/(h.inertiaDeceleration*P),$=Z.multiplyBy(-W/2).round();$.x||$.y?($=r._limitOffset($,r.options.maxBounds),Ht(function(){r.panBy($,{duration:W,easeLinearity:P,noMoveStart:!0,animate:!0})})):r.fire("moveend")}}});X.addInitHook("addHandler","dragging",yo),X.mergeOptions({keyboard:!0,keyboardPanDelta:80});var we=Qt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),q(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ft(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,r=document.documentElement,h=i.scrollTop||r.scrollTop,d=i.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(d,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var d,g,r=this._panKeys={},h=this.keyCodes;for(d=0,g=h.left.length;d<g;d++)r[h.left[d]]=[-1*i,0];for(d=0,g=h.right.length;d<g;d++)r[h.right[d]]=[i,0];for(d=0,g=h.down.length;d<g;d++)r[h.down[d]]=[0,i];for(d=0,g=h.up.length;d<g;d++)r[h.up[d]]=[0,-1*i]},_setZoomDelta:function(i){var d,g,r=this._zoomKeys={},h=this.keyCodes;for(d=0,g=h.zoomIn.length;d<g;d++)r[h.zoomIn[d]]=i;for(d=0,g=h.zoomOut.length;d<g;d++)r[h.zoomOut[d]]=-i},_addHooks:function(){q(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ft(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var d,r=i.keyCode,h=this._map;if(r in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(d=this._panKeys[r],i.shiftKey&&(d=V(d).multiplyBy(3)),h.options.maxBounds&&(d=h._limitOffset(V(d),h.options.maxBounds)),h.options.worldCopyJump){var g=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(d)));h.panTo(g)}else h.panBy(d)}else if(r in this._zoomKeys)h.setZoom(h.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[r]);else{if(27!==r||!h._popup||!h._popup.options.closeOnEscapeKey)return;h.closePopup()}Je(i)}}});X.addInitHook("addHandler","keyboard",we),X.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ls=Qt.extend({addHooks:function(){q(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ft(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var r=$s(i),h=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var d=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(_t(this._performZoom,this),d),Je(i)},_performZoom:function(){var i=this._map,r=i.getZoom(),h=this._map.options.zoomSnap||0;i._stop();var g=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,b=h?Math.ceil(g/h)*h:g,P=i._limitZoom(r+(this._delta>0?b:-b))-r;this._delta=0,this._startTime=null,P&&("center"===i.options.scrollWheelZoom?i.setZoom(r+P):i.setZoomAround(this._lastMousePos,r+P))}});X.addInitHook("addHandler","scrollWheelZoom",ls);X.mergeOptions({tapHold:N.touchNative&&N.safari&&N.mobile,tapTolerance:15});var wo=Qt.extend({addHooks:function(){q(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ft(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),1===i.touches.length){var r=i.touches[0];this._startPos=this._newPos=new j(r.clientX,r.clientY),this._holdTimeout=setTimeout(_t(function(){this._cancel(),this._isTapValid()&&(q(document,"touchend",Rt),q(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),600),q(document,"touchend touchcancel contextmenu",this._cancel,this),q(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){ft(document,"touchend",Rt),ft(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),ft(document,"touchend touchcancel contextmenu",this._cancel,this),ft(document,"touchmove",this._onMove,this)},_onMove:function(i){var r=i.touches[0];this._newPos=new j(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,r){var h=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});h._simulated=!0,r.target.dispatchEvent(h)}});X.addInitHook("addHandler","tapHold",wo),X.mergeOptions({touchZoom:N.touch,bounceAtZoomLimits:!0});var hs=Qt.extend({addHooks:function(){Y(this._map._container,"leaflet-touch-zoom"),q(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){wt(this._map._container,"leaflet-touch-zoom"),ft(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var r=this._map;if(i.touches&&2===i.touches.length&&!r._animatingZoom&&!this._zooming){var h=r.mouseEventToContainerPoint(i.touches[0]),d=r.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),"center"!==r.options.touchZoom&&(this._pinchStartLatLng=r.containerPointToLatLng(h.add(d)._divideBy(2))),this._startDist=h.distanceTo(d),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),q(document,"touchmove",this._onTouchMove,this),q(document,"touchend touchcancel",this._onTouchEnd,this),Rt(i)}},_onTouchMove:function(i){if(i.touches&&2===i.touches.length&&this._zooming){var r=this._map,h=r.mouseEventToContainerPoint(i.touches[0]),d=r.mouseEventToContainerPoint(i.touches[1]),g=h.distanceTo(d)/this._startDist;if(this._zoom=r.getScaleZoom(g,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&g<1||this._zoom>r.getMaxZoom()&&g>1)&&(this._zoom=r._limitZoom(this._zoom)),"center"===r.options.touchZoom){if(this._center=this._startLatLng,1===g)return}else{var b=h._add(d)._divideBy(2)._subtract(this._centerPoint);if(1===g&&0===b.x&&0===b.y)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(b),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),Et(this._animRequest);var P=_t(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ht(P,this,!0),Rt(i)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Et(this._animRequest),ft(document,"touchmove",this._onTouchMove,this),ft(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});X.addInitHook("addHandler","touchZoom",hs),X.BoxZoom=xo,X.DoubleClickZoom=as,X.Drag=yo,X.Keyboard=we,X.ScrollWheelZoom=ls,X.TapHold=wo,X.TouchZoom=hs,D.Bounds=xt,D.Browser=N,D.CRS=ke,D.Canvas=os,D.Circle=ts,D.CircleMarker=xn,D.Class=Yt,D.Control=Bt,D.DivIcon=mo,D.DivOverlay=be,D.DomEvent=Gs,D.DomUtil=Nt,D.Draggable=re,D.Evented=$t,D.FeatureGroup=_e,D.GeoJSON=Ae,D.GridLayer=xe,D.Handler=Qt,D.Icon=_i,D.ImageOverlay=wn,D.LatLng=at,D.LatLngBounds=It,D.Layer=ae,D.LayerGroup=mi,D.LineUtil=Fe,D.Map=X,D.Marker=bn,D.Mixin=Qs,D.Path=Oe,D.Point=j,D.PolyUtil=hr,D.Polygon=xi,D.Polyline=ve,D.Popup=Vi,D.PosAnimation=Xs,D.Projection=ro,D.Rectangle=bo,D.Renderer=ye,D.SVG=qi,D.SVGOverlay=po,D.TileLayer=ai,D.Tooltip=Pn,D.Transformation=Rn,D.Util=Me,D.VideoOverlay=fo,D.bind=_t,D.bounds=Vt,D.canvas=vo,D.circle=function bi(i,r,h){return new ts(i,r,h)},D.circleMarker=function co(i,r){return new xn(i,r)},D.control=ti,D.divIcon=function vr(i){return new mo(i)},D.extend=ut,D.featureGroup=function(i,r){return new _e(i,r)},D.geoJSON=Ne,D.geoJson=mr,D.gridLayer=function _o(i){return new xe(i)},D.icon=function Qn(i){return new _i(i)},D.imageOverlay=function(i,r,h){return new wn(i,r,h)},D.latLng=tt,D.latLngBounds=St,D.layerGroup=function(i,r){return new mi(i,r)},D.map=function ar(i,r){return new X(i,r)},D.marker=function ho(i,r){return new bn(i,r)},D.point=V,D.polygon=function gr(i,r){return new xi(i,r)},D.polyline=function pr(i,r){return new ve(i,r)},D.popup=function(i,r){return new Vi(i,r)},D.rectangle=function Mn(i,r){return new bo(i,r)},D.setOptions=vt,D.stamp=et,D.svg=rs,D.svgOverlay=function go(i,r,h){return new po(i,r,h)},D.tileLayer=ns,D.tooltip=function(i,r){return new Pn(i,r)},D.transformation=ki,D.version="1.9.4",D.videoOverlay=function We(i,r,h){return new fo(i,r,h)};var wr=window.L;D.noConflict=function(){return window.L=wr,this},window.L=D}(ce)}}]);